/*! For license information please see main.c394e13d.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},244:function(e,t,n){var r=n(447),i=n(51).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},0:function(e,t,n){var r=n(244),i=n(51),a=i.each,o=i.isFunction,s=i.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}u.prototype={constructor:u,register:function(e,t,n){var i=this.queries,u=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,u)),o(t)&&(t={match:t}),s(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=u},447:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},51:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},153:function(e,t,n){var r=n(0);e.exports=new r},477:function(e,t,n){var r=n(806),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},95:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),f=Object.prototype.toString,h=Math.max,d=Math.min,p=function(){return c.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||o.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,a,o,s,u,l=0,c=!1,f=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function b(e){return l=e,s=setTimeout(w,t),c?g(e):o}function k(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=a}function w(){var e=p();if(k(e))return _(e);s=setTimeout(w,function(e){var n=t-(e-u);return f?d(n,a-(e-l)):n}(e))}function _(e){return s=void 0,y&&r?g(e):(r=i=void 0,o)}function x(){var e=p(),n=k(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return b(u);if(f)return s=setTimeout(w,t),g(u)}return void 0===s&&(s=setTimeout(w,t)),o}return t=m(t)||0,v(n)&&(c=!!n.leading,a=(f="maxWait"in n)?h(m(n.maxWait)||0,t):a,y="trailing"in n?!!n.trailing:y),x.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},x.flush=function(){return void 0===s?o:_(p())},x}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,j=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Pe(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Pe(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){De=!1}function Me(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,je=null,Fe=!1,Ve=null,Ue={onError:function(e){Le=!0,je=e}};function Be(e,t,n,r,i,a,o,s,u){Le=!1,je=null,Me.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,Tt=!1,Ct=[],It=null,Pt=null,Nt=null,At=new Map,Ot=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(Vt),Ot.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),null!==Nt&&Bt(Nt,e),At.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var zt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Kt(e,t,n,r){var i=bt,a=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=j({},ln,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(j({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),In=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(An),Dn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,jn=c&&(!Rn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Cr=Er("animationiteration"),Ir=Er("animationstart"),Pr=Er("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Rr=Ar[Dr];Or(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(Ir,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Pr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=je;Le=!1,je=null,Fe||(Fe=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Tr:case Cr:case Ir:u=yn;break;case Pr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&c.push(Wr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==l?s:ki(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==f&&Qr(o,f,l,c,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Hn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Oe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ci={},Ii=Si(Ci),Pi=Si(!1),Ni=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Pi),Ei(Ii)}function Ri(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ti(Ii,t),Ti(Pi,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ii.current,Ti(Ii,e),Ti(Pi,Pi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Pi),Ei(Ii),Ti(Ii,e)):Ei(Pi),Ti(Pi,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,qi),i}finally{bt=t,Ui=!1}}return null}var zi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){zi[Hi++]=Ki,zi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=zi[--Hi],zi[Hi]=null,Ki=zi[--Hi],zi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Al(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Al(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ta=null;function Ca(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nl(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nl(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nl(t,e,r,n),Ma(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function za(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ni:Ii.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Fl(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,s,u,l){var c=M(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Ml(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Rl(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Lu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Lu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Oo(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&jo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&jo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Pa(e,1);null!==t&&nl(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Co().memoizedState}function Bo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return qo(2048,8,e,t)}function Wo(e,t){return qo(4,2,e,t)}function Ko(e,t){return qo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Lu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Pu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Po,useRef:Uo,useState:function(){return Po(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Co(),mo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],Co().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],Co().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Cs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Du,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Oi(n)?Ni:Ii.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Is(e,t,n,r,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)zs(e,t),za(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ea(l):l=Ai(t,l=Oi(n)?Ni:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ha(t,o,r,l),Na=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Pi.current||Na?("function"===typeof c&&(Ua(t,n,c,r),u=t.memoizedState),(s=Na||qa(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ai(t,u=Oi(n)?Ni:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Pi.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(l=Na||qa(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Ds,Rs,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ll(u,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ms,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),nl(r,e,i,-1))}return vl(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dl(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Oi(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Pi),Ei(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Vr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ru&&(Ru=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Ks(t),null;case 10:return _a(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Ru||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Pi),Ei(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Vr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,$s=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=cu,i=fu;cu=null,hu(e,t,n),fu=i,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=fu,cu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),cu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sl(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,hu(e,t,n),$s=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));du(o,s,i),cu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Sl(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Sl(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sl(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sl(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Sl(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||f,vu(t,e),$s=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sl(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Sl(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Sl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Ys;var l=$s;if(Ys=o,($s=u)&&!l)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Js=u):_u(i);for(;null!==a;)Js=a,bu(a,t,n),a=a.sibling;Js=i,Ys=s,$s=l}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):ku(e)}}function ku(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}$s||512&t.flags&&iu(t)}catch(d){Sl(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sl(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sl(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sl(t,o,u)}}}catch(u){Sl(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var xu,Su=Math.ceil,Eu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Cu=k.ReactCurrentBatchConfig,Iu=0,Pu=null,Nu=null,Au=0,Ou=0,Du=Si(0),Ru=0,Mu=null,Lu=0,ju=0,Fu=0,Vu=null,Uu=null,Bu=0,qu=1/0,zu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Qu=null,Yu=0,$u=0,Xu=null,Ju=-1,Zu=0;function el(){return 0!==(6&Iu)?Xe():-1!==Ju?Ju:Ju=Xe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Au?Au&-Au:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Iu)&&e===Pu||(e===Pu&&(0===(2&Iu)&&(ju|=n),4===Ru&&sl(e,Au)),rl(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(qu=Xe()+500,Vi&&qi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Pu?Au:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(ul.bind(null,e)):Bi(ul.bind(null,e)),oi((function(){0===(6&Iu)&&qi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,Zu=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=ht(e,e===Pu?Au:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Iu;Iu|=2;var o=pl();for(Pu===e&&Au===t||(zu=null,qu=Xe()+500,hl(e,t));;)try{gl();break}catch(u){dl(e,u)}wa(),Eu.current=o,Iu=i,null!==Nu?t=0:(Pu=null,Au=0,t=Ru)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Mu,hl(e,0),sl(e,r),rl(e,Xe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Mu,hl(e,0),sl(e,r),rl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Uu,zu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Uu,zu),t);break}wl(e,Uu,zu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Uu,zu),r);break}wl(e,Uu,zu);break;default:throw Error(a(329))}}}return rl(e,Xe()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Uu,Uu=n,null!==t&&ol(t)),e}function ol(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function sl(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Iu))throw Error(a(327));_l();var t=ht(e,0);if(0===(1&t))return rl(e,Xe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Mu,hl(e,0),sl(e,t),rl(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Uu,zu),rl(e,Xe()),null}function ll(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(qu=Xe()+500,Vi&&qi())}}function cl(e){null!==Qu&&0===Qu.tag&&0===(6&Iu)&&_l();var t=Iu;Iu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Iu=t))&&qi()}}function fl(){Ou=Du.current,Ei(Du)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Pi),Ei(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Pu=e,Nu=e=Dl(e.current,null),Au=Ou=t,Ru=0,Mu=null,Fu=ju=Lu=0,Uu=Vu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dl(e,t){for(;;){var n=Nu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Tu.current=null,null===n||null===n.return){Ru=1,Mu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Au,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Ru&&(Ru=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kl(n)}catch(k){t=k,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pl(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vl(){0!==Ru&&3!==Ru&&2!==Ru||(Ru=4),null===Pu||0===(268435455&Lu)&&0===(268435455&ju)||sl(Pu,Au)}function ml(e,t){var n=Iu;Iu|=2;var r=pl();for(Pu===e&&Au===t||(zu=null,hl(e,t));;)try{yl();break}catch(i){dl(e,i)}if(wa(),Iu=n,Eu.current=r,null!==Nu)throw Error(a(261));return Pu=null,Au=0,Ru}function yl(){for(;null!==Nu;)bl(Nu)}function gl(){for(;null!==Nu&&!Ye();)bl(Nu)}function bl(e){var t=xu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?kl(e):Nu=t,Tu.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ou)))return void(Nu=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Ru=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Ru&&(Ru=5)}function wl(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{_l()}while(null!==Qu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Nu=Pu=null,Au=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Pl(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Iu;Iu|=4,Tu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gu(n,e,i),$e(),Iu=u,bt=s,Cu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Yu=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&Yu)&&0!==e.tag&&_l(),0!==(1&(o=e.pendingLanes))?e===Xu?$u++:($u=0,Xu=e):$u=0,qi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function _l(){if(null!==Qu){var e=kt(Yu),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){Sl(u,u.return,_)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Iu=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function xl(e,t,n){e=Ra(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Sl(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Ra(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Au&n)===n&&(4===Ru||3===Ru&&(130023424&Au)===Au&&500>Xe()-Bu?hl(e,0):Fu|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Pa(e,t))&&(yt(e,t,n),rl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Pl(e,t){return Ge(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Al(e,t,n,r){return new Nl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Al(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Ml(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Al(12,n,t,2|i)).elementType=E,e.lanes=o,e;case P:return(e=Al(13,n,t,i)).elementType=P,e.lanes=o,e;case N:return(e=Al(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Ll(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case I:s=11;break e;case A:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Al(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Al(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Al(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Al(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Al(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,i,a,o,s,u){return e=new Vl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Al(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ql(e){if(!e)return Ci;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Mi(e,n,t)}return t}function zl(e,t,n,r,i,a,o,s,u){return(e=Ul(n,r,!0,e,0,a,0,s,u)).context=ql(null),n=e.current,(a=Da(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Hl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=ql(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nl(e,i,o,a),Ma(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ti(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Pi.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zs(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,Sa(t,n),za(t,r,i),Wa(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=zl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Ul(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,qr(8===e.nodeType?e.parentNode:e),cl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}$l.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},$l.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Hl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rl(t,Xe()),0===(6&Iu)&&(qu=Xe()+500,qi()))}break;case 13:cl((function(){var t=Pa(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},_t=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),n=Pa(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,Pe=cl;var tc={usingClientEntryPoint:!1,Events:[bi,ki,wi,Te,Ce,ll]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return Bl(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},436:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=s(n(791)),a=s(n(694)),o=n(26);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var k=function(e){v(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,c(c({},n),r)):i.default.createElement("button",u({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);t.PrevArrow=k;var w=function(e){v(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,c(c({},n),r)):i.default.createElement("button",u({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);t.NextArrow=w},484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},800:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=s(n(791)),a=s(n(694)),o=n(26);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(p,e);var t,n,r,s=d(p);function p(){return c(this,p),s.apply(this,arguments)}return t=p,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,c=t.infinite,f=t.slidesToScroll,h=t.slidesToShow,d=t.slideCount,p=t.currentSlide,v=(e={slideCount:d,slidesToScroll:f,slidesToShow:h,infinite:c}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,m={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},y=[],g=0;g<v;g++){var b=(g+1)*f-1,k=c?b:(0,o.clamp)(b,0,d-1),w=k-(f-1),_=c?w:(0,o.clamp)(w,0,d-1),x=(0,a.default)({"slick-active":c?p>=_&&p<=k:p===_}),S={message:"dots",index:g,slidesToScroll:f,currentSlide:p},E=this.clickHandler.bind(this,S);y=y.concat(i.default.createElement("li",{key:g,className:x},i.default.cloneElement(this.props.customPaging(g),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(y),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},m))}}],n&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(i.default.PureComponent);t.Dots=m},717:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(178))&&r.__esModule?r:{default:r}).default;t.Z=i},382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(791)),i=h(n(382)),a=h(n(95)),o=h(n(694)),s=n(26),u=n(931),l=n(800),c=n(436),f=h(n(474));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(w,e);var t,n,h,m=k(w);function w(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),S(_(t=m.call(this,e)),"listRefHandler",(function(e){return t.list=e})),S(_(t),"trackRefHandler",(function(e){return t.track=e})),S(_(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),S(_(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(y(y({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=y({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),S(_(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),S(_(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(y(y({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=y(y({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),S(_(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),S(_(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Boolean(t.track&&t.track.node);if(n){var r=y(y({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(r,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),S(_(t),"updateState",(function(e,n,i){var a=(0,s.initializedState)(e);e=y(y(y({},e),a),{},{slideIndex:a.currentSlide});var o=(0,s.getTrackLeft)(e);e=y(y({},e),{},{left:o});var u=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=u),t.setState(a,i)})),S(_(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,s.getPreClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,s.getPostClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var u=0;u<a;u++)n+=i[i.length-1-u],e+=i[i.length-1-u];for(var l=0;l<o;l++)e+=i[l];for(var c=0;c<t.state.currentSlide;c++)n+=i[c];var f={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:f}}var d=r.default.Children.count(t.props.children),p=y(y(y({},t.props),t.state),{},{slideCount:d}),v=(0,s.getPreClones)(p)+(0,s.getPostClones)(p)+d,m=100/t.props.slidesToShow*v,g=100/v,b=-g*((0,s.getPreClones)(p)+t.state.currentSlide)*m/100;return t.props.centerMode&&(b+=(100-g*m/100)/2),{slideWidth:g+"%",trackStyle:{width:m+"%",left:b+"%"}}})),S(_(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),S(_(t),"progressiveLazyLoad",(function(){for(var e=[],n=y(y({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,s.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),S(_(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,u=r.speed,l=r.afterChange,c=t.state.currentSlide,f=(0,s.slideHandler)(y(y(y({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=f.state,d=f.nextState;if(h){a&&a(c,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),l&&l(c),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),d&&(t.animationEndCallback=setTimeout((function(){var e=d.animating,n=v(d,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),l&&l(h.currentSlide),delete t.animationEndCallback}))}),u))}))}})),S(_(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=y(y({},t.props),t.state),i=(0,s.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),S(_(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),S(_(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),S(_(t),"selectHandler",(function(e){t.changeSlide(e)})),S(_(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),S(_(t),"enableBodyScroll",(function(){window.ontouchmove=null})),S(_(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),S(_(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),S(_(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),S(_(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),S(_(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),S(_(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),S(_(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),S(_(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(y(y({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),S(_(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),S(_(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),S(_(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(_(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(_(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(_(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(_(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),S(_(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),S(_(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),f=y(y({},t.props),t.state),h=(0,s.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=t.props.pauseOnHover;if(h=y(y({},h),{},{onMouseEnter:d?t.onTrackOver:null,onMouseLeave:d?t.onTrackLeave:null,onMouseOver:d?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var v=(0,s.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=t.props.pauseOnDotsHover;v=y(y({},v),{},{clickHandler:t.changeSlide,onMouseEnter:m?t.onDotsLeave:null,onMouseOver:m?t.onDotsOver:null,onMouseLeave:m?t.onDotsLeave:null}),e=r.default.createElement(l.Dots,v)}var g=(0,s.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(c.PrevArrow,g),i=r.default.createElement(c.NextArrow,g));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var k=null;!1===t.props.vertical?!0===t.props.centerMode&&(k={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(k={padding:t.props.centerPadding+" 0px"});var w=y(y({},b),k),_=t.props.touchMove,x={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:_?t.swipeStart:null,onMouseMove:t.state.dragging&&_?t.swipeMove:null,onMouseUp:_?t.swipeEnd:null,onMouseLeave:t.state.dragging&&_?t.swipeEnd:null,onTouchStart:_?t.swipeStart:null,onTouchMove:t.state.dragging&&_?t.swipeMove:null,onTouchEnd:_?t.touchEnd:null,onTouchCancel:t.state.dragging&&_?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},S={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(x={className:"slick-list"},S={className:a}),r.default.createElement("div",S,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},x),r.default.createElement(u.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=y(y({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=y(y({},t.state),n),t}return t=w,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==d(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&g(t.prototype,n),h&&g(t,h),Object.defineProperty(t,"prototype",{writable:!1}),w}(r.default.Component);t.InnerSlider=E},178:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(n(791)),a=n(293),o=l(n(477)),s=l(n(484)),u=n(26);function l(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(0,u.canUseDOM)()&&n(153),w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var t,n,r,l=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),b(y(t=l.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),b(y(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),b(y(t),"slickNext",(function(){return t.innerSlider.slickNext()})),b(y(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),b(y(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),b(y(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=f,(n=[{key:"media",value:function(e,t){k.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,u.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){k.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},s.default),this.props),t[0].settings):h(h({},s.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var o=[],u=null,l=0;l<r.length;l+=e.rows*e.slidesPerRow){for(var f=[],d=l;d<l+e.rows*e.slidesPerRow;d+=e.slidesPerRow){for(var p=[],v=d;v<d+e.slidesPerRow&&(e.variableWidth&&r[v].props.style&&(u=r[v].props.style.width),!(v>=r.length));v+=1)p.push(i.default.cloneElement(r[v],{key:100*l+10*d+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(i.default.createElement("div",{key:10*l+d},p))}e.variableWidth?o.push(i.default.createElement("div",{key:l,style:{width:u}},f)):o.push(i.default.createElement("div",{key:l},f))}if("unslick"===e){var m="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:m},r)}return o.length<=e.slidesToShow&&(e.unslick=!0),i.default.createElement(a.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},e),o)}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(i.default.Component);t.default=w},931:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=s(n(791)),a=s(n(694)),o=n(26);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},k=function(e,t){return e.key||t},w=function(e){var t,n=[],r=[],s=[],u=i.default.Children.count(e.children),l=(0,o.lazyStartIndex)(e),c=(0,o.lazyEndIndex)(e);return i.default.Children.forEach(e.children,(function(f,h){var d,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?f:i.default.createElement("div",null);var v=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(y(y({},e),{},{index:h})),m=d.props.className||"",g=b(y(y({},e),{},{index:h}));if(n.push(i.default.cloneElement(d,{key:"original"+k(d,h),"data-index":h,className:(0,a.default)(g,m),tabIndex:"-1","aria-hidden":!g["slick-active"],style:y(y({outline:"none"},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var w=u-h;w<=(0,o.getPreClones)(e)&&u!==e.slidesToShow&&((t=-w)>=l&&(d=f),g=b(y(y({},e),{},{index:t})),r.push(i.default.cloneElement(d,{key:"precloned"+k(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(g,m),"aria-hidden":!g["slick-active"],style:y(y({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),u!==e.slidesToShow&&((t=u+h)<c&&(d=f),g=b(y(y({},e),{},{index:t})),s.push(i.default.cloneElement(d,{key:"postcloned"+k(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(g,m),"aria-hidden":!g["slick-active"],style:y(y({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?r.concat(n,s).reverse():r.concat(n,s)},_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(o,e);var t,n,r,a=h(o);function o(){var e;l(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=a.call.apply(a,[this].concat(n))),"node",null),g(p(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=w(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.default.PureComponent);t.Track=_},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var l=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=l;var c=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=c;t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)t.push(i);return t};var f=function(e){return e.currentSlide-d(e)};t.lazyStartIndex=f;var h=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=h;var d=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=d;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var v=function(e){return e&&e.offsetWidth||0};t.getWidth=v;var m=function(e){return e&&e.offsetHeight||0};t.getHeight=m;var y=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=y;var g=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=g;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(v(r)),s=e.trackRef&&e.trackRef.node,u=Math.ceil(v(s));if(e.vertical)t=a;else{var l=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(l*=a/100),t=Math.ceil((a-l)/e.slidesToShow)}var f=r&&m(r.querySelector('[data-index="0"]')),h=f*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var p=e.lazyLoadedList||[],y=c(o(o({},e),{},{currentSlide:d,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:a,trackWidth:u,currentSlide:d,slideHeight:f,listHeight:h,lazyLoadedList:p=p.concat(y)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,s=e.slideCount,l=e.lazyLoad,f=e.currentSlide,h=e.centerMode,d=e.slidesToScroll,p=e.slidesToShow,v=e.useCSS,m=e.lazyLoadedList;if(t&&n)return{};var y,b,k,w=a,_={},T={},C=i?a:u(a,0,s-1);if(r){if(!i&&(a<0||a>=s))return{};a<0?w=a+s:a>=s&&(w=a-s),l&&m.indexOf(w)<0&&(m=m.concat(w)),_={animating:!0,currentSlide:w,lazyLoadedList:m,targetSlide:w},T={animating:!1,targetSlide:w}}else y=w,w<0?(y=w+s,i?s%d!==0&&(y=s-s%d):y=0):!g(e)&&w>f?w=y=f:h&&w>=s?(w=i?s:s-1,y=i?0:s-1):w>=s&&(y=w-s,i?s%d!==0&&(y=0):y=s-p),!i&&w+p>=s&&(y=s-p),b=E(o(o({},e),{},{slideIndex:w})),k=E(o(o({},e),{},{slideIndex:y})),i||(b===k&&(w=y),b=k),l&&(m=m.concat(c(o(o({},e),{},{currentSlide:w})))),v?(_={animating:!0,currentSlide:y,trackStyle:S(o(o({},e),{},{left:b})),lazyLoadedList:m,targetSlide:C},T={animating:!1,currentSlide:y,trackStyle:x(o(o({},e),{},{left:k})),swipeLeft:null,targetSlide:C}):_={currentSlide:y,trackStyle:x(o(o({},e),{},{left:k})),lazyLoadedList:m,targetSlide:C};return{state:_,nextState:T}};t.changeSlide=function(e,t){var n,r,i,a,s=e.slidesToScroll,u=e.slidesToShow,l=e.slideCount,c=e.currentSlide,f=e.targetSlide,h=e.lazyLoad,d=e.infinite;if(n=l%s!==0?0:(l-c)%s,"previous"===t.message)a=c-(i=0===n?s:u-n),h&&!d&&(a=-1===(r=c-i)?l-1:r),d||(a=f-s);else if("next"===t.message)a=c+(i=0===n?s:n),h&&!d&&(a=(c+s)%l+n),d||(a=f+s);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,d){var p=P(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=l:a<t.currentSlide&&"right"===p&&(a+=l)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&l(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,s=t.verticalSwiping,u=t.rtl,c=t.currentSlide,f=t.edgeFriction,h=t.edgeDragged,d=t.onEdge,p=t.swiped,v=t.swiping,m=t.slideCount,b=t.slidesToScroll,k=t.infinite,w=t.touchObject,_=t.swipeEvent,S=t.listHeight,T=t.listWidth;if(!n){if(r)return l(e);i&&a&&s&&l(e);var C,I={},P=E(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var N=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!s&&!v&&N>10)return{scrolling:!0};s&&(w.swipeLength=N);var A=(u?-1:1)*(w.curX>w.startX?1:-1);s&&(A=w.curY>w.startY?1:-1);var O=Math.ceil(m/b),D=y(t.touchObject,s),R=w.swipeLength;return k||(0===c&&("right"===D||"down"===D)||c+1>=O&&("left"===D||"up"===D)||!g(t)&&("left"===D||"up"===D))&&(R=w.swipeLength*f,!1===h&&d&&(d(D),I.edgeDragged=!0)),!p&&_&&(_(D),I.swiped=!0),C=i?P+R*(S/T)*A:u?P-R*A:P+R*A,s&&(C=P+R*A),I=o(o({},I),{},{touchObject:w,swipeLeft:C,trackStyle:x(o(o({},t),{},{left:C}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?I:(w.swipeLength>10&&(I.swiping=!0,l(e)),I)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,s=t.touchThreshold,u=t.verticalSwiping,c=t.listHeight,f=t.swipeToSlide,h=t.scrolling,d=t.onSwipe,p=t.targetSlide,v=t.currentSlide,m=t.infinite;if(!n)return r&&l(e),{};var g=u?c/s:a/s,b=y(i,u),_={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return _;if(!i.swipeLength)return _;if(i.swipeLength>g){var x,T;l(e),d&&d(b);var C=m?v:p;switch(b){case"left":case"up":T=C+w(t),x=f?k(t,T):T,_.currentDirection=0;break;case"right":case"down":T=C-w(t),x=f?k(t,T):T,_.currentDirection=1;break;default:x=C}_.triggerSlideHandler=x}else{var I=E(t);_.trackStyle=S(o(o({},t),{},{left:I}))}return _};var b=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=b;var k=function(e,t){var n=b(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=k;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+m(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=w;var _=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=_;var x=function(e){var t,n;_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=I(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:s,msTransform:u})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=x;var S=function(e){_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=x(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=S;var E=function(e){if(e.unslick)return 0;_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,u=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,f=e.listWidth,h=e.variableWidth,d=e.slideHeight,p=e.fade,v=e.vertical;if(p||1===e.slideCount)return 0;var m=0;if(a?(m=-T(e),s%l!==0&&r+l>s&&(m=-(r>s?u-(r-s):s%l)),o&&(m+=parseInt(u/2))):(s%l!==0&&r+l>s&&(m=u-s%l),o&&(m=parseInt(u/2))),t=v?r*d*-1+m*d:r*c*-1+m*c,!0===h){var y,g=i&&i.node;if(y=r+T(e),t=(n=g&&g.childNodes[y])?-1*n.offsetLeft:0,!0===o){y=a?r+T(e):r,n=g&&g.children[y],t=0;for(var b=0;b<y;b++)t-=g&&g.children[b]&&g.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var T=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=T;var C=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=C;var I=function(e){return 1===e.slideCount?1:T(e)+e.slideCount+C(e)};t.getTotalSlides=I;var P=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+N(e)?"left":"right":e.targetSlide<e.currentSlide-A(e)?"right":"left"};t.siblingDirection=P;var N=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=N;var A=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=A;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},628:function(e,t,n){var r;e.exports=(r=n(791),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=5)}([function(e,t,n){var r=n(3);e.exports=n(8)(r.isElement,!0)},function(e,t){e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=n(7)},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=n(3),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.initializer.load(this,n,t),this.begin()}return r(e,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var e=this;this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout((function(){e.currentElContent&&0!==e.currentElContent.length?e.backspace(e.currentElContent,e.currentElContent.length):e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos)}),this.startDelay)}},{key:"typewrite",value:function(e,t){var n=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var r=this.humanizer(this.typeSpeed),i=1;!0!==this.pause.status?this.timeout=setTimeout((function(){t=a.htmlParser.typeHtmlChars(e,t,n);var r=0,o=e.substr(t);if("^"===o.charAt(0)&&/^\^\d+/.test(o)){var s=1;s+=(o=/\d+/.exec(o)[0]).length,r=parseInt(o),n.temporaryPause=!0,n.options.onTypingPaused(n.arrayPos,n),e=e.substring(0,t)+e.substring(t+s),n.toggleBlinking(!0)}if("`"===o.charAt(0)){for(;"`"!==e.substr(t+i).charAt(0)&&!(t+ ++i>e.length););var u=e.substring(0,t),l=e.substring(u.length+1,t+i),c=e.substring(t+i+1);e=u+l+c,i--}n.timeout=setTimeout((function(){n.toggleBlinking(!1),t>=e.length?n.doneTyping(e,t):n.keepTyping(e,t,i),n.temporaryPause&&(n.temporaryPause=!1,n.options.onTypingResumed(n.arrayPos,n))}),r)}),r):this.setPauseStatus(e,t,!0)}},{key:"keepTyping",value:function(e,t,n){0===t&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this)),t+=n;var r=e.substr(0,t);this.replaceText(r),this.typewrite(e,t)}},{key:"doneTyping",value:function(e,t){var n=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout((function(){n.backspace(e,t)}),this.backDelay))}},{key:"backspace",value:function(e,t){var n=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var r=this.humanizer(this.backSpeed);this.timeout=setTimeout((function(){t=a.htmlParser.backSpaceHtmlChars(e,t,n);var r=e.substr(0,t);if(n.replaceText(r),n.smartBackspace){var i=n.strings[n.arrayPos+1];i&&r===i.substr(0,t)?n.stopNum=t:n.stopNum=0}t>n.stopNum?(t--,n.backspace(e,t)):t<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],t))}),r)}else this.setPauseStatus(e,t,!0)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(e,t,n){this.pause.typewrite=n,this.pause.curString=e,this.pause.curStrPos=t}},{key:"toggleBlinking",value:function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&(this.cursorBlinking=e,e?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))}},{key:"humanizer",value:function(e){return Math.round(Math.random()*e/2)+e}},{key:"shuffleStringsIfNeeded",value:function(){this.shuffle&&(this.sequence=this.sequence.sort((function(){return Math.random()-.5})))}},{key:"initFadeOut",value:function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout((function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)}),this.fadeOutDelay)}},{key:"replaceText",value:function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:"html"===this.contentType?this.el.innerHTML=e:this.el.textContent=e}},{key:"bindFocusEvents",value:function(){var e=this;this.isInput&&(this.el.addEventListener("focus",(function(t){e.stop()})),this.el.addEventListener("blur",(function(t){e.el.value&&0!==e.el.value.length||e.start()})))}},{key:"insertCursor",value:function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))}}]),e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(r=n(2))&&r.__esModule?r:{default:r},s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"load",value:function(e,t,n){if(e.el="string"==typeof n?document.querySelector(n):n,e.options=i({},o.default,t),e.isInput="input"===e.el.tagName.toLowerCase(),e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map((function(e){return e.trim()})),"string"==typeof e.options.stringsElement?e.stringsElement=document.querySelector(e.options.stringsElement):e.stringsElement=e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.display="none";var r=Array.prototype.slice.apply(e.stringsElement.children),a=r.length;if(a)for(var s=0;s<a;s+=1){var u=r[s];e.strings.push(u.innerHTML.trim())}}for(var s in e.strPos=0,e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.sequence=[],e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.strings)e.sequence[s]=s;e.currentElContent=this.getCurrentElContent(e),e.autoInsertCss=e.options.autoInsertCss,this.appendAnimationCss(e)}},{key:"getCurrentElContent",value:function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:"html"===e.contentType?e.el.innerHTML:e.el.textContent}},{key:"appendAnimationCss",value:function(e){if(e.autoInsertCss&&(e.showCursor||e.fadeOut)&&!document.querySelector("[data-typed-js-css]")){var t=document.createElement("style");t.type="text/css",t.setAttribute("data-typed-js-css",!0);var n="";e.showCursor&&(n+="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),e.fadeOut&&(n+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      "),0!==t.length&&(t.innerHTML=n,document.body.appendChild(t))}}}]),e}();t.default=s;var u=new s;t.initializer=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onComplete:function(e){},preStringTyped:function(e,t){},onStringTyped:function(e,t){},onLastStringBackspaced:function(e){},onTypingPaused:function(e,t){},onTypingResumed:function(e,t){},onReset:function(e){},onStop:function(e,t){},onStart:function(e,t){},onDestroy:function(e){}};t.default=n,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"typeHtmlChars",value:function(e,t,n){if("html"!==n.contentType)return t;var r=e.substr(t).charAt(0);if("<"===r||"&"===r){var i="";for(i="<"===r?">":";";e.substr(t+1).charAt(0)!==i&&!(1+ ++t>e.length););t++}return t}},{key:"backSpaceHtmlChars",value:function(e,t,n){if("html"!==n.contentType)return t;var r=e.substr(t).charAt(0);if(">"===r||";"===r){var i="";for(i=">"===r?"<":"&";e.substr(t-1).charAt(0)!==i&&!(--t<0););t--}return t}}]),e}();t.default=r;var i=new r;t.htmlParser=i}])},e.exports=r()},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(0),o=n.n(a),s=n(4),u=n.n(s);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){var e,n,r,a,o,s,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];return r=this,n=!(a=(e=h(t)).call.apply(e,[this].concat(f)))||"object"!==l(a)&&"function"!=typeof a?d(r):a,o=d(n),s="rootElement",u=i.a.createRef(),s in o?Object.defineProperty(o,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[s]=u,n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.Component),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=(e.style,e.typedRef,e.stopped),n=(e.className,c(e,["style","typedRef","stopped","className"]));this.constructTyped(n),t&&this.typed.stop()}},{key:"constructTyped",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,r=(n.style,n.typedRef,n.stopped,n.className,c(n,["style","typedRef","stopped","className"]));this.typed&&this.typed.destroy(),this.typed=new u.a(this.rootElement.current,Object.assign(r,t)),this.props.typedRef&&this.props.typedRef(this.typed),this.typed.reConstruct=function(t){e.constructTyped(t)}}},{key:"shouldComponentUpdate",value:function(e){var t=this;if(this.props!==e){e.style,e.typedRef,e.stopped,e.className;var n=c(e,["style","typedRef","stopped","className"]);return this.typed.options=Object.assign(this.typed.options,n),!Object.keys(e).every((function(n){return!t.props[n]&&e[n]?(t.constructTyped(e),!1):(t.typed[n]&&(t.typed[n]=e[n]),!0)}))||this.props.strings.length===e.strings.length||this.constructTyped(e),!0}return!1}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=e.children,a=i.a.createElement("span",{ref:this.rootElement});return r&&(a=i.a.cloneElement(r,{ref:this.rootElement})),i.a.createElement("span",{style:t,className:n},a)}}])&&f(n.prototype,a),o&&f(n,o),t}();v.propTypes={style:o.a.object,className:o.a.string,children:o.a.object,typedRef:o.a.func,stopped:o.a.bool,strings:o.a.arrayOf(o.a.string),typeSpeed:o.a.number,startDelay:o.a.number,backSpeed:o.a.number,smartBackspace:o.a.bool,shuffle:o.a.bool,backDelay:o.a.number,fadeOut:o.a.bool,fadeOutClass:o.a.string,fadeOutDelay:o.a.number,loop:o.a.bool,loopCount:o.a.number,showCursor:o.a.bool,cursorChar:o.a.string,autoInsertCss:o.a.bool,attr:o.a.string,bindInputFocusEvents:o.a.bool,contentType:o.a.oneOf(["html",""]),onComplete:o.a.func,preStringTyped:o.a.func,onStringTyped:o.a.func,onLastStringBackspaced:o.a.func,onTypingPaused:o.a.func,onTypingResumed:o.a.func,onReset:o.a.func,onStop:o.a.func,onStart:o.a.func,onDestroy:o.a.func},t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118;function k(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case l:return e;default:return t}}case y:case m:case a:return t}}}function w(e){return k(e)===h}t.typeOf=k,t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=m,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===u||e===s||e===p||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b)},t.isAsyncMode=function(e){return w(e)||k(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return k(e)===d},t.isFragment=function(e){return k(e)===o},t.isLazy=function(e){return k(e)===y},t.isMemo=function(e){return k(e)===m},t.isPortal=function(e){return k(e)===a},t.isProfiler=function(e){return k(e)===u},t.isStrictMode=function(e){return k(e)===s},t.isSuspense=function(e){return k(e)===p}},function(e,t,n){"use strict";!function(){Object.defineProperty(t,"__esModule",{value:!0});var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,g=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!=typeof console&&console.warn(a);try{throw new Error(a)}catch(e){}},b=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];g.apply(void 0,[t].concat(r))}};function k(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var d=e.type;switch(d){case l:case c:case i:case o:case a:case h:return d;default:var m=d&&d.$$typeof;switch(m){case u:case f:case s:return m;default:return t}}case v:case p:case r:return t}}}var w=l,_=c,x=u,S=s,E=n,T=f,C=i,I=v,P=p,N=r,A=o,O=a,D=h,R=!1;function M(e){return k(e)===c}t.typeOf=k,t.AsyncMode=w,t.ConcurrentMode=_,t.ContextConsumer=x,t.ContextProvider=S,t.Element=E,t.ForwardRef=T,t.Fragment=C,t.Lazy=I,t.Memo=P,t.Portal=N,t.Profiler=A,t.StrictMode=O,t.Suspense=D,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===o||e===a||e===h||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===s||e.$$typeof===u||e.$$typeof===f||e.$$typeof===m||e.$$typeof===y)},t.isAsyncMode=function(e){return R||(R=!0,b(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),M(e)||k(e)===l},t.isConcurrentMode=M,t.isContextConsumer=function(e){return k(e)===u},t.isContextProvider=function(e){return k(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return k(e)===f},t.isFragment=function(e){return k(e)===i},t.isLazy=function(e){return k(e)===v},t.isMemo=function(e){return k(e)===p},t.isPortal=function(e){return k(e)===r},t.isProfiler=function(e){return k(e)===o},t.isStrictMode=function(e){return k(e)===a},t.isSuspense=function(e){return k(e)===h}}()},function(e,t,n){"use strict";var r=n(3),i=n(9),a=n(2),o=n(10),s=Function.call.bind(Object.prototype.hasOwnProperty),u=function(){};function l(){return null}u=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,c="@@iterator",f="<<anonymous>>",h={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:v(l),arrayOf:function(e){return v((function(t,n,r,i,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new p("Invalid "+i+" `"+o+"` of type `"+g(s)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<s.length;u++){var l=e(s,u,r,i,o+"["+u+"]",a);if(l instanceof Error)return l}return null}))},element:v((function(t,n,r,i,a){var o=t[n];return e(o)?null:new p("Invalid "+i+" `"+a+"` of type `"+g(o)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:v((function(e,t,n,i,a){var o=e[t];return r.isValidElementType(o)?null:new p("Invalid "+i+" `"+a+"` of type `"+g(o)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return v((function(t,n,r,i,a){if(!(t[n]instanceof e)){var o=e.name||f;return new p("Invalid "+i+" `"+a+"` of type `"+function(e){return e.constructor&&e.constructor.name?e.constructor.name:f}(t[n])+"` supplied to `"+r+"`, expected instance of `"+o+"`.")}return null}))},node:v((function(e,t,n,r,i){return y(e[t])?null:new p("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return v((function(t,n,r,i,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=t[n],l=g(u);if("object"!==l)return new p("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var c in u)if(s(u,c)){var f=e(u,c,r,i,o+"."+c,a);if(f instanceof Error)return f}return null}))},oneOf:function(e){return Array.isArray(e)?v((function(t,n,r,i,a){for(var o=t[n],s=0;s<e.length;s++)if(d(o,e[s]))return null;var u=JSON.stringify(e,(function(e,t){return"symbol"===b(t)?String(t):t}));return new p("Invalid "+i+" `"+a+"` of value `"+String(o)+"` supplied to `"+r+"`, expected one of "+u+".")})):(u(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),l)},oneOfType:function(e){if(!Array.isArray(e))return u("Invalid argument supplied to oneOfType, expected an instance of array."),l;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return u("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+k(n)+" at index "+t+"."),l}return v((function(t,n,r,i,o){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,i,o,a))return null;return new p("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}))},shape:function(e){return v((function(t,n,r,i,o){var s=t[n],u=g(s);if("object"!==u)return new p("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var c=e[l];if(c){var f=c(s,l,r,i,o+"."+l,a);if(f)return f}}return null}))},exact:function(e){return v((function(t,n,r,o,s){var u=t[n],l=g(u);if("object"!==l)return new p("Invalid "+o+" `"+s+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var c=i({},t[n],e);for(var f in c){var h=e[f];if(!h)return new p("Invalid "+o+" `"+s+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=h(u,f,r,o,s+"."+f,a);if(d)return d}return null}))}};function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){this.message=e,this.stack=""}function v(e){var n={},r=0;function i(i,o,s,l,c,h,d){if(l=l||f,h=h||s,d!==a){if(t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}if("undefined"!=typeof console){var m=l+":"+s;!n[m]&&r<3&&(u("You are manually calling a React.PropTypes validation function for the `"+h+"` prop on `"+l+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[m]=!0,r++)}}return null==o[s]?i?null===o[s]?new p("The "+c+" `"+h+"` is marked as required in `"+l+"`, but its value is `null`."):new p("The "+c+" `"+h+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:e(o,s,l,c,h)}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}function m(e){return v((function(t,n,r,i,a,o){var s=t[n];return g(s)!==e?new p("Invalid "+i+" `"+a+"` of type `"+b(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e[c]);if("function"==typeof t)return t}(t);if(!r)return!1;var i,a=r.call(t);if(r!==t.entries){for(;!(i=a.next()).done;)if(!y(i.value))return!1}else for(;!(i=a.next()).done;){var o=i.value;if(o&&!y(o[1]))return!1}return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function b(e){if(null==e)return""+e;var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function k(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,h.checkPropTypes=o,h.resetWarningCache=o.resetWarningCache,h.PropTypes=h,h}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";var r=function(){},i=n(2),a={},o=Function.call.bind(Object.prototype.hasOwnProperty);function s(e,t,n,s,u){for(var l in e)if(o(e,l)){var c;try{if("function"!=typeof e[l]){var f=Error((s||"React class")+": "+n+" type `"+l+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[l]+"`.");throw f.name="Invariant Violation",f}c=e[l](t,l,s,n,null,i)}catch(e){c=e}if(!c||c instanceof Error||r((s||"React class")+": type specification of "+n+" `"+l+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof c+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),c instanceof Error&&!(c.message in a)){a[c.message]=!0;var h=u?u():"";r("Failed "+n+" type: "+c.message+(null!=h?h:""))}}}r=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},s.resetWarningCache=function(){a={}},e.exports=s},function(e,t,n){"use strict";var r=n(2);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}}]))},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=P(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function s(){o(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},h=g(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=f(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=d(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=d(r.width),u=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=p(r,"left","right")+a),Math.round(u+o)!==n&&(u-=p(r,"top","bottom")+o)),!function(e){return e===f(e).document.documentElement}(e)){var l=Math.round(s+a)-t,c=Math.round(u+o)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return g(i.left,i.top,s,u)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function y(e){return i?m(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):v(e):h}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),k=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return c(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);c(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new k(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!==typeof WeakMap?new WeakMap:new r,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new w(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));var S="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:x;t.default=S},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,k(e),!v)if(null!==r(l))v=!0,D(_);else{var t=r(c);null!==t&&R(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(k(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!P());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),k(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&R(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,C=5,I=-1;function P(){return!(t.unstable_now()-I<C)}function N(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=N,x=function(){O.postMessage(null)}}else x=function(){y(N,0)};function D(e){E=e,S||(S=!0,x())}function R(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(T),T=-1):m=!0,R(w,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},806:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},564:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(791);t.default=function(e,t,n){var a=i.useMemo((function(){return r({serializer:JSON.stringify,parser:JSON.parse,logger:console.log,syncData:!0},n)}),[n]),o=a.serializer,s=a.parser,u=a.logger,l=a.syncData,c=i.useState((function(){if("undefined"===typeof window)return t;try{var n=window.localStorage.getItem(e);return n?s(n):t}catch(r){return u(r),t}})),f=c[0],h=c[1];return i.useEffect((function(){if("undefined"!==typeof window){try{void 0!==f?window.localStorage.setItem(e,o(f)):window.localStorage.removeItem(e)}catch(t){u(t)}}}),[f]),i.useEffect((function(){if(l){var t=function(t){if(t.key===e&&t.storageArea===window.localStorage)try{h(t.newValue?s(t.newValue):void 0)}catch(t){u(t)}};if("undefined"!==typeof window)return window.addEventListener("storage",t),function(){return window.removeEventListener("storage",t)}}}),[e,l]),[f,h]}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".9b8578ba.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="yushan1089.github.io:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkyushan1089_github_io=self.webpackChunkyushan1089_github_io||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return gf},SDK_VERSION:function(){return Fh},_DEFAULT_ENTRY_NAME:function(){return Eh},_addComponent:function(){return Ph},_addOrOverwriteComponent:function(){return Nh},_apps:function(){return Ch},_clearComponents:function(){return Rh},_components:function(){return Ih},_getProvider:function(){return Oh},_registerComponent:function(){return Ah},_removeServiceInstance:function(){return Dh},deleteApp:function(){return qh},getApp:function(){return Uh},getApps:function(){return Bh},initializeApp:function(){return Vh},onLog:function(){return Wh},registerVersion:function(){return Hh},setLogLevel:function(){return Kh}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}var c=n(184);var f=function(){return(0,c.jsxs)("div",{className:"BlogCover",children:[(0,c.jsx)("div",{class:"cover",id:"stripped",children:(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1500 1062",children:(0,c.jsx)("polyline",{points:"0,154 131,0 0,348 269,0 0,562 437,0 \r 0,766 565,14 0,1062 719,0 289,1062 843,0 543,1062 995,0 729,1062 1161,0 947,1062 1307,0 1143,1062 1500,162 1299,1062 1500,830"})})}),(0,c.jsxs)("div",{class:"title title--primary",children:[(0,c.jsx)("span",{class:"text-light",children:"Yushan Wang 9801"}),(0,c.jsx)("span",{class:"text-bold",children:"POSTS"})]}),(0,c.jsxs)("div",{class:"title title--secondary",children:[(0,c.jsx)("span",{class:"text-light",children:"Yushan Wang 9801"}),(0,c.jsx)("span",{class:"text-bold",children:"Posts"})]})]})};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(){},_={},x={},S=null,E={mark:w,measure:w};try{"undefined"!==typeof window&&(_=window),"undefined"!==typeof document&&(x=document),"undefined"!==typeof MutationObserver&&(S=MutationObserver),"undefined"!==typeof performance&&(E=performance)}catch(lB){}var T,C,I,P,N,A=(_.navigator||{}).userAgent,O=void 0===A?"":A,D=_,R=x,M=S,L=E,j=(D.document,!!R.documentElement&&!!R.head&&"function"===typeof R.addEventListener&&"function"===typeof R.createElement),F=~O.indexOf("MSIE")||~O.indexOf("Trident/"),V="svg-inline--fa",U="data-fa-i2svg",B="data-fa-pseudo-element",q="data-prefix",z="data-icon",H="fontawesome-i2svg",W=["HTML","HEAD","STYLE","SCRIPT"],K=function(){try{return!0}catch(lB){return!1}}(),G="classic",Q="sharp",Y=[G,Q];function $(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e.classic}})}var X=$((m(T={},G,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),m(T,Q,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular"}),T)),J=$((m(C={},G,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),m(C,Q,{solid:"fass",regular:"fasr"}),C)),Z=$((m(I={},G,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),m(I,Q,{fass:"fa-solid",fasr:"fa-regular"}),I)),ee=$((m(P={},G,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),m(P,Q,{"fa-solid":"fass","fa-regular":"fasr"}),P)),te=/fa(s|r|l|t|d|b|k|ss|sr)?[\-\ ]/,ne="fa-layers-text",re=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ie=$((m(N={},G,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),m(N,Q,{900:"fass",400:"fasr"}),N)),ae=[1,2,3,4,5,6,7,8,9,10],oe=ae.concat([11,12,13,14,15,16,17,18,19,20]),se=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ue="duotone-group",le="swap-opacity",ce="primary",fe="secondary",he=new Set;Object.keys(J.classic).map(he.add.bind(he)),Object.keys(J.sharp).map(he.add.bind(he));var de=[].concat(Y,g(he),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ue,le,ce,fe]).concat(ae.map((function(e){return"".concat(e,"x")}))).concat(oe.map((function(e){return"w-".concat(e)}))),pe=D.FontAwesomeConfig||{};if(R&&"function"===typeof R.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=y(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=R.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(pe[r]=i)}))}var ve={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:V,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};pe.familyPrefix&&(pe.cssPrefix=pe.familyPrefix);var me=d(d({},ve),pe);me.autoReplaceSvg||(me.observeMutations=!1);var ye={};Object.keys(ve).forEach((function(e){Object.defineProperty(ye,e,{enumerable:!0,set:function(t){me[e]=t,ge.forEach((function(e){return e(ye)}))},get:function(){return me[e]}})})),Object.defineProperty(ye,"familyPrefix",{enumerable:!0,set:function(e){me.cssPrefix=e,ge.forEach((function(e){return e(ye)}))},get:function(){return me.cssPrefix}}),D.FontAwesomeConfig=ye;var ge=[];var be=16,ke={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function we(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function _e(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function xe(e){return e.classList?_e(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Se(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ee(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Te(e){return e.size!==ke.size||e.x!==ke.x||e.y!==ke.y||e.rotate!==ke.rotate||e.flipX||e.flipY}function Ce(){var e="fa",t=V,n=ye.cssPrefix,r=ye.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var Ie=!1;function Pe(){ye.autoAddCss&&!Ie&&(!function(e){if(e&&j){var t=R.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=R.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}R.head.insertBefore(t,r)}}(Ce()),Ie=!0)}var Ne={mixout:function(){return{dom:{css:Ce,insertCss:Pe}}},hooks:function(){return{beforeDOMElementCreation:function(){Pe()},beforeI2svg:function(){Pe()}}}},Ae=D||{};Ae.___FONT_AWESOME___||(Ae.___FONT_AWESOME___={}),Ae.___FONT_AWESOME___.styles||(Ae.___FONT_AWESOME___.styles={}),Ae.___FONT_AWESOME___.hooks||(Ae.___FONT_AWESOME___.hooks={}),Ae.___FONT_AWESOME___.shims||(Ae.___FONT_AWESOME___.shims=[]);var Oe=Ae.___FONT_AWESOME___,De=[],Re=!1;function Me(e){j&&(Re?setTimeout(e,0):De.push(e))}function Le(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?Se(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Se(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(Le).join(""),"</").concat(t,">")}function je(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}j&&((Re=(R.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(R.readyState))||R.addEventListener("DOMContentLoaded",(function e(){R.removeEventListener("DOMContentLoaded",e),Re=1,De.map((function(e){return e()}))})));var Fe=function(e,t,n,r){var i,a,o,s=Object.keys(e),u=s.length,l=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<u;i++)o=l(o,e[a=s[i]],a,e);return o};function Ve(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Ue(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Be(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Ue(t);"function"!==typeof Oe.hooks.addPack||i?Oe.styles[e]=d(d({},Oe.styles[e]||{}),a):Oe.hooks.addPack(e,Ue(t)),"fas"===e&&Be("fa",t)}var qe,ze,He,We=Oe.styles,Ke=Oe.shims,Ge=(m(qe={},G,Object.values(Z.classic)),m(qe,Q,Object.values(Z.sharp)),qe),Qe=null,Ye={},$e={},Xe={},Je={},Ze={},et=(m(ze={},G,Object.keys(X.classic)),m(ze,Q,Object.keys(X.sharp)),ze);function tt(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~de.indexOf(n))?null:a}var nt=function(){var e=function(e){return Fe(We,(function(t,n,r){return t[r]=Fe(n,e,{}),t}),{})};Ye=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),$e=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),Ze=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in We||ye.autoFetchSvg,n=Fe(Ke,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Xe=n.names,Je=n.unicodes,Qe=st(ye.styleDefault,{family:ye.familyDefault})};function rt(e,t){return(Ye[e]||{})[t]}function it(e,t){return(Ze[e]||{})[t]}function at(e){return Xe[e]||{prefix:null,iconName:null}}function ot(){return Qe}!function(e){ge.push(e)}((function(e){Qe=st(e.styleDefault,{family:ye.familyDefault})})),nt();function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.family,r=void 0===n?G:n,i=X[r][e],a=J[r][e]||J[r][i],o=e in Oe.styles?e:null;return a||o||null}var ut=(m(He={},G,Object.keys(Z.classic)),m(He,Q,Object.keys(Z.sharp)),He);function lt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.skipLookups,i=void 0!==r&&r,a=(m(t={},G,"".concat(ye.cssPrefix,"-").concat(G)),m(t,Q,"".concat(ye.cssPrefix,"-").concat(Q)),t),o=null,s=G;(e.includes(a.classic)||e.some((function(e){return ut.classic.includes(e)})))&&(s=G),(e.includes(a.sharp)||e.some((function(e){return ut.sharp.includes(e)})))&&(s=Q);var u=e.reduce((function(e,t){var n=tt(ye.cssPrefix,t);if(We[t]?(t=Ge[s].includes(t)?ee[s][t]:t,o=t,e.prefix=t):et[s].indexOf(t)>-1?(o=t,e.prefix=st(t,{family:s})):n?e.iconName=n:t!==ye.replacementClass&&t!==a.classic&&t!==a.sharp&&e.rest.push(t),!i&&e.prefix&&e.iconName){var r="fa"===o?at(e.iconName):{},u=it(e.prefix,e.iconName);r.prefix&&(o=null),e.iconName=r.iconName||u||e.iconName,e.prefix=r.prefix||e.prefix,"far"!==e.prefix||We.far||!We.fas||ye.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return(e.includes("fa-brands")||e.includes("fab"))&&(u.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(u.prefix="fad"),u.prefix||s!==Q||!We.fass&&!ye.autoFetchSvg||(u.prefix="fass",u.iconName=it(u.prefix,u.iconName)||u.iconName),"fa"!==u.prefix&&"fa"!==o||(u.prefix=ot()||"fas"),u}var ct=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=d(d({},e.definitions[t]||{}),i[t]),Be(t,i[t]);var n=Z.classic[t];n&&Be(n,i[t]),nt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ft=[],ht={},dt={},pt=Object.keys(dt);function vt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=ht[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function mt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ht[e]||[];i.forEach((function(e){e.apply(null,n)}))}function yt(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return dt[e]?dt[e].apply(null,t):void 0}function gt(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||ot();if(t)return t=it(n,t)||t,je(bt.definitions,n,t)||je(Oe.styles,n,t)}var bt=new ct,kt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j?(mt("beforeI2svg",e),yt("pseudoElements2svg",e),yt("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===ye.autoReplaceSvg&&(ye.autoReplaceSvg=!0),ye.observeMutations=!0,Me((function(){xt({autoReplaceSvgRoot:t}),mt("watch",e)}))}},wt={icon:function(e){if(null===e)return null;if("object"===p(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:it(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=st(e[0]);return{prefix:n,iconName:it(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(ye.cssPrefix,"-"))>-1||e.match(te))){var r=lt(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||ot(),iconName:it(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=ot();return{prefix:i,iconName:it(i,e)||e}}}},_t={noAuto:function(){ye.autoReplaceSvg=!1,ye.observeMutations=!1,mt("noAuto")},config:ye,dom:kt,parse:wt,library:bt,findIconDefinition:gt,toHtml:Le},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?R:t;(Object.keys(Oe.styles).length>0||ye.autoFetchSvg)&&j&&ye.autoReplaceSvg&&_t.dom.i2svg({node:n})};function St(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Le(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(j){var t=R.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Et(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,u=e.title,l=e.maskId,c=e.titleId,f=e.extra,h=e.watchable,p=void 0!==h&&h,v=r.found?r:n,m=v.width,y=v.height,g="fak"===i,b=[ye.replacementClass,a?"".concat(ye.cssPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),k={children:[],attributes:d(d({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:b,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)})},w=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};p&&(k.attributes[U]=""),u&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(c||we())},children:[u]}),delete k.attributes.title);var _=d(d({},k),{},{prefix:i,iconName:a,main:n,mask:r,maskId:l,transform:o,symbol:s,styles:d(d({},w),f.styles)}),x=r.found&&n.found?yt("generateAbstractMask",_)||{children:[],attributes:{}}:yt("generateAbstractIcon",_)||{children:[],attributes:{}},S=x.children,E=x.attributes;return _.children=S,_.attributes=E,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(ye.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:d(d({},i),{},{id:o}),children:r}]}]}(_):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(Te(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=Ee(d(d({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(_)}function Tt(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,u=void 0!==s&&s,l=d(d(d({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});u&&(l[U]="");var c=d({},o.styles);Te(i)&&(c.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,s=void 0!==o&&o,u="";return u+=s&&F?"translate(".concat(t.x/be-r/2,"em, ").concat(t.y/be-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/be,"em), calc(-50% + ").concat(t.y/be,"em)) "):"translate(".concat(t.x/be,"em, ").concat(t.y/be,"em) "),u+="scale(".concat(t.size/be*(t.flipX?-1:1),", ").concat(t.size/be*(t.flipY?-1:1),") "),u+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);var f=Ee(c);f.length>0&&(l.style=f);var h=[];return h.push({tag:"span",attributes:l,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function Ct(e){var t=e.content,n=e.title,r=e.extra,i=d(d(d({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=Ee(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var It=Oe.styles;function Pt(e){var t=e[0],n=e[1],r=y(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(ye.cssPrefix,"-").concat(ue)},children:[{tag:"path",attributes:{class:"".concat(ye.cssPrefix,"-").concat(fe),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(ye.cssPrefix,"-").concat(ce),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var Nt={found:!1,width:512,height:512};function At(e,t){var n=t;return"fa"===t&&null!==ye.styleDefault&&(t=ot()),new Promise((function(r,i){yt("missingIconAbstract");if("fa"===n){var a=at(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&It[t]&&It[t][e])return r(Pt(It[t][e]));!function(e,t){K||ye.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(d(d({},Nt),{},{icon:ye.showMissingIcons&&e&&yt("missingIconAbstract")||{}}))}))}var Ot=function(){},Dt=ye.measurePerformance&&L&&L.mark&&L.measure?L:{mark:Ot,measure:Ot},Rt='FA "6.3.0"',Mt=function(e){Dt.mark("".concat(Rt," ").concat(e," ends")),Dt.measure("".concat(Rt," ").concat(e),"".concat(Rt," ").concat(e," begins"),"".concat(Rt," ").concat(e," ends"))},Lt=function(e){return Dt.mark("".concat(Rt," ").concat(e," begins")),function(){return Mt(e)}},jt=function(){};function Ft(e){return"string"===typeof(e.getAttribute?e.getAttribute(U):null)}function Vt(e){return R.createElementNS("http://www.w3.org/2000/svg",e)}function Ut(e){return R.createElement(e)}function Bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?Vt:Ut:n;if("string"===typeof e)return R.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(Bt(e,{ceFn:r}))})),i}var qt={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Bt(e),t)})),null===t.getAttribute(U)&&ye.keepOriginalSource){var n=R.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~xe(t).indexOf(ye.replacementClass))return qt.replace(e);var r=new RegExp("".concat(ye.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===ye.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return Le(e)})).join("\n");t.setAttribute(U,""),t.innerHTML=a}};function zt(e){e()}function Ht(e,t){var n="function"===typeof t?t:jt;if(0===e.length)n();else{var r=zt;"async"===ye.mutateApproach&&(r=D.requestAnimationFrame||zt),r((function(){var t=!0===ye.autoReplaceSvg?qt.replace:qt[ye.autoReplaceSvg]||qt.replace,r=Lt("mutate");e.map(t),r(),n()}))}}var Wt=!1;function Kt(){Wt=!0}function Gt(){Wt=!1}var Qt=null;function Yt(e){if(M&&ye.observeMutations){var t=e.treeCallback,n=void 0===t?jt:t,r=e.nodeCallback,i=void 0===r?jt:r,a=e.pseudoElementsCallback,o=void 0===a?jt:a,s=e.observeMutationsRoot,u=void 0===s?R:s;Qt=new M((function(e){if(!Wt){var t=ot();_e(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Ft(e.addedNodes[0])&&(ye.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&ye.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&Ft(e.target)&&~se.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(q):null,n=e.getAttribute?e.getAttribute(z):null;return t&&n}(e.target)){var r=lt(xe(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(q,a||t),s&&e.target.setAttribute(z,s)}else(u=e.target)&&u.classList&&u.classList.contains&&u.classList.contains(ye.replacementClass)&&i(e.target);var u}))}})),j&&Qt.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function $t(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function Xt(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=lt(xe(e));return i.prefix||(i.prefix=ot()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return($e[e]||{})[t]}(i.prefix,e.innerText)||rt(i.prefix,Ve(e.innerText))),!i.iconName&&ye.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Jt(e){var t=_e(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return ye.autoA11y&&(n?t["aria-labelledby"]="".concat(ye.replacementClass,"-title-").concat(r||we()):(t["aria-hidden"]="true",t.focusable="false")),t}function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Xt(e),r=n.iconName,i=n.prefix,a=n.rest,o=Jt(e),s=vt("parseNodeAttributes",{},e),u=t.styleParser?$t(e):[];return d({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:ke,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:u,attributes:o}},s)}var en=Oe.styles;function tn(e){var t="nest"===ye.autoReplaceSvg?Zt(e,{styleParser:!1}):Zt(e);return~t.extra.classes.indexOf(ne)?yt("generateLayersText",e,t):yt("generateSvgReplacementMutation",e,t)}var nn=new Set;function rn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!j)return Promise.resolve();var n=R.documentElement.classList,r=function(e){return n.add("".concat(H,"-").concat(e))},i=function(e){return n.remove("".concat(H,"-").concat(e))},a=ye.autoFetchSvg?nn:Y.map((function(e){return"fa-".concat(e)})).concat(Object.keys(en));a.includes("fa")||a.push("fa");var o=[".".concat(ne,":not([").concat(U,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(U,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=_e(e.querySelectorAll(o))}catch(lB){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var u=Lt("onTree"),l=s.reduce((function(e,t){try{var n=tn(t);n&&e.push(n)}catch(lB){K||"MissingIcon"===lB.name&&console.error(lB)}return e}),[]);return new Promise((function(e,n){Promise.all(l).then((function(n){Ht(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),u(),e()}))})).catch((function(e){u(),n(e)}))}))}function an(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;tn(e).then((function(e){e&&Ht([e],t)}))}Y.map((function(e){nn.add("fa-".concat(e))})),Object.keys(X.classic).map(nn.add.bind(nn)),Object.keys(X.sharp).map(nn.add.bind(nn)),nn=g(nn);var on=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ke:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,u=t.maskId,l=void 0===u?null:u,c=t.title,f=void 0===c?null:c,h=t.titleId,p=void 0===h?null:h,v=t.classes,m=void 0===v?[]:v,y=t.attributes,g=void 0===y?{}:y,b=t.styles,k=void 0===b?{}:b;if(e){var w=e.prefix,_=e.iconName,x=e.icon;return St(d({type:"icon"},e),(function(){return mt("beforeDOMElementCreation",{iconDefinition:e,params:t}),ye.autoA11y&&(f?g["aria-labelledby"]="".concat(ye.replacementClass,"-title-").concat(p||we()):(g["aria-hidden"]="true",g.focusable="false")),Et({icons:{main:Pt(x),mask:s?Pt(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:_,transform:d(d({},ke),r),symbol:a,title:f,maskId:l,titleId:p,extra:{attributes:g,styles:k,classes:m}})}))}},sn={mixout:function(){return{icon:(e=on,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:gt(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:gt(i||{})),e(r,d(d({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=rn,e.nodeCallback=an,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?R:t,r=e.callback;return rn(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,u=t.mask,l=t.maskId,c=t.extra;return new Promise((function(t,f){Promise.all([At(n,a),u.iconName?At(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(u){var f=y(u,2),h=f[0],d=f[1];t([e,Et({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:s,maskId:l,title:r,titleId:i,extra:c,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=Ee(e.styles);return o.length>0&&(r.style=o),Te(a)&&(t=yt("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},un={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return St({type:"layer"},(function(){mt("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(ye.cssPrefix,"-layers")].concat(g(r)).join(" ")},children:n}]}))}}}},ln={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,u=t.styles,l=void 0===u?{}:u;return St({type:"counter",content:e},(function(){return mt("beforeDOMElementCreation",{content:e,params:t}),Ct({content:e.toString(),title:r,extra:{attributes:s,styles:l,classes:["".concat(ye.cssPrefix,"-layers-counter")].concat(g(a))}})}))}}}},cn={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ke:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,u=t.attributes,l=void 0===u?{}:u,c=t.styles,f=void 0===c?{}:c;return St({type:"text",content:e},(function(){return mt("beforeDOMElementCreation",{content:e,params:t}),Tt({content:e,transform:d(d({},ke),r),title:a,extra:{attributes:l,styles:f,classes:["".concat(ye.cssPrefix,"-layers-text")].concat(g(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(F){var s=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();a=u.width/s,o=u.height/s}return ye.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,Tt({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},fn=new RegExp('"',"ug"),hn=[1105920,1112319];function dn(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=_e(e.children).filter((function(e){return e.getAttribute(B)===t}))[0],o=D.getComputedStyle(e,t),s=o.getPropertyValue("font-family").match(re),u=o.getPropertyValue("font-weight"),l=o.getPropertyValue("content");if(a&&!s)return e.removeChild(a),r();if(s&&"none"!==l&&""!==l){var c=o.getPropertyValue("content"),f=~["Sharp"].indexOf(s[2])?Q:G,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?J[f][s[2].toLowerCase()]:ie[f][u],p=function(e){var t=e.replace(fn,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=hn[0]&&n<=hn[1],i=2===t.length&&t[0]===t[1];return{value:Ve(i?t[0]:t),isSecondary:r||i}}(c),v=p.value,m=p.isSecondary,y=s[0].startsWith("FontAwesome"),g=rt(h,v),b=g;if(y){var k=function(e){var t=Je[e],n=rt("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(v);k.iconName&&k.prefix&&(g=k.iconName,h=k.prefix)}if(!g||m||a&&a.getAttribute(q)===h&&a.getAttribute(z)===b)r();else{e.setAttribute(n,b),a&&e.removeChild(a);var w={iconName:null,title:null,titleId:null,prefix:null,transform:ke,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},_=w.extra;_.attributes[B]=t,At(g,h).then((function(i){var a=Et(d(d({},w),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:b,extra:_,watchable:!0})),o=R.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return Le(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function pn(e){return Promise.all([dn(e,"::before"),dn(e,"::after")])}function vn(e){return e.parentNode!==document.head&&!~W.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(B)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function mn(e){if(j)return new Promise((function(t,n){var r=_e(e.querySelectorAll("*")).filter(vn).map(pn),i=Lt("searchPseudoElements");Kt(),Promise.all(r).then((function(){i(),Gt(),t()})).catch((function(){i(),Gt(),n()}))}))}var yn=!1,gn=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},bn={mixout:function(){return{parse:{transform:function(e){return gn(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=gn(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),l={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(u)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:d({},l.outer),children:[{tag:"g",attributes:d({},l.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:d(d({},t.icon.attributes),l.path)}]}]}}}},kn={x:0,y:0,width:"100%",height:"100%"};function wn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var _n={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?lt(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=ot()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,u=i.width,l=i.icon,c=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:c,iconWidth:u}),p={tag:"rect",attributes:d(d({},kn),{},{fill:"white"})},v=l.children?{children:l.children.map(wn)}:{},m={tag:"g",attributes:d({},h.inner),children:[wn(d({tag:l.tag,attributes:d(d({},l.attributes),h.path)},v))]},y={tag:"g",attributes:d({},h.outer),children:[m]},g="mask-".concat(o||we()),b="clip-".concat(o||we()),k={tag:"mask",attributes:d(d({},kn),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,y]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(w,{tag:"rect",attributes:d({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(g,")")},kn)}),{children:n,attributes:r}}}},xn={provides:function(e){var t=!1;D.matchMedia&&(t=D.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:d(d({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=d(d({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:d(d({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:d(d({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:d(d({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:d(d({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:d(d({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:d(d({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:d(d({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;ft=e,ht={},Object.keys(dt).forEach((function(e){-1===pt.indexOf(e)&&delete dt[e]})),ft.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===p(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){ht[e]||(ht[e]=[]),ht[e].push(r[e])}))}e.provides&&e.provides(dt)}))}([Ne,sn,un,ln,cn,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=mn,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?R:t;ye.searchPseudoElements&&mn(n)}}},{mixout:function(){return{dom:{unwatch:function(){Kt(),yn=!0}}}},hooks:function(){return{bootstrap:function(){Yt(vt("mutationObserverCallbacks",{}))},noAuto:function(){Qt&&Qt.disconnect()},watch:function(e){var t=e.observeMutationsRoot;yn?Gt():Yt(vt("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},bn,_n,xn,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:_t});var Sn=_t.parse,En=_t.icon,Tn=n(7),Cn=n.n(Tn);function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dn(e){return function(e){if(Array.isArray(e))return Rn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mn(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var Ln=["style"];function jn(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Mn(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var Fn=!1;try{Fn=!0}catch(lB){}function Vn(e){return e&&"object"===Nn(e)&&e.prefix&&e.iconName&&e.icon?e:Sn.icon?Sn.icon(e):null===e?null:e&&"object"===Nn(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Un(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?An({},e,t):{}}var Bn=t.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,s=e.titleId,u=e.maskId,l=Vn(n),c=Un("classes",[].concat(Dn(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,s=e.flash,u=e.spin,l=e.spinPulse,c=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,b=e.pull,k=(An(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":u,"fa-spin-reverse":c,"fa-spin-pulse":l,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),An(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),An(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),An(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map((function(e){return k[e]?e:null})).filter((function(e){return e}))}(e)),Dn(a.split(" ")))),f=Un("transform","string"===typeof e.transform?Sn.transform(e.transform):e.transform),h=Un("mask",Vn(r)),d=En(l,Pn(Pn(Pn(Pn({},c),f),h),{},{symbol:i,title:o,titleId:s,maskId:u}));if(!d)return function(){var e;!Fn&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var p=d.abstract,v={ref:t};return Object.keys(e).forEach((function(t){Bn.defaultProps.hasOwnProperty(t)||(v[t]=e[t])})),qn(p[0],v)}));Bn.displayName="FontAwesomeIcon",Bn.propTypes={beat:Cn().bool,border:Cn().bool,beatFade:Cn().bool,bounce:Cn().bool,className:Cn().string,fade:Cn().bool,flash:Cn().bool,mask:Cn().oneOfType([Cn().object,Cn().array,Cn().string]),maskId:Cn().string,fixedWidth:Cn().bool,inverse:Cn().bool,flip:Cn().oneOf([!0,!1,"horizontal","vertical","both"]),icon:Cn().oneOfType([Cn().object,Cn().array,Cn().string]),listItem:Cn().bool,pull:Cn().oneOf(["right","left"]),pulse:Cn().bool,rotation:Cn().oneOf([0,90,180,270]),shake:Cn().bool,size:Cn().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Cn().bool,spinPulse:Cn().bool,spinReverse:Cn().bool,symbol:Cn().oneOfType([Cn().bool,Cn().string]),title:Cn().string,titleId:Cn().string,transform:Cn().oneOfType([Cn().string,Cn().object]),swapOpacity:Cn().bool},Bn.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var qn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=jn(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Mn(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,u=On(r,Ln);return a.attrs.style=Pn(Pn({},a.attrs.style),s),t.apply(void 0,[n.tag,Pn(Pn({},a.attrs),u)].concat(Dn(i)))}.bind(null,t.createElement),zn={prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM297 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L120 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l214.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L409 239c9.4 9.4 9.4 24.6 0 33.9L297 385z"]},Hn={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},Wn={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]};var Kn=function(e){var t=e.blog,n=t.coverImage;return(0,c.jsxs)("div",{className:"BlogCard",children:[(0,c.jsxs)("div",{className:"left-section",children:[(0,c.jsxs)("div",{className:"time-section",children:[(0,c.jsx)("h2",{children:t.date}),(0,c.jsx)("h2",{children:t.weekday})]}),(0,c.jsx)("div",{className:"title-section",children:(0,c.jsx)("h1",{children:t.name})})]}),(0,c.jsxs)("div",{className:"card-section",children:[(0,c.jsxs)("div",{className:"content",children:[(0,c.jsx)("h3",{children:t.short_desc}),(0,c.jsx)("div",{calssName:!0,className:"link",children:(0,c.jsx)("a",{href:t.url,children:(0,c.jsxs)("span",{className:"click",children:["Click to Read Article",(0,c.jsx)(Bn,{className:"faicon",icon:Hn})]})})})]}),(0,c.jsx)("div",{className:"flap-left",style:{backgroundImage:"url(".concat(n,")")}}),(0,c.jsx)("div",{className:"flap-right",style:{backgroundImage:"url(".concat(n,")")}})]})]})},Gn=JSON.parse('{"Keboard_II":{"name":"Virtual Keyboard with OpenCV (Part II)","title":"Create a Virtual Keyboard Project with Python and OpenCV (Part II)","date":"Feburary 11, 2023","type":"academic","url":"Keyboard_II","coverImage":"/images/Virtual_Keyboard.jpg","imgalt":"Virtual-Keyboard-montage","short_desc":"Congratulations! You finished part I of this project. Now let us do something to enable the screen to work with our hands.","content":[{"type":"text","content":"On January 17th, 2020, a film named Last Letter was released in Japan. The movie was directed by one of my favorite directors, Shinji Iwai. The story of the movie is the drama of a cross-century romance, and this new release reminds me of Shinji Iwai\u2019s first letter. It is a cinematic creation across the whole century. About a century ago, Marcel Proust, one of the most reputable French novelist, wrote a novel, named A la recherche du temps perdu (Remembrance Of Things Past) and this author emerged a grand significance to Shinji Iwai over a half century later, which is the remarkable movie creation, Love Letter. Love Letter was directed by Shinji Iwai in 1995 and was recognized as one of the director\u2019s best creations. Moreover, the movie Love Letter is the first letter of Shinji Iwai\u2019s creation. Love Letter is deemed to be classic for its romance genre, due to the filming techniques of how it unveils the precious memories that were long lost and neglected in the past, as well as how it relieves obsession about the love that was never meant to be. In a subtle and gentle way, the movie slowly unfolds stories of the past and the present, like one slowly peels an apple until the skin eventually falls off and reveals the flesh."}]},"Keboard_I":{"name":"Virtual Keyboard with OpenCV (Part I)","title":"Create a Virtual Keyboard Project with Python and OpenCV (Part I)","date":"Feburary 09, 2023","type":"academic","url":"Keyboard_I","coverImage":"/images/Virtual_Keyboard.jpg","imgalt":"Virtual-Keyboard-montage","short_desc":"Today, we are going to use OpenCV to build this amazing Virtual Keyboard Project.","content":[{"type":"text","content":"On January 17th, 2020, a film named Last Letter was released in Japan. The movie was directed by one of my favorite directors, Shinji Iwai. The story of the movie is the drama of a cross-century romance, and this new release reminds me of Shinji Iwai\u2019s first letter. It is a cinematic creation across the whole century. About a century ago, Marcel Proust, one of the most reputable French novelist, wrote a novel, named A la recherche du temps perdu (Remembrance Of Things Past) and this author emerged a grand significance to Shinji Iwai over a half century later, which is the remarkable movie creation, Love Letter. Love Letter was directed by Shinji Iwai in 1995 and was recognized as one of the director\u2019s best creations. Moreover, the movie Love Letter is the first letter of Shinji Iwai\u2019s creation. Love Letter is deemed to be classic for its romance genre, due to the filming techniques of how it unveils the precious memories that were long lost and neglected in the past, as well as how it relieves obsession about the love that was never meant to be. In a subtle and gentle way, the movie slowly unfolds stories of the past and the present, like one slowly peels an apple until the skin eventually falls off and reveals the flesh."}]},"VR_system":{"name":"Projection Mapping in Home System","title":"Will projection mapping replace head-mounted displays in a home systems?","date":"March 20, 2022","type":"academic","url":"VR_system","tag":"VR-system","coverImage":"/images/Projection_Mapping_in_Home_System.jpg","imgalt":"VR-system-montage","short_desc":"Recent advances in virtual reality techniques and devices have broadened our capabilities to create innovative immersive environments. The virtual environment created by the VR/AR technology allows users to communicate, entertain or even work in a shared computed-simulated space scene without being physically present.","content":[{"type":"title","content":"Introduction"},{"type":"text","content":"Recent advances in virtual reality techniques and devices have broadened our capabilities to create innovative immersive environments. The virtual environment created by the VR/AR technology allows users to communicate, entertain or even work in a shared computed-simulated space scene without being physically present. Such an immersive experience could bring an innovative impact on new forms of communication, collaboration, and even telepresence. With the recent technical innovation and the increasing popularity of virtual environments, there is an increasing trend to own a VR device in a home system. One of the most popular choice so far for a home system would be a head-mounted display (HMD), because of its portability and easy setup. HMDs can be worn on the head and accompanied with a set of controllers for interacting with the virtual world. With more companies publish their VR wearable devices, and more commercial products are established for the users, it seems to be a generally prevalent choice for people to purchase HMDs for their home systems. However, the HMD still have several problems that make them not the optimal device in the home system. When wearing HMDs for longer than approximately six minutes, users could experience motion sickness. Furthermore, the HMDs are intended for a single user which might not be a well-suited choice for a family  home system. User also could experience a real world isolation during the immersive experience when the user can no longer see one\'s body, one\'s friends or any surroundings. The real-world isolation could be quite disorienting and uncomfortable for some users during the wearing process. Therefore, researchers are seeking if there is any qualified substitute for HMDs."},{"type":"text","content":"For the past decade, projection mapping, another popular AR/VR technique, is widespread over the world, and one of its greatest difference compared to the HMDs is the capability of letting multiple users simultaneously and directly experience the virtual space without wearing any external devices, such as VR glasses. Projection mapping uses different surfaces as projection targets. Traditionally, projectors are designed to display things onto flat and white surfaces uniformly in a dark environment, but with the improvements in the technology, pricing and sizes of the projectors allow many users to develop or install their own projection mapping projects. Currently, researchers are still investigating the feasibility of applying projection mapping to home systems, and the possibility to replace HMDs in home system. Using projection mapping to create artistic and entertaining illustrations and performance is also now increasingly popular and familiar. Cave Automatic Virtual Environment (CAVE) system and Microsoft\'s RoomAlive are examples of recent advances in projection mapping technique and have shown how they can be applied in the home system. Based on the existing HMD and projection mapping techniques available, projection mapping has the potential to replace HMD in home systems because of  its better performance in long-duration activities and multi-user settings. Although HMD offers a higher level of immersion, which is desirable for some users, this can be a less critical factor compared to others."},{"type":"title","content":"Related Work"},{"type":"subtitle","content":"Recent Advances in Projection Mapping"},{"type":"text","content":"Near eye displays, such as HMDs, have been the major type of VR device on the market. Recently, there are advances in another type of VR display using immersive projection technology, such as the CAVE system. Cave Automatic Virtual Environment (CAVE) is a room-sized setup where a user could wear a LCD shutter glass to experience virtual reality. The VR display is provided by the projectors around the CAVE environment. Wearing the 3D LCD shutter glasses renders 3D images on the display. The shutter glasses and the HMD both provide two images, one image for each eye. However, the size and the cost of the display make the application in home system to be hard to realize."},{"type":"text","content":"Most of the CAVE systems and large projection mapping systems are mostly used in VR researches, and researchers have been experimenting new ways to apply the CAVE system or projection mapping in various fields. Anselm Grundh\xf6fer in his work summarized the recent applications of projection mapping. With the application of accurate tracking, the projected optical mapping could have a promising use in the field of construction, inspection and reporting. Xavi\xe9ra Calixte proposes the case study that used projection mapping as a collaborative design tool for architectural design. Furthermore, Panos discussed projection mapping\'s impact on tourism marketing."},{"type":"image","content":""},{"type":"text","content":"Besides the applications in industry and architecture, there are also several projection mapping projects that show the possibility of VR home system for general consumers. Mircosoft research team\'s RoomAlive project uses five to six projectors and Kinect camera sensors to perform one mapping on a living room with people inside. The system projects an augmented reality onto every surface inside the room: walls, tables, sofas and other objects. The Kinect camera sensors track the player\u2019s movements, allowing them to directly interact with the virtual objects, creatures and environment. This system allows user to avoid using HMDs, and demonstrates the possibility of users\' collaboration in the VR system. Still, the game\'s immersive experience is less competitive than the HMD system. Another solution using power-walls named \'immersive rooms\' presents an immersive workspace meeting room. The room\'s ceiling is installed with 4 projectors and each wall and floor uses glass windows to achieve a 3D projection. At present, the Microsoft research team has not planned to release the RoomAlive as a standalone consumer product and Immersive Rooms has not yet developed a specific product for a home system."},{"type":"subtitle","content":"Presence and Immersion in Home System"},{"type":"text","content":"Presence and immersion are crucial criteria when the effectiveness of a virtual experience is evaluated. Presence is the extent to which a person\u2019s cognitive and perceptual systems are tricked into believing they are somewhere other than their physical location. When home systems are designed with VR applications, no matter which hardware devices are applied, the goal of the design is to give the users a high level of presence to better interact with the virtual environment. Another factor to the virtual experience is immersion. Immersion in the virtual reality would be an experience that one person is feeling isolated from the reality world and placed in the virtual world instead . The most common application scenarios of virtual reality home systems are movie watching and video gaming. When watching movies in home system, the audience can feel immersed into the movie world, but still cannot have any interaction.  On the other hand, for virtual video games, the players would play in an isolated virtual world with a generally high level of interaction with the environment or other players in the same virtual space. Inside a virtual world, the feeling of immersion is positively correlated with the level of the interaction. One of the known challenges associated with designing VR devices is physical ergonomics. Display devices, in particular, evoke a high level of presence and immersion, but often cause simulator sickness, a variant of motion sickness. The physical discomfort caused by wearing display devices limit the time user can use the device, and severe symptoms include loss of skin color, dizziness, nausea, and vomiting.  For the design of an entertaining home system, how much the user experiences simulator sickness is an important concern when deciding the type of hardware device to apply to the home system in addition to considering the level of presence and immersion."},{"type":"subtitle","content":"HMD vs Projection Mapping in Cognitive Task Performance"},{"type":"text","content":"In order to find a balance between engagement with the virtual world and physical discomfort, researchers have been conducting various research on comparing task performances wearing HMD and using a HMD alternative. Additionally, the high cost for a single head-mounted display could also reduce its popularity, but projection mapping could be a cheaper reasonable substitute. The research goal is to determine whether projection mapping offer similar cognitive experience as head-mounted display while taking advantage of its cheaper cost and comfort level. One of the most intuitive experiment is to use one traditional large projection screen to act as an alternative to head-mounted display. Emilee Patrick\'s group suggests that under two conditions, head-mounted display condition and large projection screen conditions, the participants\' ability to reproduce a cognitive map of one virtual environment has no statistically significant difference. As an implication from the study, they believe that a large projection screen might be an operative, cheap substitute for an head-mounted display. Although the above study shows no significant difference in cognition with those two displays, they did not compare other factors, such as the user feedback in immersive experiences or ability to accomplish other tasks. James Brooks  proposed a study that compares the performance between the head-mounted display and flat screen in a Micro-UAV target detection task. Their results show that there is no significant difference using two display conditions. Furthermore, they also pointed out one potential issue of the HMD which is the simulator sickness. Their results recorded that The level of simulator sickness, physical discomfort, and mental workload are notably higher for the participants using HMDs. More recently, Priyanka Srivastava proposed a finding that offers another possible alternative  by simply using a desktop display. The study considered how non-ambulatory HMDs and desktop display affect spatial learning. They concluded that the naive participants in the experiment would spend more time and perceive less motion-sickness during spatial learning. As in the comparison of the task, participants using desktop display performed better in recalling spatial components and equally well in other tasks."},{"type":"text","content":"Furthermore, CAVE is also one of the best VR immersive devices available. Enrico Ronchi proposed one study that compared the two different VR methods in tunnel evacuation tasks, specifically the investigating the emergency exit portals\' flashing lights design. They conclude the results using two different VR methods are consistent. Enrico Ronchi also pointed out one of the most common issue for CAVE system is the extremely high cost. In comparison, the HMDs would be relatively costly-efficient. Then the performance difference between the HMDS and CAVE-like system would reveal by the disparity of the collaboration."},{"type":"title","content":"Projection Mapping For Short and Long Duration Tasks"},{"type":"text","content":"Projection mapping can be a reasonable substitute for HMD in a home system for both short and long-duration tasks.  Inevitably, a fully immersive VR experience with the HMD generates motion sickness, thus it is not an ideal device for long-duration tasks. Therefore, if such projection mapping systems could replace HMD in short-duration tasks and also be capable of supporting users in long-duration tasks, then such systems could be more popular in home systems since it provides the possibility to realize the functionalities such as remote education, communication and home cinema."},{"type":"text","content":"Both HMDs and projection mapping systems provide an immersive experience for the users in virtual reality. HMDs could provide a fully immersive experience for users but the projection mapping systems such as RoomAlive could only provide an immersive experience to some extent. However, the difference between the level of immersion should not affect how users perceive the virtual environment in settings such as VR meetings and home cinemas. In those functionalities proposed above, few of them require a fully immersion setup to have a satisfying experience. Most of the functionalities, moreover, encourage multiple users to share the virtual experience in one system. For example, if a family wishes to have a home system to watch movies in virtual reality, it would be reasonable to choose a set of systems that members could use together instead of each member wearing a HMD device individually. If we use the CAVE system as a prototype to compare with HMDs, the projection mapping systems have larger screen displays with higher resolution. Furthermore, another evaluation standard would be the front of view (FOV). Both Seay and Lin pointed out that participants who experienced the virtual environment with a high FOV reported greater sense of presence than those in the low FOV conditions. CAVE systems provide around FOV up to 170 degrees and HMDs up to 100 degrees. Even though the CAVE systems could not provide the same degree of same immersion as the HMD does, but in the home system, the CAVE system provide users a high level of presence."},{"type":"text","content":"More importantly, when trying to use HMDs in long-duration tasks, as Dennison concluded that participants reported severe motion sickness while using an HMD but not while viewing images displayed on a monitor. Furthermore, half of the participants chose to quit the experiment after six minutes of HMD use and reported feeling nauseous at that time. The reason for such sickness is when wearing a HMD, the brain will think one is moving but in fact the body stays still. This generates a disconnection between the body and brain, which then causes enough confusion to trigger motion sickness and one would feel nauseous. By far, in some of the projection mapping systems, the projections of virtual space are directly mapped to the reality, then the users could experience an augmented reality while actually moving their body freely in the reality space. This could in some extent avoid the degree of motion sickness. Furthermore, in comparison accommodation, the closer screens in the HMDs could also cause discomfort to the users. On the contrary, the CAVE systems enable for extended usage. With less physical discomfort for the users, the projection mapping systems have the possibility to be popular for supporting users in doing long-duration tasks."},{"type":"image","content":""},{"type":"title","content":"Projection Mapping For Multi-user Settings"},{"type":"text","content":"Projection mapping can easily replace HMD under scenarios when multi-user collaboration is required. Currently most of the HMD applications are designed for the individual users and individual users only. The collaboration in virtual reality is limited because all users involved would all need an individual HMD. This section will focus on the potentials of projection mapping system in multi-user collaboration. With its potential for sharing and collaborating, projection mapping has a stronger social attribute, which makes it a popular choice for families, or a group of friends because projection mapping has less face blocking and could be financially affordable for a group of users."},{"type":"text","content":"One of the main constraint of HMD is limited collaboration. While users wear a HMD, it creates not only a fully immersive but extremely personal experience. For home systems, if reviewing the system independently, the HMD will suffice for such a design, but productive collaboration between friends and family members can be impaired when presenting such a design. Even though avatars can be added in VR contents, and collaboration functionalities could be gradually implemented in virtual environment to address this issue, the limitation in collaborative experience still remains. One of the other reason is each user\'s FOV and tracking is independent from other users even they are present in the same virtual space. Projection mapping system, on the other hand, allows more than one users to fully immersed in and interact with their virtual models by using 2 to 6 screens simultaneously. As the evacuation research proposed by Enrico Ronchi implies that the HMD has the capability for one single user to perform the evacuation in a simulated situation, but the CAVE system could perform in a better simulated situation since multiple users could be placed in the same virtual space and the evacuation could be simulated with the addition of group collaborations."},{"type":"text","content":"Another main advantage of projection mapping in collaboration settings would be less face blocking. Currently, most of the HMDs are blocking the user\'s upper face during the wearing process. As Yajie Zhao\u2019s team pointed out that \'eye contact and effective face-to-face communication remain difficult in VR/AR environments as the HMD occludes a large portion of the face.\' Indeed, recent advances in \'Mask off\', a solution to remove the blocking of the HMDs in real-time display, can help mitigate the issue. The solutions would require extra external devices and pre-recordings involved in the wearing process. Zhao\'s solution required one additional RGB camera and two infrared cameras inside the HMD, and pre-recorded video sequence of the user is also required. On the other hand, the projection mapping allowed multiple users in the same room and the users could directly see each other, thus there could be less or even no face blocking. For example, the RoomAlive prototype allows users to touch, shoot, stomp, dodge, and steer projected content that seamlessly co-exists with their existing physical environment. Even wearing specific glasses, users still can directly see others\u2019 facial expressions and make eye contact."},{"type":"text","content":"On the other hand, if a family owns a single HMD in one home system, different users need to take turns but not able to use the device at the same time. If a family needs to have a VR system for all the members could use at the same time, then inevitably multiple HMDs are required. If one of the projection mapping system could be financially affordable for a family, then from the angle of pricing, the projection mapping system also exists the potential to become more popular than HMD in the future."},{"type":"text","content":"For home systems, one of the most important utility is to allow every one\'s participation. So far, the collaboration in HMD are still quite limited, and projection mapping systems has the great developing potentials for multiple users to cooperate and collaborate."},{"type":"title","content":"Trade-offs using the projection mapping system"},{"type":"text","content":"As shown in the previous sections, there are factors that make projection mapping systems more popular than HMDs. However, there are some characteristics of HMD that could not be fully replaced by projection mapping. One of the clearest advantages of HMDs is the size and high portability of the device. Since the CAVE system uses projectors and screens, then it is certain that it takes more space than HMDs and have more requirements on the physical space. To set up a CAVE system for a home system, a minimum of two walls are required and even can go up to 6 sides of the cube when adding a floor and a ceiling to all 4 walls. In comparison, HMD users could set up their devices by only using a very small amount of space. It is also easier to carry one HMD with the user to wherever the user chooses to go. On the other hand, moving a CAVE system would be an expensive and challenging project. However, for in-home systems, it would be reasonable to assume the users might not choose to carry the devices all around and the users should have at least reasonable space in the house which allows for VR systems: the minimum two walls requirement should be satisfied. Furthermore, the RoomAlive prototype proposes the possibility that small-scaled CAVE systems and light-weighted projectors and a simple setup mechanism of the device could increase the portability of the projection mapping system. Also, projection mapping allows projection onto any already existing items which demonstrate the possibility of using the existing room for a virtual reality space. Because projection mapping does not block users\u2019 eyes from reality, users do not need to worry about their actions in virtual space that might accidentally break their furniture in reality. Basically, every HMD setup would require users to enter a rather empty space before they put it on. Still, the HMDs might prevail in migration and flexibility consideration."},{"type":"text","content":"The other clear advantage of HMDs is its user immersion and interaction. Firstly, CAVE systems are immersive to an extent but HMDs are completely immersive because users are not able to see the physical world or the user\'s own body. The fully immersive experience might be important for some users, such as video game players, and when using the CAVE system, users may have a stronger sense of the self and the physical surroundings compared to using HMD. Furthermore, most of the HMDs are accompanied by finger tracking devices. Then for the level of interactions, HMDs provide better and wider functionalities that allow users to have more interactions. On the other hand, the CAVE systems are still relying on motion tracking and buttons for interaction. Projection mapping has the potential to provide a better interaction mechanism, as, for example, the RoomAlive system allows users to touch, shoot and point. The highly immersive experience is still one of the irreplaceable characteristic of HMD. For a home system, it could be a trade-off for users to select either individual and fully immersive virtual experience or collaborative and not fully immersive virtual experience in the home system."},{"type":"title","content":"Discussion"},{"type":"text","content":"Studies have shown how users perform equally well or even better in cognitive tasks using a projection mapping system compared to using a HMD. It is important to note that when users experience motion sickness with a HMD, it negatively affects users\' ability to understand the virtual environment, thus making it less effective than projection mapping system in some cases. Projection mapping system\'s advantage in engaging in long-duration activities and collaboration tasks could make it a highly favorable choice as a home system. It is also extremely clear that there exists irreplaceable characteristics of HMDs, such as the fully immersive experience and the flexibility to use in any location. Even though the HMDs have better portability and flexibility, those do not make HMDs the only ideal device when applying VR in home systems, since users would not require to change the location of the device very often. Furthermore, projection mapping is also capable of providing users an immersive experience which allows users to understand the virtual environment cognitively equally well as using HMDs. In conclusion, it is possible to have a projection mapping system to replace head mounted display and also has the potential to become popular if it can perform better in long-duration activities and collaboration tasks."},{"type":"text","content":"As we have shown above, the projection mapping systems have great potential in home system in the future, but both HMDs and projection mapping systems still face grand challenges in providing the users a comfortable and consummate virtual experience. The costs, on the hand, both of the device equipment are not easily affordable for common families. To increase the popularity of VR, it is also critical to demonstrate the convenience and necessity of VR devices could bring to the home systems. Most of the families still consider the VR/AR devices as entertaining complements, but not life essentials."},{"type":"text","content":"Furthermore, there is also the possibility of combining the projection mapping systems and HMDs into one integrated system. Since the interaction mechanism in most of the projection mapping systems are falling behind the HMDs, if combining the hand tracking devices into the projection mapping systems also increases the chances and spaces for interaction. For both of the systems, further research is needed for outdoor settings, and it is also crucial to see the advances in the VR and PC hardware as they support better user experience in display resolution, speed, and exploring more user scenarios."}]},"Love_Letter":{"name":"Love Letter","title":"Trace to the First Love Letter","date":"March 04, 2020","type":"article","url":"Love_Letter","tag":"love-letter","coverImage":"/images/love_letter.jpg","imgalt":"love-letter-montage","short_desc":"On January 17th, 2020, a film named Last Letter was released in Japan. The movie was directed by one of my favorite directors, Shinji Iwai. The movie was directed by one of my favorite directors, Shinji Iwai. The story of the movie is the drama of a cross-century romance, and this new release reminds me of Shinji Iwai\u2019s first letter.","content":[{"type":"text","content":"On January 17th, 2020, a film named Last Letter was released in Japan. The movie was directed by one of my favorite directors, Shinji Iwai. The story of the movie is the drama of a cross-century romance, and this new release reminds me of Shinji Iwai\u2019s first letter. It is a cinematic creation across the whole century. About a century ago, Marcel Proust, one of the most reputable French novelist, wrote a novel, named A la recherche du temps perdu (Remembrance Of Things Past) and this author emerged a grand significance to Shinji Iwai over a half century later, which is the remarkable movie creation, Love Letter. Love Letter was directed by Shinji Iwai in 1995 and was recognized as one of the director\u2019s best creations. Moreover, the movie Love Letter is the first letter of Shinji Iwai\u2019s creation. Love Letter is deemed to be classic for its romance genre, due to the filming techniques of how it unveils the precious memories that were long lost and neglected in the past, as well as how it relieves obsession about the love that was never meant to be. In a subtle and gentle way, the movie slowly unfolds stories of the past and the present, like one slowly peels an apple until the skin eventually falls off and reveals the flesh."},{"type":"text","content":"The audience might be completely confused by the beginning of the movie. The narration of stories of the two main female characters, Hiroko Watanabe and Itsuki Fujii, are intercalated, and the faces of those two characters are the same. Thus, their lives might not be easily well separated, even though the two storylines are intercalated. Moreover, there is one more confusion in the settings of the movie. The two characters with the same name, Itsuki Fujii. The name of Hiroko\u2019s dead is Itsuki Fujii, and this name is shared by the other female character. Those occasions interweaved to form a giant mystery that was slowly revealed with the movie\u2019s progress. To start from the beginning, the main character, widow Hiroko Watanabe Watanabe mailed a letter to his dead husband\u2019s hometown after she left his death anniversary. She was simply wishing to have a closure to her past and to end her grief of her dead husband, but accidentally she received a response. The message sent by Hiroko said \u201cHow are you recently? I am actually still fine.\u201d It was a letter doomed with no response. However, she received the letter with the information: \u201cI am fine, just with a light cold.\u201d"},{"type":"text","content":"The stories of what happened after this simple response I wish to remain a secret to the readers. The stories between the three characters are slowly revealing with the development of the movie. The techniques of the entire plot was about two different women with the same look and the movie from the beginning to the end was interspersed. It was a quite common technique used in novel creations. The author might choose to use odd number chapters for one character\u2019s stories, and use even number characters for the other character\u2019s stories. The timeline of each story is followed chapter by chapter. Even though the protagonists are changed continuously, the story still appears as a whole. In 1995, it was courageous for a director to use such montage for an entire movie. From la grande syntagmatique (the large syntagmatic category) written by French film theorist, Christian Metz, we can acknowledge that there are four different insert montage techniques: l\'insert subjectif, l\'insert diegetique deplace, l\'insert explicatif and l\'insert nondiegetique. Those could be roughly translated to subjective insertion, diegetic insertion, explanatory insertion and non-relevant insertion. The technique adopted by Shinji Iwai would be the second one. Iwai used two story sequences and each section in the sequence is continuous. The purpose of this demonstration is to show that different events happen simultaneously. The movies were full of occasions, but this intersection between two storylines cleverly eliminates the abruptness of each unreasonable occasion."},{"type":"text","content":"With the occurrence of sending and receiving the letters, Hiroko would like to meet this mysterious woman who has the same name as her husband. Although the scenes are picturing both women, the plot and the structures of the movie cleverly avoid the encounter of the two women at the first half of the movie. Hiroko went to the address printed on the letter of the response. It was certainly now the female Itsuki Fujii\u2019s house, and reasonably those two characters should meet with each other. The director, however, would prefer more mystery in the plot and thus make the arrangement that Itsuki Fujii will be at the hospital at the same time when Hiroko arrives at Fujii\u2019s front gate. Even though the two storylines changed continuously, those two characters just could not meet each other directly. Just because of this impossibility, the audience would be always curious about what would be on the next scene."},{"type":"text","content":"Besides the innovative structures of the movie, the scenes were also epic. To most of the audience, the two most expressive scenes would be the two shots, one at the start and one at the end. At the beginning of the movie, the protagonist Hiroko had just finished the death anniversary of her husband. Hiroko was lying in the snow with reminiscence and sadness. The entire setting of that landscape with the side portrait of the face of Hiroko was truly enchanting. After Hiroko climbed up from the snow, and slowly walked down the mountain, Noboru Shinoda, the cinematographer of the movie, used a technique called \u201cspot moment\u201d. Hiroko was wearing a black jacket walking in the giant white snow. She was tiny in contrast to the entire widescreen of snow like a spot in the composition. Moreover, the black color of her jacket has a more vibrant contrast to the bright white color of the snow. The scenes rendered a feeling of yearn for the naturals, which revealed Hiroko\u2019s wish to be relieved from her husband\u2019s death hidden deep in her heart."},{"type":"text","content":"Another impressive scene would be the ending of the movie, when the myth of why Hiroko\'s dead husband shares the same name with Itsuki Fujii is finally revealed. In the meantime, the love story embedded in the time also unveils. I truly wish not to spoil the entire movie, and luckily the filming techniques about that scenes were not absolutely worth analyzing. However, there is indeed one more filming technique that truly deserves to be discussed - the widescreen camera works, adopted by Noboru Shinoda. In 1995, when the cinema did not completely accept widescreen work in Japan, Shinoda used his extraordinary filming skills to accomplish the task. Thanks to human convention, the widescreen is more cinematic. The obstacles were tremendous at that time, cameras, projectors and other filming equipment were used to have the original ratio which is 4 to 3. However, for better visualization, Shinoda insisted to film the entire movie by widescreen ratio."},{"type":"text","content":"The dialogues between Hiroko and one of her admirers, Akiba Shigera, were shot by the static cameras and also motion cameras. The start of dialogue was quite peaceful, the cameras were static and then Shigera slowly walked close to Hiroko and Hiroko intentionally to keep distance between her and Shigera. Those shots were generally short and filmed by moving cameras. When both characters once stood still, the cameras switched to static. Afterwards, Shigera suddenly approached Hiroko and tried to kiss her, the shots were moving. Once he kissed her, the shots became static and a close-up to the lips. For the moving shots, the cinematographer did not use any stabilizing equipment to make the scenes more smooth. However, the director merely required the hand-hold camera to make the scenes look as natural as possible."},{"type":"text","content":"With many previous movies, I have analyzed different ways a director would choose to use when dealing with the matter of death. In the movie, the funeral, the whole movie uses a documentary style to record the entire process of the funeral, but generated a stronger impact on people facing the matter of death. Without any exception, Iwai also used distinctive techniques for the filming of death. Different deaths were across the entire movie. At the beginning, there was the death ceremony for Hiroko\'s husband. Moreover, when Fujii\u2019s cold got worse, she was taken to the emergency room. Fujii fell asleep in the waiting hall of the hospital and she suddenly saw her father lying in the ICU. The focus was switching quickly, the shots changed from clear to vague and changed from vague to clear. The death under these shots were in sorrow rather than merely sadness."},{"type":"text","content":"Despite the grand success of the ratings and bookings of the movie, Love letter is also a milestone in Japanese movie history. After World War II, South Korea comprehensively prohibited the Japanese media. However, this movie was released in South Korea and was uniformly applauded by the local audience. The enormous cultural impact plays an important role in helping to break down the post-World War II barrier between the two countries."},{"type":"text","content":"At the present, the Last letter produced by Shinji Iwai, is still a drama and romance movie around the information of letters. Even with the same genre as the Love letter, the new movie was still applauded by the audience. The stories behind the letters are unique and the emotions written on the papers are true without any exaggerations. The sentences used in the movie were simple and concise: \u201c How are you recently?\u201d, \u201cI am fine.\u201d However, behind the short and simple words are the hidden emotions of deep affection and how heartly one misses another. Shinji Iwai could gently express that warm feeling to the audience, with the not so unrealistic stories but the completely true feelings. Twenty years after the release of Love Letter, people are still fond of this kind of movie, because the emotions are permanent. Like Iwai wrote in his novel, \u201cEven with the rush of the time, the sincere emotions do not have changed. Life might be short and cursory, but Love is ageless.\u201d I believe that is what he tried to express in the Love Letter. After twenty years, what he tries to express is still unchanged."},{"type":"text","content":"If the Love Letter is the beginning of the entire chapter, I assume the Last Letter would be the last chapter of the era. I feel extremely fortunate to have the chance to witness the entire film career of one remarkable director. Shinji Iwai said if there is one you could miss, that would be happiness. For a movie enthusiast, there is always one movie directed by Shinji Iwai that I could look forward to, I believe that would be my simplest happiness."}]}}');var Qn=function(){return(0,c.jsx)("div",{className:"Blog-grid",children:Object.entries(Gn).map((function(e){var t=l(e,2),n=(t[0],t[1]);return(0,c.jsx)(Kn,{blog:n})}))})};var Yn=function(){return(0,c.jsxs)("div",{className:"Blog",children:[(0,c.jsx)(f,{}),(0,c.jsx)(Qn,{})]})};function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zn=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),er=(0,t.createContext)({});var tr=(0,t.createContext)(null),nr="undefined"!==typeof document,rr=nr?t.useLayoutEffect:t.useEffect,ir=(0,t.createContext)({strict:!1});function ar(e,n,r,i){var a=(0,t.useContext)(er).visualElement,o=(0,t.useContext)(ir),s=(0,t.useContext)(tr),u=(0,t.useContext)(Zn).reducedMotion,l=(0,t.useRef)();i=i||o.renderer,!l.current&&i&&(l.current=i(e,{visualState:n,parent:a,props:r,presenceId:s?s.id:void 0,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var c=l.current;return rr((function(){c&&c.render()})),(window.HandoffAppearAnimations?rr:t.useEffect)((function(){c&&c.animationState&&c.animationState.animateChanges()})),c}function or(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function sr(e){return"string"===typeof e||Array.isArray(e)}function ur(e){return"object"===typeof e&&"function"===typeof e.start}var lr=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function cr(e){return ur(e.animate)||lr.some((function(t){return sr(e[t])}))}function fr(e){return Boolean(cr(e)||e.variants)}function hr(e){var n=function(e,t){if(cr(e)){var n=e.initial,r=e.animate;return{initial:!1===n||sr(n)?n:void 0,animate:sr(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(er)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[dr(r),dr(i)])}function dr(e){return Array.isArray(e)?e.join(" "):e}var pr=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},vr={measureLayout:pr(["layout","layoutId","drag"]),animation:pr(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:pr(["exit"]),drag:pr(["drag","dragControls"]),focus:pr(["whileFocus"]),hover:pr(["whileHover","onHoverStart","onHoverEnd"]),tap:pr(["whileTap","onTap","onTapStart","onTapCancel"]),pan:pr(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:pr(["whileInView","onViewportEnter","onViewportLeave"])};function mr(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}var yr={hasAnimatedSinceResize:!0,hasEverUpdated:!1},gr=1;var br=(0,t.createContext)({});function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t,n){return t&&wr(e.prototype,t),n&&wr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xr(e,t){return xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xr(e,t)}function Sr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xr(e,t)}function Er(e){return Er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Er(e)}function Tr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lB){return!1}}function Cr(e){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(e)}function Ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pr(e,t){if(t&&("object"===Cr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}function Nr(e){var t=Tr();return function(){var n,r=Er(e);if(t){var i=Er(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pr(this,n)}}var Ar=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"getSnapshotBeforeUpdate",value:function(){var e=this.props,t=e.visualElement,n=e.props;return t&&t.setProps(n),null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(t.Component),Or=(0,t.createContext)({}),Dr=Symbol.for("motionComponentSymbol");function Rr(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.projectionNodeConstructor,a=e.useRender,o=e.useVisualState,s=e.Component;n&&function(e){for(var t in e)"projectionNodeConstructor"===t?vr.projectionNodeConstructor=e[t]:vr[t].Component=e[t]}(n);var u=(0,t.forwardRef)((function(e,u){var l=Jn(Jn(Jn({},(0,t.useContext)(Zn)),e),{},{layoutId:Mr(e)}),c=l.isStatic,f=null,h=hr(e),d=c?void 0:mr((function(){if(yr.hasEverUpdated)return gr++})),p=o(e,c);if(!c&&nr){h.visualElement=ar(s,p,l,r);var v=(0,t.useContext)(Or);h.visualElement&&(f=h.visualElement.loadFeatures(l,(0,t.useContext)(ir).strict,n,d,i||vr.projectionNodeConstructor,v))}return t.createElement(Ar,{visualElement:h.visualElement,props:l},f,t.createElement(er.Provider,{value:h},a(s,e,d,function(e,n,r){return(0,t.useCallback)((function(t){t&&e.mount&&e.mount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):or(r)&&(r.current=t))}),[n])}(p,h.visualElement,u),p,c,h.visualElement)))}));return u[Dr]=s,u}function Mr(e){var n=e.layoutId,r=(0,t.useContext)(br).id;return r&&void 0!==n?r+"-"+n:n}function Lr(e){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Rr(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var jr=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fr(e){return"string"===typeof e&&!e.includes("-")&&!!(jr.indexOf(e)>-1||/[A-Z]/.test(e))}var Vr={};var Ur=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Br=new Set(Ur);function qr(e,t){var n=t.layout,r=t.layoutId;return Br.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Vr[e]||"opacity"===e)}var zr=function(e){return!!(null===e||void 0===e?void 0:e.getVelocity)};function Hr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var Wr={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kr=function(e,t){return Ur.indexOf(e)-Ur.indexOf(t)};function Gr(e){return e.startsWith("--")}var Qr=function(e,t){return t&&"number"===typeof e?t.transform(e):e},Yr=function(e,t,n){return Math.min(Math.max(n,e),t)},$r={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},Xr=Jn(Jn({},$r),{},{transform:function(e){return Yr(0,1,e)}}),Jr=Jn(Jn({},$r),{},{default:1}),Zr=function(e){return Math.round(1e5*e)/1e5},ei=/(-)?([\d]*\.?[\d])+/g,ti=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ni=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ri(e){return"string"===typeof e}var ii=function(e){return{test:function(t){return ri(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},ai=ii("deg"),oi=ii("%"),si=ii("px"),ui=ii("vh"),li=ii("vw"),ci=Jn(Jn({},oi),{},{parse:function(e){return oi.parse(e)/100},transform:function(e){return oi.transform(100*e)}}),fi=Jn(Jn({},$r),{},{transform:Math.round}),hi={borderWidth:si,borderTopWidth:si,borderRightWidth:si,borderBottomWidth:si,borderLeftWidth:si,borderRadius:si,radius:si,borderTopLeftRadius:si,borderTopRightRadius:si,borderBottomRightRadius:si,borderBottomLeftRadius:si,width:si,maxWidth:si,height:si,maxHeight:si,size:si,top:si,right:si,bottom:si,left:si,padding:si,paddingTop:si,paddingRight:si,paddingBottom:si,paddingLeft:si,margin:si,marginTop:si,marginRight:si,marginBottom:si,marginLeft:si,rotate:ai,rotateX:ai,rotateY:ai,rotateZ:ai,scale:Jr,scaleX:Jr,scaleY:Jr,scaleZ:Jr,skew:ai,skewX:ai,skewY:ai,distance:si,translateX:si,translateY:si,translateZ:si,x:si,y:si,z:si,perspective:si,transformPerspective:si,opacity:Xr,originX:ci,originY:ci,originZ:si,zIndex:fi,fillOpacity:Xr,strokeOpacity:Xr,numOctaves:fi};function di(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,s=e.transformKeys,u=e.transformOrigin;s.length=0;var l=!1,c=!1,f=!0;for(var h in t){var d=t[h];if(Gr(h))a[h]=d;else{var p=hi[h],v=Qr(d,p);if(Br.has(h)){if(l=!0,o[h]=v,s.push(h),!f)continue;d!==(p.default||0)&&(f=!1)}else h.startsWith("origin")?(c=!0,u[h]=v):i[h]=v}}if(t.transform||(l||r?i.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,s=void 0===o||o,u=t.allowTransformNone,l=void 0===u||u,c="";a.sort(Kr);var f,h=Hr(a);try{for(h.s();!(f=h.n()).done;){var d=f.value;c+="".concat(Wr[d]||d,"(").concat(i[d],") ")}}catch(p){h.e(p)}finally{h.f()}return s&&!i.z&&(c+="translateZ(0)"),c=c.trim(),r?c=r(i,n?"":c):l&&n&&(c="none"),c}(e,n,f,r):i.transform&&(i.transform="none")),c){var m=u.originX,y=void 0===m?"50%":m,g=u.originY,b=void 0===g?"50%":g,k=u.originZ,w=void 0===k?0:k;i.transformOrigin="".concat(y," ").concat(b," ").concat(w)}}var pi=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function vi(e,t,n){for(var r in t)zr(t[r])||qr(r,n)||(e[r]=t[r])}function mi(e,n,r){var i={};return vi(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return di(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(e,n,r)),e.transformValues?e.transformValues(i):i}function yi(e,t,n){var r={},i=mi(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var gi=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function bi(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||gi.has(e)}var ki,wi=function(e){return!bi(e)};try{(ki=require("@emotion/is-prop-valid").default)&&(wi=function(e){return e.startsWith("on")?!bi(e):ki(e)})}catch(TP){}function _i(e,t,n){var r={};for(var i in e)"values"===i&&"object"===typeof e.values||(wi(i)||!0===n&&bi(i)||!t&&!bi(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function xi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Si(e,t,n){return"string"===typeof e?e:si.transform(t+n*e)}var Ei={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ti={offset:"strokeDashoffset",array:"strokeDasharray"};var Ci=["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"];function Ii(e,t,n,r,i){var a=t.attrX,o=t.attrY,s=t.originX,u=t.originY,l=t.pathLength,c=t.pathSpacing,f=void 0===c?1:c,h=t.pathOffset,d=void 0===h?0:h;if(di(e,xi(t,Ci),n,i),r)e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);else{e.attrs=e.style,e.style={};var p=e.attrs,v=e.style,m=e.dimensions;p.transform&&(m&&(v.transform=p.transform),delete p.transform),m&&(void 0!==s||void 0!==u||v.transform)&&(v.transformOrigin=function(e,t,n){var r=Si(t,e.x,e.width),i=Si(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==s?s:.5,void 0!==u?u:.5)),void 0!==a&&(p.x=a),void 0!==o&&(p.y=o),void 0!==l&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?Ei:Ti;e[a.offset]=si.transform(-r);var o=si.transform(t),s=si.transform(n);e[a.array]="".concat(o," ").concat(s)}(p,l,f,d,!1)}}var Pi=function(){return Jn(Jn({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{},{attrs:{}})},Ni=function(e){return"string"===typeof e&&"svg"===e.toLowerCase()};function Ai(e,n,r,i){var a=(0,t.useMemo)((function(){var t=Pi();return Ii(t,n,{enableHardwareAcceleration:!1},Ni(i),e.transformTemplate),Jn(Jn({},t.attrs),{},{style:Jn({},t.style)})}),[n]);if(e.style){var o={};vi(o,e.style,e),a.style=Jn(Jn({},o),a.style)}return a}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(n,r,i,a,o,s){var u=o.latestValues,l=(Fr(n)?Ai:yi)(r,u,s,n),c=Jn(Jn(Jn({},_i(r,"string"===typeof n,e)),l),{},{ref:a}),f=r.children,h=(0,t.useMemo)((function(){return zr(f)?f.get():f}),[f]);return i&&(c["data-projection-id"]=i),(0,t.createElement)(n,Jn(Jn({},c),{},{children:h}))};return n}var Di=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function Ri(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var Mi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Li(e,t,n,r){for(var i in Ri(e,t,void 0,r),t.attrs)e.setAttribute(Mi.has(i)?i:Di(i),t.attrs[i])}function ji(e,t){var n=e.style,r={};for(var i in n)(zr(n[i])||t.style&&zr(t.style[i])||qr(i,e))&&(r[i]=n[i]);return r}function Fi(e,t){var n=ji(e,t);for(var r in e){if(zr(e[r])||zr(t[r]))n["x"===r||"y"===r?"attr"+r.toUpperCase():r]=e[r]}return n}function Vi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var Ui=function(e){return Array.isArray(e)},Bi=function(e){return Ui(e)?e[e.length-1]||0:e};function qi(e){var t=zr(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var zi=["transitionEnd","transition"];var Hi=function(e){return function(n,r){var i=(0,t.useContext)(er),a=(0,t.useContext)(tr),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:Wi(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(e,n,i,a)};return r?o():mr(o)}};function Wi(e,t,n,r){var i={},a=r(e,{});for(var o in a)i[o]=qi(a[o]);var s=e.initial,u=e.animate,l=cr(e),c=fr(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var f=!!n&&!1===n.initial,h=(f=f||!1===s)?u:s;h&&"boolean"!==typeof h&&!ur(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=Vi(e,t);if(n){var r=n.transitionEnd,a=(n.transition,xi(n,zi));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[f?s.length-1:0];null!==s&&(i[o]=s)}for(var u in r)i[u]=r[u]}}));return i}var Ki,Gi={useVisualState:Hi({scrapeMotionValuesFromProps:Fi,createRenderState:Pi,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(lB){r.dimensions={x:0,y:0,width:0,height:0}}Ii(r,i,{enableHardwareAcceleration:!1},Ni(t.tagName),e.transformTemplate),Li(t,r)}})},Qi={useVisualState:Hi({scrapeMotionValuesFromProps:ji,createRenderState:pi})};function Yi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function $i(e,n,r,i){(0,t.useEffect)((function(){var t=e.current;if(r&&t)return Yi(t,n,r,i)}),[e,n,r,i])}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(Ki||(Ki={}));var Xi=function(e){return"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary};function Ji(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var Zi=function(e){return function(t){return Xi(t)&&e(t,Ji(t))}};function ea(e,t,n,r){return Yi(e,t,Zi(n),r)}function ta(e,t,n,r){return $i(e,t,n&&Zi(n),r)}function na(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var ra=na("dragHorizontal"),ia=na("dragVertical");function aa(e){var t=!1;if("y"===e)t=ia();else if("x"===e)t=ra();else{var n=ra(),r=ia();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function oa(){var e=aa(!0);return!e||(e(),!1)}function sa(e,t,n,r){return function(i,a){"touch"===i.type||oa()||(n&&e.animationState&&e.animationState.setActive(Ki.Hover,t),r&&r(i,a))}}var ua=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function la(e){return(0,t.useEffect)((function(){return function(){return e()}}),[])}var ca=function(e,t){return function(n){return t(e(n))}},fa=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(ca)},ha=["onTap","onTapStart","onTapCancel","whileTap","visualElement"];function da(e,t){if(t){var n=new PointerEvent("pointer"+e);t(n,Ji(n))}}var pa=["root"],va=new WeakMap,ma=new WeakMap,ya=function(e){var t=va.get(e.target);t&&t(e)},ga=function(e){e.forEach(ya)};function ba(e,t,n){var r=function(e){var t=e.root,n=xi(e,pa),r=t||document;ma.has(r)||ma.set(r,{});var i=ma.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(ga,Jn({root:t},n))),i[a]}(t);return va.set(e,n),r.observe(e),function(){va.delete(e),r.unobserve(e)}}var ka={some:0,all:1};function wa(e,n,r,i){var a=i.root,o=i.margin,s=i.amount,u=void 0===s?"some":s,l=i.once;(0,t.useEffect)((function(){if(e&&r.current){var t={root:null===a||void 0===a?void 0:a.current,rootMargin:o,threshold:"number"===typeof u?u:ka[u]};return ba(r.current,t,(function(e){var t=e.isIntersecting;if(n.isInView!==t&&(n.isInView=t,!l||t||!n.hasEnteredView)){t&&(n.hasEnteredView=!0),r.animationState&&r.animationState.setActive(Ki.InView,t);var i=r.getProps(),a=t?i.onViewportEnter:i.onViewportLeave;a&&a(e)}}))}}),[e,a,o,u])}function _a(e,n,r,i){var a=i.fallback,o=void 0===a||a;(0,t.useEffect)((function(){e&&o&&requestAnimationFrame((function(){n.hasEnteredView=!0;var e=r.getProps().onViewportEnter;e&&e(null),r.animationState&&r.animationState.setActive(Ki.InView,!0)}))}),[e])}var xa=function(e){return function(t){return e(t),null}},Sa={inView:xa((function(e){var n=e.visualElement,r=e.whileInView,i=e.onViewportEnter,a=e.onViewportLeave,o=e.viewport,s=void 0===o?{}:o,u=(0,t.useRef)({hasEnteredView:!1,isInView:!1}),l=Boolean(r||i||a);s.once&&u.current.hasEnteredView&&(l=!1),("undefined"===typeof IntersectionObserver?_a:wa)(l,u.current,n,s)})),tap:xa((function(e){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=e.visualElement,s=xi(e,ha),u=n||r||i||a,l=(0,t.useRef)(!1),c=(0,t.useRef)(null),f={passive:!(r||n||i||s.onPointerDown)};function h(){c.current&&c.current(),c.current=null}function d(){return h(),l.current=!1,o.getProps().whileTap&&o.animationState&&o.animationState.setActive(Ki.Tap,!1),!oa()}function p(e,t){var n,r,i,a;d()&&(ua(o.current,e.target)?null===(a=(i=o.getProps()).onTap)||void 0===a||a.call(i,e,t):null===(r=(n=o.getProps()).onTapCancel)||void 0===r||r.call(n,e,t))}function v(e,t){var n,r;d()&&(null===(r=(n=o.getProps()).onTapCancel)||void 0===r||r.call(n,e,t))}function m(e,t){var n,r=o.getProps();r.whileTap&&o.animationState&&o.animationState.setActive(Ki.Tap,!0),null===(n=r.onTapStart)||void 0===n||n.call(r,e,t)}var y=[Boolean(r),Boolean(n),Boolean(a),o],g=(0,t.useCallback)((function(e,t){h(),l.current||(l.current=!0,c.current=fa(ea(window,"pointerup",p,f),ea(window,"pointercancel",v,f)),m(e,t))}),y);ta(o,"pointerdown",u?g:void 0,f);var b=(0,t.useCallback)((function(){var e=Yi(o.current,"keydown",(function(e){"Enter"!==e.key||l.current||(l.current=!0,c.current=Yi(o.current,"keyup",(function(){"Enter"===e.key&&d()&&da("up",o.getProps().onTap)}),f),da("down",m))})),t=Yi(o.current,"blur",(function(){e(),t(),l.current&&da("cancel",v)}))}),y);$i(o,"focus",u?b:void 0),la(h)})),focus:xa((function(e){var n=e.whileFocus,r=e.visualElement,i=(0,t.useRef)(!1),a=r.animationState,o=(0,t.useCallback)((function(){var e=!1;try{e=r.current.matches(":focus-visible")}catch(lB){e=!0}e&&a&&(a.setActive(Ki.Focus,!0),i.current=!0)}),[a]),s=(0,t.useCallback)((function(){i.current&&a&&(a.setActive(Ki.Focus,!1),i.current=!1)}),[a]);$i(r,"focus",n?o:void 0),$i(r,"blur",n?s:void 0)})),hover:xa((function(e){var n=e.onHoverStart,r=e.onHoverEnd,i=e.whileHover,a=e.visualElement;ta(a,"pointerenter",(0,t.useMemo)((function(){return n||i?sa(a,!0,Boolean(i),n):void 0}),[n,Boolean(i),a]),{passive:!n}),ta(a,"pointerleave",(0,t.useMemo)((function(){return r||i?sa(a,!1,Boolean(i),r):void 0}),[n,Boolean(i),a]),{passive:!r})}))};function Ea(){var e=(0,t.useContext)(tr);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=(0,t.useId)();(0,t.useEffect)((function(){return i(a)}),[]);return!n&&r?[!1,function(){return r&&r(a)}]:[!0]}function Ta(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ca(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Ta(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Pa=function(e){return/^\-?\d*\.?\d+$/.test(e)},Na=function(e){return/^0[^.\s]+$/.test(e)},Aa={delta:0,timestamp:0},Oa=1/60*1e3,Da="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},Ra="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(Da())}),Oa)};var Ma=!0,La=!1,ja=!1,Fa=["read","update","preRender","render","postRender"],Va=Fa.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var l=[n,t];if(t=l[0],(n=l[1]).length=0,r=t.length)for(var c=0;c<r;c++){var f=t[c];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return La=!0})),e}),{}),Ua=Fa.reduce((function(e,t){var n=Va[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return La||Wa(),n.schedule(e,t,r)},e}),{}),Ba=Fa.reduce((function(e,t){return e[t]=Va[t].cancel,e}),{}),qa=Fa.reduce((function(e,t){return e[t]=function(){return Va[t].process(Aa)},e}),{}),za=function(e){return Va[e].process(Aa)},Ha=function e(t){La=!1,Aa.delta=Ma?Oa:Math.max(Math.min(t-Aa.timestamp,40),1),Aa.timestamp=t,ja=!0,Fa.forEach(za),ja=!1,La&&(Ma=!1,Ra(e))},Wa=function(){La=!0,Ma=!0,ja||Ra(Ha)};function Ka(e,t){-1===e.indexOf(t)&&e.push(t)}function Ga(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Qa=function(){function e(){kr(this,e),this.subscriptions=[]}return _r(e,[{key:"add",value:function(e){var t=this;return Ka(this.subscriptions,e),function(){return Ga(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}();function Ya(e,t){return t?e*(1e3/t):0}var $a=function(e){return!isNaN(parseFloat(e))},Xa=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};kr(this,e),this.version="9.0.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.prev=n.current,n.current=e;var r=Aa.delta,i=Aa.timestamp;n.lastUpdated!==i&&(n.timeDelta=r,n.lastUpdated=i,Ua.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.events.change&&n.events.change.notify(n.current),n.events.velocityChange&&n.events.velocityChange.notify(n.getVelocity()),t&&n.events.renderRequest&&n.events.renderRequest.notify(n.current)},this.scheduleVelocityCheck=function(){return Ua.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.events.velocityChange&&n.events.velocityChange.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=$a(this.current),this.owner=r.owner}return _r(e,[{key:"onChange",value:function(e){return this.on("change",e)}},{key:"on",value:function(e,t){var n=this;this.events[e]||(this.events[e]=new Qa);var r=this.events[e].add(t);return"change"===e?function(){r(),Ua.read((function(){n.events.change.getSize()||n.stop()}))}:r}},{key:"clearListeners",value:function(){for(var e in this.events)this.events[e].clear()}},{key:"attach",value:function(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"setWithVelocity",value:function(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}},{key:"jump",value:function(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?Ya(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.animation=e(n)||null,t.events.animationStart&&t.events.animationStart.notify()})).then((function(){t.events.animationComplete&&t.events.animationComplete.notify(),t.clearAnimation()}))}},{key:"stop",value:function(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.animation}},{key:"clearAnimation",value:function(){this.animation=null}},{key:"destroy",value:function(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}]),e}();function Ja(e,t){return new Xa(e,t)}var Za=function(e,t){return function(n){return Boolean(ri(n)&&ni.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},eo=function(e,t,n){return function(r){var i;if(!ri(r))return r;var a=l(r.match(ei),4),o=a[0],s=a[1],u=a[2],c=a[3];return $n(i={},e,parseFloat(o)),$n(i,t,parseFloat(s)),$n(i,n,parseFloat(u)),$n(i,"alpha",void 0!==c?parseFloat(c):1),i}},to=Jn(Jn({},$r),{},{transform:function(e){return Math.round(function(e){return Yr(0,255,e)}(e))}}),no={test:Za("rgb","red"),parse:eo("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+to.transform(t)+", "+to.transform(n)+", "+to.transform(r)+", "+Zr(Xr.transform(a))+")"}};var ro={test:Za("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:no.transform},io={test:Za("hsl","hue"),parse:eo("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+oi.transform(Zr(n))+", "+oi.transform(Zr(r))+", "+Zr(Xr.transform(a))+")"}},ao={test:function(e){return no.test(e)||ro.test(e)||io.test(e)},parse:function(e){return no.test(e)?no.parse(e):io.test(e)?io.parse(e):ro.parse(e)},transform:function(e){return ri(e)?e:e.hasOwnProperty("red")?no.transform(e):io.transform(e)}},oo="${c}",so="${n}";function uo(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=0,i=e.match(ti);i&&(n=i.length,e=e.replace(ti,oo),t.push.apply(t,Ca(i.map(ao.parse))));var a=e.match(ei);return a&&(r=a.length,e=e.replace(ei,so),t.push.apply(t,Ca(a.map($r.parse)))),{values:t,numColors:n,numNumbers:r,tokenised:e}}function lo(e){return uo(e).values}function co(e){var t=uo(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?oo:so,n<r?ao.transform(e[n]):Zr(e[n]));return t}}var fo=function(e){return"number"===typeof e?0:e};var ho={test:function(e){var t,n;return isNaN(e)&&ri(e)&&((null===(t=e.match(ei))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(ti))||void 0===n?void 0:n.length)||0)>0},parse:lo,createTransformer:co,getAnimatableNone:function(e){var t=lo(e);return co(e)(t.map(fo))}},po=new Set(["brightness","contrast","saturate","opacity"]);function vo(e){var t=l(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=l(r.match(ei)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=po.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var mo=/([a-z-]*)\(.*?\)/g,yo=Jn(Jn({},ho),{},{getAnimatableNone:function(e){var t=e.match(mo);return t?t.map(vo).join(" "):e}}),go=Jn(Jn({},hi),{},{color:ao,backgroundColor:ao,outlineColor:ao,fill:ao,stroke:ao,borderColor:ao,borderTopColor:ao,borderRightColor:ao,borderBottomColor:ao,borderLeftColor:ao,filter:yo,WebkitFilter:yo}),bo=function(e){return go[e]};function ko(e,t){var n,r=bo(e);return r!==yo&&(r=ho),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var wo=function(e){return function(t){return t.test(e)}},_o=[$r,si,oi,ai,li,ui,{test:function(e){return"auto"===e},parse:function(e){return e}}],xo=function(e){return _o.find(wo(e))},So=[].concat(Ca(_o),[ao,ho]),Eo=function(e){return So.find(wo(e))};function To(e,t,n){var r=e.getProps();return Vi(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.values.forEach((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var Co=["transitionEnd","transition"];function Io(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ja(n))}function Po(e,t){var n=To(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,xi(r,Co));for(var s in o=Jn(Jn({},o),a)){Io(e,s,Bi(o[s]))}}function No(e,t){if(t)return(t[e]||t.default||t).from}function Ao(e){return Boolean(zr(e)&&e.add)}var Oo="data-"+Di("framerAppearId");var Do=function(e){return 1e3*e},Ro=!1,Mo=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},Lo=function(e){return function(t){return 1-e(1-t)}},jo=function(e){return e*e},Fo=Lo(jo),Vo=Mo(jo),Uo=function(e,t,n){return-n*e+n*t+e};function Bo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var qo=function(e,t,n){var r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},zo=[ro,no,io];function Ho(e){var t=function(e){return zo.find((function(t){return t.test(e)}))}(e);Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.");var n=t.parse(e);return t===io&&(n=function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,l=2*r-u;a=Bo(l,u,t+1/3),o=Bo(l,u,t),s=Bo(l,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}(n)),n}var Wo=function(e,t){var n=Ho(e),r=Ho(t),i=Jn({},n);return function(e){return i.red=qo(n.red,r.red,e),i.green=qo(n.green,r.green,e),i.blue=qo(n.blue,r.blue,e),i.alpha=Uo(n.alpha,r.alpha,e),no.transform(i)}};function Ko(e,t){return"number"===typeof e?function(n){return Uo(e,t,n)}:ao.test(e)?Wo(e,t):Yo(e,t)}var Go=function(e,t){var n=Ca(e),r=n.length,i=e.map((function(e,n){return Ko(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},Qo=function(e,t){var n=Jn(Jn({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Ko(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}},Yo=function(e,t){var n=ho.createTransformer(t),r=uo(e),i=uo(t);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?fa(Go(r.values,i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},$o=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Xo=function(e,t){return function(n){return Uo(e,t,n)}};function Jo(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?Xo:"string"===typeof e?ao.test(e)?Wo:Yo:Array.isArray(e)?Go:"object"===typeof e?Qo:Xo}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]:t;s=fa(u,s)}r.push(s)}return r}function Zo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[s-1]&&(e=Ca(e).reverse(),t=Ca(t).reverse());var u=Jo(t,a,o),l=u.length,c=function(t){var n=0;if(l>1)for(;n<e.length-2&&!(t<e[n+1]);n++);var r=$o(e[n],e[n+1],t);return u[n](r)};return i?function(t){return c(Yr(e[0],e[s-1],t))}:c}var es=function(e){return e},ts=function(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e};function ns(e,t,n,r){if(e===t&&n===r)return es;var i=function(t){return function(e,t,n,r,i){var a,o,s=0;do{(a=ts(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<12);return o}(t,0,1,e,n)};return function(e){return 0===e||1===e?e:ts(i(e),t,r)}}var rs=function(e){return 1-Math.sin(Math.acos(e))},is=Lo(rs),as=Mo(is),os=ns(.33,1.53,.69,.99),ss=Lo(os),us=Mo(ss),ls={linear:es,easeIn:jo,easeInOut:Vo,easeOut:Fo,circIn:rs,circInOut:as,circOut:is,backIn:ss,backInOut:us,backOut:os,anticipate:function(e){return(e*=2)<1?.5*ss(e):.5*(2-Math.pow(2,-10*(e-1)))}},cs=function(e){if(Array.isArray(e)){e.length;var t=l(e,4);return ns(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),ls[e]):e};function fs(e){var t=e.keyframes,n=e.ease,r=void 0===n?Vo:n,i=e.times,a=e.duration,o=void 0===a?300:a;t=Ca(t);var s=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(r)?r.map(cs):cs(r),u={done:!1,value:t[0]},l=function(e,t){return e.map((function(e){return e*t}))}(i&&i.length===t.length?i:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(t),o);function c(){return Zo(l,t,{ease:Array.isArray(s)?s:(e=t,n=s,e.map((function(){return n||Vo})).splice(0,e.length-1))});var e,n}var f=c();return{next:function(e){return u.value=f(e),u.done=e>=o,u},flipTarget:function(){t.reverse(),f=c()}}}var hs=.001;function ds(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,l=e.mass,c=void 0===l?1:l,f=1-o;f=Yr(.05,1,f),i=Yr(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=ps(e,f),o=Math.exp(-n);return hs-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=ps(Math.pow(e,2),f);return(-t(e)+hs>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*c;return{stiffness:d,damping:2*f*Math.sqrt(c*d),duration:i}}function ps(e,t){return e*Math.sqrt(1-t*t)}var vs=["keyframes","restDelta","restSpeed"],ms=["duration","bounce"],ys=["stiffness","damping","mass"];function gs(e,t){return t.some((function(t){return void 0!==e[t]}))}function bs(e){var t=e.keyframes,n=e.restDelta,r=e.restSpeed,i=xi(e,vs),a=t[0],o=t[t.length-1],s={done:!1,value:a},u=function(e){var t=Jn({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!gs(e,ys)&&gs(e,ms)){var n=ds(e);(t=Jn(Jn(Jn({},t),n),{},{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(i),l=u.stiffness,c=u.damping,f=u.mass,h=u.velocity,d=u.duration,p=u.isResolvedFromDuration,v=ks,m=h?-h/1e3:0,y=c/(2*Math.sqrt(l*f));function g(){var e=o-a,t=Math.sqrt(l/f)/1e3,i=Math.abs(e)<5;if(r||(r=i?.01:2),n||(n=i?.005:.5),y<1){var s=ps(t,y);v=function(n){var r=Math.exp(-y*t*n);return o-r*((m+y*t*e)/s*Math.sin(s*n)+e*Math.cos(s*n))}}else if(1===y)v=function(n){return o-Math.exp(-t*n)*(e+(m+t*e)*n)};else{var u=t*Math.sqrt(y*y-1);v=function(n){var r=Math.exp(-y*t*n),i=Math.min(u*n,300);return o-r*((m+y*t*e)*Math.sinh(i)+u*e*Math.cosh(i))/u}}}return g(),{next:function(e){var t=v(e);if(p)s.done=e>=d;else{var i=m;if(0!==e)if(y<1){var a=Math.max(0,e-5);i=Ya(t-v(a),e-a)}else i=0;var u=Math.abs(i)<=r,l=Math.abs(o-t)<=n;s.done=u&&l}return s.value=s.done?o:t,s},flipTarget:function(){m=-m;var e=[o,a];a=e[0],o=e[1],g()}}}bs.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var ks=function(e){return 0};var ws=["duration","driver","elapsed","repeat","repeatType","repeatDelay","keyframes","autoplay","onPlay","onStop","onComplete","onRepeat","onUpdate","type"],_s={decay:function(e){var t=e.keyframes,n=void 0===t?[0]:t,r=e.velocity,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,u=void 0===s?350:s,l=e.restDelta,c=void 0===l?.5:l,f=e.modifyTarget,h=n[0],d={done:!1,value:h},p=o*i,v=h+p,m=void 0===f?v:f(v);return m!==v&&(p=m-h),{next:function(e){var t=-p*Math.exp(-e/u);return d.done=!(t>c||t<-c),d.value=d.done?m:m+t,d},flipTarget:function(){}}},keyframes:fs,tween:fs,spring:bs};function xs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var Ss=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return Ua.update(t,!0)},stop:function(){return Ba.update(t)}}};function Es(e){var t,n,r,i,a=e.duration,o=e.driver,s=void 0===o?Ss:o,u=e.elapsed,l=void 0===u?0:u,c=e.repeat,f=void 0===c?0:c,h=e.repeatType,d=void 0===h?"loop":h,p=e.repeatDelay,v=void 0===p?0:p,m=e.keyframes,y=e.autoplay,g=void 0===y||y,b=e.onPlay,k=e.onStop,w=e.onComplete,_=e.onRepeat,x=e.onUpdate,S=e.type,E=void 0===S?"keyframes":S,T=xi(e,ws),C=l,I=0,P=a,N=!1,A=!0,O=_s[m.length>2?"keyframes":E]||fs,D=m[0],R=m[m.length-1],M={done:!1,value:D};(null===(n=(t=O).needsInterpolation)||void 0===n?void 0:n.call(t,D,R))&&(i=Zo([0,100],[D,R],{clamp:!1}),m=[0,100]);var L=O(Jn(Jn({},T),{},{duration:a,keyframes:m}));function j(){I++,"reverse"===d?l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:xs(t+-e,t,n)}(l,P,v,A=I%2===0):(l=xs(l,P,v),"mirror"===d&&L.flipTarget()),N=!1,_&&_()}function F(e){A||(e=-e),l+=e,N||(M=L.next(Math.max(0,l)),i&&(M.value=i(M.value)),N=A?M.done:l<=0),x&&x(M.value),N&&(0===I&&(P=void 0!==P?P:l),I<f?function(e,t,n,r){return r?e>=t+n:e<=-n}(l,P,v,A)&&j():(r&&r.stop(),w&&w()))}return g&&(b&&b(),(r=s(F)).start()),{stop:function(){k&&k(),r&&r.stop()},set currentTime(e){l=C,F(e)},sample:function(e){l=C;var t=a&&"number"===typeof a?Math.max(.5*a,50):50,n=0;for(F(0);n<=e;){var r=e-n;F(Math.min(r,t)),n+=t}return M}}}var Ts=function(e){var t=l(e,4),n=t[0],r=t[1],i=t[2],a=t[3];return"cubic-bezier(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},Cs={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ts([0,.65,.55,1]),circOut:Ts([.55,0,1,.45]),backIn:Ts([.31,.01,.66,-.59]),backOut:Ts([.33,1.53,.69,.99])};function Is(e){if(e)return Array.isArray(e)?Ts(e):Cs[e]}var Ps={waapi:function(){return Object.hasOwnProperty.call(Element.prototype,"animate")}},Ns={},As={},Os=function(e){As[e]=function(){return void 0===Ns[e]&&(Ns[e]=Ps[e]()),Ns[e]}};for(var Ds in Ps)Os(Ds);var Rs=["onUpdate","onComplete"],Ms=new Set(["opacity"]);function Ls(e,t,n){n.onUpdate;var r=n.onComplete,i=xi(n,Rs);if(!(As.waapi()&&Ms.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping))return!1;var a,o=i.keyframes,s=i.duration,u=void 0===s?300:s,l=i.elapsed,c=void 0===l?0:l,f=i.ease;if("spring"===i.type||!(!(a=i.ease)||Array.isArray(a)||"string"===typeof a&&Cs[a])){if(i.repeat===1/0)return;for(var h=Es(Jn(Jn({},i),{},{elapsed:0})),d={done:!1,value:o[0]},p=[],v=0;!d.done&&v<2e4;)d=h.sample(v),p.push(d.value),v+=10;o=p,u=v-10,f="linear"}var m=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.delay,o=void 0===a?0:a,s=i.duration,u=i.repeat,l=void 0===u?0:u,c=i.repeatType,f=void 0===c?"loop":c,h=i.ease,d=i.times;return e.animate(($n(r={},t,n),$n(r,"offset",d),r),{delay:o,duration:s,easing:Is(h),fill:"both",iterations:l+1,direction:"reverse"===f?"alternate":"normal"})}(e.owner.current,t,o,Jn(Jn({},i),{},{delay:-c,duration:u,ease:f}));return m.onfinish=function(){e.set(function(e,t){var n=t.repeat,r=t.repeatType;return e[n&&"loop"!==(void 0===r?"loop":r)&&n%2===1?0:e.length-1]}(o,i)),Ua.update((function(){return m.cancel()})),r&&r()},{get currentTime(){return m.currentTime||0},set currentTime(e){m.currentTime=e},stop:function(){var t=m.currentTime;if(t){var n=Es(Jn(Jn({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}Ua.update((function(){return m.cancel()}))}}}function js(e,t){var n=performance.now(),r=function r(i){var a=i.timestamp-n;a>=t&&(Ba.read(r),e(a-t))};return Ua.read(r,!0),function(){return Ba.read(r)}}function Fs(e){var t=e.keyframes,n=e.elapsed,r=e.onUpdate,i=e.onComplete,a=function(){r&&r(t[t.length-1]),i&&i()};return n?{stop:js(a,-n)}:a()}function Vs(e){var t,n=e.keyframes,r=e.velocity,i=void 0===r?0:r,a=e.min,o=e.max,s=e.power,u=void 0===s?.8:s,l=e.timeConstant,c=void 0===l?750:l,f=e.bounceStiffness,h=void 0===f?500:f,d=e.bounceDamping,p=void 0===d?10:d,v=e.restDelta,m=void 0===v?1:v,y=e.modifyTarget,g=e.driver,b=e.onUpdate,k=e.onComplete,w=e.onStop,_=n[0];function x(e){return void 0!==a&&e<a||void 0!==o&&e>o}function S(e){return void 0===a?o:void 0===o||Math.abs(a-e)<Math.abs(o-e)?a:o}function E(e){null===t||void 0===t||t.stop(),t=Es(Jn(Jn({keyframes:[0,1],velocity:0},e),{},{driver:g,onUpdate:function(t){var n;null===b||void 0===b||b(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:k,onStop:w}))}function T(e){E(Jn({type:"spring",stiffness:h,damping:p,restDelta:m},e))}if(x(_))T({velocity:i,keyframes:[_,S(_)]});else{var C=u*i+_;"undefined"!==typeof y&&(C=y(C));var I,P,N=S(C),A=N===a?-1:1;E({type:"decay",keyframes:[_,0],velocity:i,timeConstant:c,power:u,restDelta:m,modifyTarget:y,onUpdate:x(C)?function(e){I=P,P=e,i=Ya(e-I,Aa.delta),(1===A&&e>N||-1===A&&e<N)&&T({keyframes:[e,N],velocity:i})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}var Us=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Bs=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},qs=function(){return{type:"keyframes",ease:"linear",duration:.3}},zs={type:"keyframes",duration:.8},Hs={x:Us,y:Us,z:Us,rotate:Us,rotateX:Us,rotateY:Us,rotateZ:Us,scaleX:Bs,scaleY:Bs,scale:Bs,opacity:qs,backgroundColor:qs,color:qs,default:Bs},Ws=function(e,t){var n=t.keyframes;return n.length>2?zs:(Hs[e]||Hs.default)(n[1])},Ks=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!ho.test(t)||t.startsWith("url(")))},Gs=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Qs(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from,e.elapsed;var t=xi(e,Gs);return!!Object.keys(t).length}function Ys(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function $s(e){return"number"===typeof e?0:ko("",e)}function Xs(e,t){return e[t]||e.default||e}function Js(e,t,n,r){var i=Ks(t,n),a=void 0!==r.from?r.from:e.get();return"none"===a&&i&&"string"===typeof n?a=ko(t,n):Ys(a)&&"string"===typeof n?a=$s(n):!Array.isArray(n)&&Ys(n)&&"string"===typeof a&&(n=$s(a)),Array.isArray(n)?(null===n[0]&&(n[0]=a),n):[a,n]}var Zs=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(i){var a=Xs(r,e)||{},o=a.delay||r.delay||0,s=r.elapsed,u=void 0===s?0:s;u-=Do(o);var l=Js(t,e,n,a),c=l[0],f=l[l.length-1],h=Ks(e,c),d=Ks(e,f);"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(f,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(f," via the `style` property.");var p=Jn(Jn({keyframes:l,velocity:t.getVelocity()},a),{},{elapsed:u,onUpdate:function(e){t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){i(),a.onComplete&&a.onComplete()}});if(!h||!d||Ro||!1===a.type)return Fs(p);if("inertia"===a.type)return Vs(p);Qs(a)||(p=Jn(Jn({},p),Ws(e,p))),p.duration&&(p.duration=Do(p.duration)),p.repeatDelay&&(p.repeatDelay=Do(p.repeatDelay));var v=t.owner,m=v&&v.current;if(v&&m instanceof HTMLElement&&!(null===v||void 0===v?void 0:v.getProps().onUpdate)){var y=Ls(t,e,p);if(y)return y}return Es(p)}},eu=["transition","transitionEnd"];function tu(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=To(e,t,r.custom),a=i||{},o=a.transition,s=void 0===o?e.getDefaultTransition()||{}:o;r.transitionOverride&&(s=r.transitionOverride);var u=i?function(){return nu(e,i,r)}:function(){return Promise.resolve()},c=(null===(n=e.variantChildren)||void 0===n?void 0:n.size)?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=s,a=i.delayChildren,o=void 0===a?0:a,u=i.staggerChildren,l=i.staggerDirection;return ru(e,t,o+n,u,l,r)}:function(){return Promise.resolve()},f=s,h=f.when;if(h){var d="beforeChildren"===h?[u,c]:[c,u],p=l(d,2),v=p[0],m=p[1];return v().then(m)}return Promise.all([u(),c(r.delay)])}function nu(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.delay,a=void 0===i?0:i,o=r.transitionOverride,s=r.type,u=e.makeTargetAnimatable(t),l=u.transition,c=void 0===l?e.getDefaultTransition():l,f=u.transitionEnd,h=xi(u,eu),d=e.getValue("willChange");o&&(c=o);var p=[],v=s&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[s]),m=function(t){var n=e.getValue(t),r=h[t];if(!n||void 0===r||v&&au(v,t))return"continue";var i=Jn({delay:a,elapsed:0},c);if(window.HandoffAppearAnimations&&!n.hasAnimated){var o=e.getProps()[Oo];o&&(i.elapsed=window.HandoffAppearAnimations(o,t,n,Ua))}var s=n.start(Zs(t,n,r,e.shouldReduceMotion&&Br.has(t)?{type:!1}:i));Ao(d)&&(d.add(t),s=s.then((function(){return d.remove(t)}))),p.push(s)};for(var y in h)m(y);return Promise.all(p).then((function(){f&&Po(e,f)}))}function ru(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return s-e*r};return Array.from(e.variantChildren).sort(iu).forEach((function(e,r){e.notify("AnimationStart",t),o.push(tu(e,t,Jn(Jn({},a),{},{delay:n+u(r)})).then((function(){return e.notify("AnimationComplete",t)})))})),Promise.all(o)}function iu(e,t){return e.sortNodePosition(t)}function au(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var ou=["transition","transitionEnd"],su=[Ki.Animate,Ki.InView,Ki.Focus,Ki.Hover,Ki.Tap,Ki.Drag,Ki.Exit],uu=[].concat(su).reverse(),lu=su.length;function cu(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){var i=t.map((function(t){return tu(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=tu(e,t,r);else{var a="function"===typeof t?To(e,t,r.custom):t;n=nu(e,a,r)}return n.then((function(){return e.notify("AnimationComplete",t)}))}(e,n,r)})))}}function fu(e){var t=cu(e),n=function(){var e;return $n(e={},Ki.Animate,hu(!0)),$n(e,Ki.InView,hu()),$n(e,Ki.Hover,hu()),$n(e,Ki.Tap,hu()),$n(e,Ki.Drag,hu()),$n(e,Ki.Focus,hu()),$n(e,Ki.Exit,hu()),e}(),r=!0,i=function(t,n){var r=To(e,n);if(r){r.transition;var i=r.transitionEnd,a=xi(r,ou);t=Jn(Jn(Jn({},t),a),i)}return t};function a(a,o){for(var s=e.getProps(),u=e.getVariantContext(!0)||{},l=[],c=new Set,f={},h=1/0,d=function(t){var d=uu[t],p=n[d],v=void 0!==s[d]?s[d]:u[d],m=sr(v),y=d===o?p.isActive:null;!1===y&&(h=t);var g=v===u[d]&&v!==s[d]&&m;if(g&&r&&e.manuallyAnimateOnMount&&(g=!1),p.protectedKeys=Jn({},f),!p.isActive&&null===y||!v&&!p.prevProp||ur(v)||"boolean"===typeof v)return"continue";var b=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!Ia(t,e);return!1}(p.prevProp,v),k=b||d===o&&p.isActive&&!g&&m||t>h&&m,w=Array.isArray(v)?v:[v],_=w.reduce(i,{});!1===y&&(_={});var x=p.prevResolvedValues,S=void 0===x?{}:x,E=Jn(Jn({},S),_),T=function(e){k=!0,c.delete(e),p.needsAnimating[e]=!0};for(var C in E){var I=_[C],P=S[C];f.hasOwnProperty(C)||(I!==P?Ui(I)&&Ui(P)?!Ia(I,P)||b?T(C):p.protectedKeys[C]=!0:void 0!==I?T(C):c.add(C):void 0!==I&&c.has(C)?T(C):p.protectedKeys[C]=!0)}p.prevProp=v,p.prevResolvedValues=_,p.isActive&&(f=Jn(Jn({},f),_)),r&&e.blockInitialAnimation&&(k=!1),k&&!g&&l.push.apply(l,Ca(w.map((function(e){return{animation:e,options:Jn({type:d},a)}}))))},p=0;p<lu;p++)d(p);if(c.size){var v={};c.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(v[t]=n)})),l.push({animation:v})}var m=Boolean(l.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=a(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function hu(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var du={animation:xa((function(e){var n=e.visualElement,r=e.animate;n.animationState||(n.animationState=fu(n)),ur(r)&&(0,t.useEffect)((function(){return r.subscribe(n)}),[r])})),exit:xa((function(e){var n=e.custom,r=e.visualElement,i=l(Ea(),2),a=i[0],o=i[1],s=(0,t.useContext)(tr);(0,t.useEffect)((function(){r.isPresent=a;var e=r.animationState&&r.animationState.setActive(Ki.Exit,!a,{custom:s&&s.custom||n});e&&!a&&e.then(o)}),[a])}))},pu=function(e,t){return Math.abs(e-t)};function vu(e,t){var n=pu(e.x,t.x),r=pu(e.y,t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}var mu=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.transformPagePoint;if(kr(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=bu(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=vu(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=Aa.timestamp;r.history.push(Jn(Jn({},i),{},{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=yu(t,r.transformPagePoint),Ua.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){if(r.end(),r.lastMoveEvent&&r.lastMoveEventInfo){var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=bu("pointercancel"===e.type?r.lastMoveEventInfo:yu(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)}},Xi(t)){this.handlers=n,this.transformPagePoint=a;var o=Ji(t),s=yu(o,this.transformPagePoint),u=s.point,l=Aa.timestamp;this.history=[Jn(Jn({},u),{},{timestamp:l})];var c=n.onSessionStart;c&&c(t,bu(s,this.history)),this.removeListeners=fa(ea(window,"pointermove",this.handlePointerMove),ea(window,"pointerup",this.handlePointerUp),ea(window,"pointercancel",this.handlePointerUp))}}return _r(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),Ba.update(this.updatePoint)}}]),e}();function yu(e,t){return t?{point:t(e.point)}:e}function gu(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bu(e,t){var n=e.point;return{point:n,delta:gu(n,wu(t)),offset:gu(n,ku(t)),velocity:_u(t,.1)}}function ku(e){return e[0]}function wu(e){return e[e.length-1]}function _u(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=wu(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Do(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xu(e){return e.max-e.min}function Su(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function Eu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Uo(t.min,t.max,e.origin),e.scale=xu(n)/xu(t),(Su(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Uo(n.min,n.max,e.origin)-e.originPoint,(Su(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Tu(e,t,n,r){Eu(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),Eu(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function Cu(e,t,n){e.min=n.min+t.min,e.max=e.min+xu(t)}function Iu(e,t,n){e.min=t.min-n.min,e.max=e.min+xu(t)}function Pu(e,t,n){Iu(e.x,t.x,n.x),Iu(e.y,t.y,n.y)}function Nu(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Au(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var Ou=.35;function Du(e,t,n){return{min:Ru(e,t),max:Ru(e,n)}}function Ru(e,t){return"number"===typeof e?e:e[t]||0}function Mu(e){return[e("x"),e("y")]}function Lu(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function ju(e){return void 0===e||1===e}function Fu(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!ju(t)||!ju(n)||!ju(r)}function Vu(e){return Fu(e)||Uu(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Uu(e){return Bu(e.x)||Bu(e.y)}function Bu(e){return e&&"0%"!==e}function qu(e,t,n){return n+t*(e-n)}function zu(e,t,n,r,i){return void 0!==i&&(e=qu(e,i,r)),qu(e,n,r)+t}function Hu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=zu(e.min,t,n,r,i),e.max=zu(e.max,t,n,r,i)}function Wu(e,t){var n=t.x,r=t.y;Hu(e.x,n.translate,n.scale,n.originPoint),Hu(e.y,r.translate,r.scale,r.originPoint)}function Ku(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Gu(e,t){e.min=e.min+t,e.max=e.max+t}function Qu(e,t,n){var r=l(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=Uo(e.min,e.max,s);Hu(e,t[i],t[a],u,t.scale)}var Yu=["x","scaleX","originX"],$u=["y","scaleY","originY"];function Xu(e,t){Qu(e.x,t,Yu),Qu(e.y,t,$u)}function Ju(e,t){return Lu(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var Zu=new WeakMap,el=function(){function e(t){kr(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}return _r(e,[{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){var a=function(e){t.stopAnimation(),i&&t.snapToCursor(Ji(e,"page").point)},o=function(e,n){var r,i=t.getProps(),a=i.drag,o=i.dragPropagation,s=i.onDragStart;(!a||o||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=aa(a),t.openGlobalLock))&&(t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),Mu((function(e){var n,r,i=t.getAxisMotionValue(e).get()||0;if(oi.test(i)){var a=null===(r=null===(n=t.visualElement.projection)||void 0===n?void 0:n.layout)||void 0===r?void 0:r.layoutBox[e];if(a)i=xu(a)*(parseFloat(i)/100)}t.originPoint[e]=i})),null===s||void 0===s||s(e,n),null===(r=t.visualElement.animationState)||void 0===r||r.setActive(Ki.Drag,!0))},s=function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=nl(u),void(null!==t.currentDirection&&(null===o||void 0===o||o(t.currentDirection)));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.render(),null===s||void 0===s||s(e,n)}},u=function(e,n){return t.stop(e,n)};this.panSession=new mu(e,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}}},{key:"cancel",value:function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(Ki.Drag,!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&tl(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?Uo(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Uo(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&or(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:Nu(e.x,r,a),y:Nu(e.y,n,i)}}(i.layoutBox,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou;return!1===e?e=0:!0===e&&(e=Ou),{x:Du(e,"left","right"),y:Du(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Mu((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!or(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=Ju(e,n),i=t.scroll;return i&&(Gu(r.x,i.offset.x),Gu(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:Au(e.x,t.x),y:Au(e.y,t.y)}}(i.layout.layoutBox,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=Lu(s))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,l=this.constraints||{},c=Mu((function(n){if(tl(n,r,t.currentDirection)){var u=(null===l||void 0===l?void 0:l[n])||{};s&&(u={min:0,max:0});var c=a?200:1e6,f=a?40:1e7,h=Jn(Jn({type:"inertia",velocity:i?e[n]:0,bounceStiffness:c,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10},o),u);return t.startAxisValueAnimation(n,h)}}));return Promise.all(c).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){var n=this.getAxisMotionValue(e);return n.start(Zs(e,n,0,t))}},{key:"stopAnimation",value:function(){var e=this;Mu((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t,n="_drag"+e.toUpperCase(),r=this.visualElement.getProps()[n];return r||this.visualElement.getValue(e,(null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])||0)}},{key:"snapToCursor",value:function(e){var t=this;Mu((function(n){if(tl(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.layoutBox[n],o=a.min,s=a.max;i.set(e[n]-Uo(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e,t=this;if(this.visualElement.current){var n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(or(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};Mu((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=xu(e),i=xu(t);return i>r?n=$o(t.min,t.max-r,e.min):r>i&&(n=$o(e.min,e.max-i,t.min)),Yr(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.current.style.transform=s?s({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),Mu((function(e){if(tl(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,s=i.max;n.set(Uo(a,s,o[e]))}}))}}}},{key:"addListeners",value:function(){var e,t=this;if(this.visualElement.current){Zu.set(this.visualElement,this);var n=ea(this.visualElement.current,"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){or(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=Yi(window,"resize",(function(){return t.scalePositionWithinConstraints()})),s=i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(Mu((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.render())}));return function(){o(),n(),a(),null===s||void 0===s||s()}}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,l=e.dragElastic,c=void 0===l?Ou:l,f=e.dragMomentum,h=void 0===f||f;return Jn(Jn({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h})}}]),e}();function tl(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}function nl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}var rl={pan:xa((function(e){var n=e.onPan,r=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=e.visualElement,s=n||r||i||a,u=(0,t.useRef)(null),l=(0,t.useContext)(Zn).transformPagePoint,c={onSessionStart:a,onStart:r,onMove:n,onEnd:function(e,t){u.current=null,i&&i(e,t)}};(0,t.useEffect)((function(){null!==u.current&&u.current.updateHandlers(c)})),ta(o,"pointerdown",s&&function(e){u.current=new mu(e,c,{transformPagePoint:l})}),la((function(){return u.current&&u.current.end()}))})),drag:xa((function(e){var n=e.dragControls,r=e.visualElement,i=mr((function(){return new el(r)}));(0,t.useEffect)((function(){return n&&n.subscribe(i)}),[i,n]),(0,t.useEffect)((function(){return i.addListeners()}),[i])}))};function il(e){return"string"===typeof e&&e.startsWith("var(--")}var al=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ol(e){var t=al.exec(e);if(!t)return[,];var n=l(t,3);return[n[1],n[2]]}function sl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=ol(e),i=l(r,2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);return s?s.trim():il(o)?sl(o,t,n+1):o}}function ul(e,t,n){var r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),i=e.current;if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=Jn({},n)),e.values.forEach((function(e){var t=e.get();if(il(t)){var n=sl(t,i);n&&e.set(n)}})),r){var o=r[a];if(il(o)){var s=sl(o,i);s&&(r[a]=s,n&&void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}var ll,cl=new Set(["width","height","top","left","right","bottom","x","y"]),fl=function(e){return cl.has(e)},hl=function(e){return e===$r||e===si};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(ll||(ll={}));var dl=function(e,t){return parseFloat(e.split(", ")[t])},pl=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return dl(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?dl(o[1],e):0}},vl=new Set(["x","y","z"]),ml=Ur.filter((function(e){return!vl.has(e)}));function yl(e){var t=[];return ml.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}var gl={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:pl(4,13),y:pl(5,14)},bl=function(e,t,n){var r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=gl[e](r,a)})),t.render();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);r&&r.jump(s[n]),e[n]=gl[n](u,a)})),e};function kl(e,t,n,r){return function(e){return Object.keys(e).some(fl)}(t)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Jn({},t),r=Jn({},r);var i=Object.keys(t).filter(fl),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var l,c=n[i],f=xo(c),h=t[i];if(Ui(h)){var d=h.length,p=null===h[0]?1:0;c=h[p],f=xo(c);for(var v=p;v<d;v++)l?xo(h[v]):(l=xo(h[v]))===f||hl(f)&&hl(l)}else l=xo(h);if(f!==l)if(hl(f)&&hl(l)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&l===si&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===l||void 0===l?void 0:l.transform)&&(0===c||0===h)?0===c?u.set(l.transform(c)):t[i]=f.transform(h):(o||(a=yl(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],u.jump(h))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,c=bl(t,e,s);return a.length&&a.forEach((function(t){var n=l(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.render(),nr&&null!==u&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var wl={current:null},_l={current:!1};var xl=["willChange"],Sl=["children"],El=Object.keys(vr),Tl=El.length,Cl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Il=function(){function e(t){var n=this,r=t.parent,i=t.props,a=t.reducedMotionConfig,o=t.visualState,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};kr(this,e),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=function(){return n.notify("Update",n.latestValues)},this.render=function(){n.current&&(n.triggerBuild(),n.renderInstance(n.current,n.renderState,n.props.style,n.projection))},this.scheduleRender=function(){return Ua.render(n.render,!1,!0)};var u=o.latestValues,l=o.renderState;this.latestValues=u,this.baseTarget=Jn({},u),this.initialValues=i.initial?Jn({},u):{},this.renderState=l,this.parent=r,this.props=i,this.depth=r?r.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.isControllingVariants=cr(i),this.isVariantNode=fr(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(r&&r.current);var c=this.scrapeMotionValuesFromProps(i,{}),f=c.willChange,h=xi(c,xl);for(var d in h){var p=h[d];void 0!==u[d]&&zr(p)&&(p.set(u[d],!1),Ao(f)&&f.add(d))}}return _r(e,[{key:"scrapeMotionValuesFromProps",value:function(e,t){return{}}},{key:"mount",value:function(e){var t,n=this;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=null===(t=this.parent)||void 0===t?void 0:t.addVariantChild(this)),this.values.forEach((function(e,t){return n.bindToMotionValue(t,e)})),_l.current||function(){if(_l.current=!0,nr)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return wl.current=e.matches};e.addListener(t),t()}else wl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||wl.current),this.parent&&this.parent.children.add(this),this.setProps(this.props)}},{key:"unmount",value:function(){var e,t,n;for(var r in null===(e=this.projection)||void 0===e||e.unmount(),Ba.update(this.notifyUpdate),Ba.render(this.render),this.valueSubscriptions.forEach((function(e){return e()})),null===(t=this.removeFromVariantTree)||void 0===t||t.call(this),null===(n=this.parent)||void 0===n||n.children.delete(this),this.events)this.events[r].clear();this.current=null}},{key:"bindToMotionValue",value:function(e,t){var n=this,r=Br.has(e),i=t.on("change",(function(t){n.latestValues[e]=t,n.props.onUpdate&&Ua.update(n.notifyUpdate,!1,!0),r&&n.projection&&(n.projection.isTransformDirty=!0)})),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(function(){i(),a()}))}},{key:"sortNodePosition",value:function(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}},{key:"loadFeatures",value:function(e,n,r,i,a,o){for(var s=this,u=(e.children,xi(e,Sl)),l=[],c=0;c<Tl;c++){var f=El[c],h=vr[f],d=h.isEnabled,p=h.Component;d(u)&&p&&l.push((0,t.createElement)(p,Jn(Jn({key:f},u),{},{visualElement:this})))}if(!this.projection&&a){this.projection=new a(i,this.latestValues,this.parent&&this.parent.projection);var v=u.layoutId,m=u.layout,y=u.drag,g=u.dragConstraints,b=u.layoutScroll,k=u.layoutRoot;this.projection.setOptions({layoutId:v,layout:m,alwaysMeasureLayout:Boolean(y)||g&&or(g),visualElement:this,scheduleRender:function(){return s.scheduleRender()},animationType:"string"===typeof m?m:"both",initialPromotionConfig:o,layoutScroll:b,layoutRoot:k})}return l}},{key:"triggerBuild",value:function(){this.build(this.renderState,this.latestValues,this.options,this.props)}},{key:"measureViewportBox",value:function(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}},{key:"getStaticValue",value:function(e){return this.latestValues[e]}},{key:"setStaticValue",value:function(e,t){this.latestValues[e]=t}},{key:"makeTargetAnimatable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}},{key:"setProps",value:function(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();var t=this.props;this.props=e;for(var n=0;n<Cl.length;n++){var r=Cl[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);var i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=function(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(zr(a))e.addValue(i,a),Ao(r)&&r.add(i);else if(zr(o))e.addValue(i,Ja(a,{owner:e})),Ao(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var u=e.getStaticValue(i);e.addValue(i,Ja(void 0!==u?u:a,{owner:e}))}}for(var l in n)void 0===t[l]&&e.removeValue(l);return t}(this,this.scrapeMotionValuesFromProps(e,t),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}},{key:"getProps",value:function(){return this.props}},{key:"getVariant",value:function(e){var t;return null===(t=this.props.variants)||void 0===t?void 0:t[e]}},{key:"getDefaultTransition",value:function(){return this.props.transition}},{key:"getTransformPagePoint",value:function(){return this.props.transformPagePoint}},{key:"getClosestVariantNode",value:function(){var e;return this.isVariantNode?this:null===(e=this.parent)||void 0===e?void 0:e.getClosestVariantNode()}},{key:"getVariantContext",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n)return null===(e=this.parent)||void 0===e?void 0:e.getVariantContext();if(!this.isControllingVariants){var r=(null===(t=this.parent)||void 0===t?void 0:t.getVariantContext())||{};return void 0!==this.props.initial&&(r.initial=this.props.initial),r}for(var i={},a=0;a<Nl;a++){var o=Pl[a],s=this.props[o];(sr(s)||!1===s)&&(i[o]=s)}return i}},{key:"addVariantChild",value:function(e){var t,n=this.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}}},{key:"addValue",value:function(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}},{key:"removeValue",value:function(e){var t;this.values.delete(e),null===(t=this.valueSubscriptions.get(e))||void 0===t||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}},{key:"hasValue",value:function(e){return this.values.has(e)}},{key:"getValue",value:function(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];var n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Ja(t,{owner:this}),this.addValue(e,n)),n}},{key:"readValue",value:function(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}},{key:"setBaseTarget",value:function(e,t){this.baseTarget[e]=t}},{key:"getBaseTarget",value:function(e){var t,n=this.props.initial,r="string"===typeof n||"object"===typeof n?null===(t=Vi(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;var i=this.getBaseTargetFromProps(this.props,e);return void 0===i||zr(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}},{key:"on",value:function(e,t){return this.events[e]||(this.events[e]=new Qa),this.events[e].add(t)}},{key:"notify",value:function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];null===(n=this.events[e])||void 0===n||(t=n).notify.apply(t,i)}}]),e}(),Pl=["initial"].concat(Ca(su)),Nl=Pl.length,Al=["transition","transitionEnd"],Ol=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"sortInstanceNodePosition",value:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1}},{key:"getBaseTargetFromProps",value:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]}},{key:"removeValueFromRenderState",value:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]}},{key:"makeTargetAnimatableFromInstance",value:function(e,t,n){var r=e.transition,i=e.transitionEnd,a=xi(e,Al),o=t.transformValues,s=function(e,t,n){var r,i={};for(var a in e){var o=No(a,t);i[a]=void 0!==o?o:null===(r=n.getValue(a))||void 0===r?void 0:r.get()}return i}(a,r||{},this);if(o&&(i&&(i=o(i)),a&&(a=o(a)),s&&(s=o(s))),n){!function(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var u=a[s],l=t[u],c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==c&&null!==c&&("string"===typeof c&&(Pa(c)||Na(c))?c=parseFloat(c):!Eo(c)&&ho.test(l)&&(c=ko(u,l)),e.addValue(u,Ja(c,{owner:e})),void 0===n[u]&&(n[u]=c),null!==c&&e.setBaseTarget(u,c))}}(this,a,s);var u=function(e,t,n,r){var i=ul(e,t,r);return kl(e,t=i.target,n,r=i.transitionEnd)}(this,a,s,i);i=u.transitionEnd,a=u.target}return Jn({transition:r,transitionEnd:i},a)}}]),n}(Il);var Dl=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"readValueFromInstance",value:function(e,t){if(Br.has(t)){var n=bo(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(Gr(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a}},{key:"measureInstanceViewportBox",value:function(e,t){return Ju(e,t.transformPagePoint)}},{key:"build",value:function(e,t,n,r){di(e,t,n,r.transformTemplate)}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return ji(e,t)}},{key:"handleChildMotionValue",value:function(){var e=this;this.childSubscription&&(this.childSubscription(),delete this.childSubscription);var t=this.props.children;zr(t)&&(this.childSubscription=t.on("change",(function(t){e.current&&(e.current.textContent="".concat(t))})))}},{key:"renderInstance",value:function(e,t,n,r){Ri(e,t,n,r)}}]),n}(Ol);function Rl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Er(e)););return e}function Ml(){return Ml="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Rl(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ml.apply(this,arguments)}var Ll=function(e){Sr(n,e);var t=Nr(n);function n(){var e;return kr(this,n),(e=t.apply(this,arguments)).isSVGTag=!1,e}return _r(n,[{key:"getBaseTargetFromProps",value:function(e,t){return e[t]}},{key:"readValueFromInstance",value:function(e,t){var n;return Br.has(t)?(null===(n=bo(t))||void 0===n?void 0:n.default)||0:(t=Mi.has(t)?t:Di(t),e.getAttribute(t))}},{key:"measureInstanceViewportBox",value:function(){return{x:{min:0,max:0},y:{min:0,max:0}}}},{key:"scrapeMotionValuesFromProps",value:function(e,t){return Fi(e,t)}},{key:"build",value:function(e,t,n,r){Ii(e,t,n,this.isSVGTag,r.transformTemplate)}},{key:"renderInstance",value:function(e,t,n,r){Li(e,t,0,r)}},{key:"mount",value:function(e){this.isSVGTag=Ni(e.tagName),Ml(Er(n.prototype),"mount",this).call(this,e)}}]),n}(Ol),jl=function(e,t){return Fr(e)?new Ll(t,{enableHardwareAcceleration:!1}):new Dl(t,{enableHardwareAcceleration:!0})};function Fl(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Vl={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!si.test(e))return e;e=parseFloat(e)}var n=Fl(e,t.target.x),r=Fl(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Ul="_$css",Bl={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(al,(function(e){return o.push(e),Ul})));var s=ho.parse(e);if(s.length>5)return i;var u=ho.createTransformer(e),l="number"!==typeof s[0]?1:0,c=r.x.scale*n.x,f=r.y.scale*n.y;s[0+l]/=c,s[1+l]/=f;var h=Uo(c,f,.5);"number"===typeof s[2+l]&&(s[2+l]/=h),"number"===typeof s[3+l]&&(s[3+l]/=h);var d=u(s);if(a){var p=0;d=d.replace(Ul,(function(){var e=o[p];return p++,e}))}return d}},ql=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=zl,Object.assign(Vr,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(Jn(Jn({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),yr.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Ua.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;null===e||void 0===e||e()}},{key:"render",value:function(){return null}}]),n}(t.Component);var zl={borderRadius:Jn(Jn({},Vl),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Vl,borderTopRightRadius:Vl,borderBottomLeftRadius:Vl,borderBottomRightRadius:Vl,boxShadow:Bl},Hl={measureLayout:function(e){var n=l(Ea(),2),r=n[0],i=n[1],a=(0,t.useContext)(br);return t.createElement(ql,Jn(Jn({},e),{},{layoutGroup:a,switchLayoutGroup:(0,t.useContext)(Or),isPresent:r,safeToRemove:i}))}};var Wl=["TopLeft","TopRight","BottomLeft","BottomRight"],Kl=Wl.length,Gl=function(e){return"string"===typeof e?parseFloat(e):e},Ql=function(e){return"number"===typeof e||si.test(e)};function Yl(e,t,n,r,i,a){i?(e.opacity=Uo(0,void 0!==n.opacity?n.opacity:1,Xl(r)),e.opacityExit=Uo(void 0!==t.opacity?t.opacity:1,0,Jl(r))):a&&(e.opacity=Uo(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(var o=0;o<Kl;o++){var s="border".concat(Wl[o],"Radius"),u=$l(t,s),l=$l(n,s);if(void 0!==u||void 0!==l)u||(u=0),l||(l=0),0===u||0===l||Ql(u)===Ql(l)?(e[s]=Math.max(Uo(Gl(u),Gl(l),r),0),(oi.test(l)||oi.test(u))&&(e[s]+="%")):e[s]=l}(t.rotate||n.rotate)&&(e.rotate=Uo(t.rotate||0,n.rotate||0,r))}function $l(e,t){return void 0!==e[t]?e[t]:e.borderRadius}var Xl=Zl(0,.5,is),Jl=Zl(.5,.95,es);function Zl(e,t,n){return function(r){return r<e?0:r>t?1:n($o(e,t,r))}}function ec(e,t){e.min=t.min,e.max=t.max}function tc(e,t){ec(e.x,t.x),ec(e.y,t.y)}function nc(e,t,n,r,i){return e=qu(e-=t,1/n,r),void 0!==i&&(e=qu(e,1/i,r)),e}function rc(e,t,n,r,i){var a=l(n,3),o=a[0],s=a[1],u=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(oi.test(t)){t=parseFloat(t),t=Uo(o.min,o.max,t/100)-o.min}if("number"===typeof t){var s=Uo(a.min,a.max,r);e===a&&(s-=t),e.min=nc(e.min,t,n,s,i),e.max=nc(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var ic=["x","scaleX","originX"],ac=["y","scaleY","originY"];function oc(e,t,n,r){rc(e.x,t,ic,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),rc(e.y,t,ac,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function sc(e){return 0===e.translate&&1===e.scale}function uc(e){return sc(e.x)&&sc(e.y)}function lc(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function cc(e){return xu(e.x)/xu(e.y)}var fc=function(){function e(){kr(this,e),this.members=[]}return _r(e,[{key:"add",value:function(e){Ka(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(Ga(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function hc(e,t,n){var r="",i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r="translate3d(".concat(i,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(r+="rotate(".concat(o,"deg) ")),s&&(r+="rotateX(".concat(s,"deg) ")),u&&(r+="rotateY(".concat(u,"deg) "))}var l=e.x.scale*t.x,c=e.y.scale*t.y;return 1===l&&1===c||(r+="scale(".concat(l,", ").concat(c,")")),r||"none"}var dc=function(e,t){return e.depth-t.depth},pc=function(){function e(){kr(this,e),this.children=[],this.isDirty=!1}return _r(e,[{key:"add",value:function(e){Ka(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){Ga(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(dc),this.isDirty=!1,this.children.forEach(e)}}]),e}(),vc=["","X","Y","Z"],mc=0;function yc(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===n||void 0===n?void 0:n();kr(this,e),this.id=mc++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){r.nodes.forEach(kc),r.nodes.forEach(Ec),r.nodes.forEach(Tc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=t,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[].concat(Ca(a.path),[a]):[],this.parent=a,this.depth=a?a.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new pc)}return _r(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Qa),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===t||void 0===t||t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"registerPotentialNode",value:function(e,t){this.potentialNodes.set(e,t)}},{key:"mount",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.current&&u.mount(e),this.root.nodes.add(this),null===(n=this.parent)||void 0===n||n.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),i&&(s||o)&&(this.isLayoutDirty=!0),t){var l,c=function(){return r.root.updateBlockedByResize=!1};t(e,(function(){r.root.updateBlockedByResize=!0,l&&l(),l=js(c,250),yr.hasAnimatedSinceResize&&(yr.hasAnimatedSinceResize=!1,r.nodes.forEach(Sc))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t,n,i,a,o,s=e.delta,l=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,f=e.layout;if(r.isTreeAnimationBlocked())return r.target=void 0,void(r.relativeTarget=void 0);var h=null!==(n=null!==(t=r.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:Dc,d=u.getProps(),p=d.onLayoutAnimationStart,v=d.onLayoutAnimationComplete,m=!r.targetLayout||!lc(r.targetLayout,f)||c,y=!l&&c;if(r.options.layoutRoot||(null===(i=r.resumeFrom)||void 0===i?void 0:i.instance)||y||l&&(m||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(s,y);var g=Jn(Jn({},Xs(h,"layout")),{},{onPlay:p,onComplete:v});(u.shouldReduceMotion||r.options.layoutRoot)&&(g.delay=0,g.type=!1),r.startAnimation(g)}else l||0!==r.animationProgress||Sc(r),r.isLead()&&(null===(o=(a=r.options).onExitComplete)||void 0===o||o.call(a));r.targetLayout=f}))}}},{key:"unmount",value:function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Ba.preRender(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1}},{key:"startUpdate",value:function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(Cc),this.animationId++)}},{key:"getTransformTemplate",value:function(){var e;return null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate}},{key:"willUpdate",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.isUpdateBlocked())null===(t=(e=this.options).onExitComplete)||void 0===t||t.call(e);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll("snapshot"),a.options.layoutRoot&&a.willUpdate(!1)}var o=this.options,s=o.layoutId,u=o.layout;(void 0!==s||u)&&(this.prevTransformTemplateValue=null===(n=this.getTransformTemplate())||void 0===n?void 0:n(this.latestValues,""),this.updateSnapshot(),r&&this.notifyListeners("willUpdate"))}}},{key:"didUpdate",value:function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(_c);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Rc),this.potentialNodes.clear()),this.nodes.forEach(xc),this.nodes.forEach(gc),this.nodes.forEach(bc),this.clearAllSnapshots(),qa.update(),qa.preRender(),qa.render())}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(wc),this.sharedNodes.forEach(Ic)}},{key:"scheduleUpdateProjection",value:function(){Ua.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;Ua.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}},{key:"updateLayout",value:function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),null===(e=this.options.visualElement)||void 0===e||e.notify("LayoutMeasure",this.layout.layoutBox,null===n||void 0===n?void 0:n.layoutBox)}}},{key:"updateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:i(this.instance),offset:r(this.instance)})}},{key:"resetTransform",value:function(){var e;if(a){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!uc(this.projectionDelta),r=null===(e=this.getTransformTemplate())||void 0===e?void 0:e(this.latestValues,""),i=r!==this.prevTransformTemplateValue;t&&(n||Vu(this.latestValues)||i)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),Lc(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}},{key:"measurePageBox",value:function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(Gu(t.x,n.offset.x),Gu(t.y,n.offset.y)),t}},{key:"removeElementScroll",value:function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};tc(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){tc(t,e);var o=this.root.scroll;o&&(Gu(t.x,-o.offset.x),Gu(t.y,-o.offset.y))}Gu(t.x,i.offset.x),Gu(t.y,i.offset.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={x:{min:0,max:0},y:{min:0,max:0}};tc(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xu(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),Vu(i.latestValues)&&Xu(n,i.latestValues)}return Vu(this.latestValues)&&Xu(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};tc(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&Vu(i.latestValues)){Fu(i.latestValues)&&i.updateSnapshot();var a={x:{min:0,max:0},y:{min:0,max:0}};tc(a,i.measurePageBox()),oc(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layoutBox,a)}}return Vu(this.latestValues)&&oc(n,this.latestValues),n}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}},{key:"setOptions",value:function(e){this.options=Jn(Jn(Jn({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"resolveTargetDelta",value:function(){var e,t=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isProjectionDirty||this.attemptToResolveRelativeTarget){var n=this.options,r=n.layout,i=n.layoutId;if(this.layout&&(r||i)){if(!this.targetDelta&&!this.relativeTarget){var a=this.getClosestProjectingParent();a&&a.layout?(this.relativeParent=a,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Pu(this.relativeTargetOrigin,this.layout.layoutBox,a.layout.layoutBox),tc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var o,s,u;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(o=this.target,s=this.relativeTarget,u=this.relativeParent.target,Cu(o.x,s.x,u.x),Cu(o.y,s.y,u.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):tc(this.target,this.layout.layoutBox),Wu(this.target,this.targetDelta)):tc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;var l=this.getClosestProjectingParent();l&&Boolean(l.resumingFrom)===Boolean(this.resumingFrom)&&!l.options.layoutScroll&&l.target?(this.relativeParent=l,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Pu(this.relativeTargetOrigin,this.target,l.target),tc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!Fu(this.parent.latestValues)&&!Uu(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}},{key:"calcProjection",value:function(){var e,t=this.isProjectionDirty,n=this.isTransformDirty;this.isProjectionDirty=this.isTransformDirty=!1;var r=this.getLead(),i=Boolean(this.resumingFrom)||this!==r,a=!0;if(t&&(a=!1),i&&n&&(a=!1),!a){var o=this.options,s=o.layout,u=o.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(s||u)){tc(this.layoutCorrected,this.layout.layoutBox),function(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.length;if(o){var s,u;t.x=t.y=1;for(var l=0;l<o;l++)u=(s=n[l]).projectionDelta,"contents"!==(null===(i=null===(r=s.instance)||void 0===r?void 0:r.style)||void 0===i?void 0:i.display)&&(a&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xu(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Wu(e,u)),a&&Vu(s.latestValues)&&Xu(e,s.latestValues));t.x=Ku(t.x),t.y=Ku(t.y)}}(this.layoutCorrected,this.treeScale,this.path,i);var l=r.target;if(l){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var c=this.treeScale.x,f=this.treeScale.y,h=this.projectionTransform;Tu(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=hc(this.projectionDelta,this.treeScale),this.projectionTransform===h&&this.treeScale.x===c&&this.treeScale.y===f||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))}}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(t=(e=this.options).scheduleRender)||void 0===t||t.call(e),r&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t,n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.snapshot,o=(null===a||void 0===a?void 0:a.latestValues)||{},s=Jn({},this.latestValues),u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!i;var l={x:{min:0,max:0},y:{min:0,max:0}},c=(null===a||void 0===a?void 0:a.source)!==(null===(t=this.layout)||void 0===t?void 0:t.source),f=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,h=Boolean(c&&!f&&!0===this.options.crossfade&&!this.path.some(Oc));this.animationProgress=0,this.mixTargetDelta=function(t){var n,i=t/1e3;Pc(u.x,e.x,i),Pc(u.y,e.y,i),r.setTargetDelta(u),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(Pu(l,r.layout.layoutBox,r.relativeParent.layout.layoutBox),Ac(r.relativeTarget,r.relativeTargetOrigin,l,i)),c&&(r.animationValues=s,Yl(s,o,r.latestValues,i,h,f)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=i},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}},{key:"startAnimation",value:function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(Ba.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ua.update((function(){yr.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=zr(e)?e:Ja(e);return r.start(Zs("",r,t,n)),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,1e3,Jn(Jn({},e),{},{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;if(t&&n&&r){if(this!==e&&this.layout&&r&&jc(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};var a=xu(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+a;var o=xu(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}tc(t,n),Xu(t,i),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}},{key:"registerSharedNode",value:function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new fc),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){var t=!1,n=e.latestValues;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),t){for(var r={},i=0;i<vc.length;i++){var a="rotate"+vc[i];n[a]&&(r[a]=n[a],e.setStaticValue(a,0))}for(var o in null===e||void 0===e||e.render(),r)e.setStaticValue(o,r[o]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";var i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=qi(n.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;var a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){var o={};return this.options.layoutId&&(o.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,o.pointerEvents=qi(n.pointerEvents)||""),this.hasProjected&&!Vu(this.latestValues)&&(o.transform=i?i({},""):"none",this.hasProjected=!1),o}var s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=hc(this.projectionDeltaWithTransform,this.treeScale,s),i&&(r.transform=i(s,r.transform));var u=this.projectionDelta,l=u.x,c=u.y;for(var f in r.transformOrigin="".concat(100*l.origin,"% ").concat(100*c.origin,"% 0"),a.animationValues?r.opacity=a===this?null!==(t=null!==(e=s.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==t?t:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,Vr)if(void 0!==s[f]){var h=Vr[f],d=h.correct,p=h.applyTo,v="none"===r.transform?s[f]:d(s[f],a);if(p)for(var m=p.length,y=0;y<m;y++)r[p[y]]=v;else r[f]=v}return this.options.layoutId&&(r.pointerEvents=a===this?qi(n.pointerEvents)||"":"none"),r}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(_c),this.root.sharedNodes.clear()}}]),e}()}function gc(e){e.updateLayout()}function bc(e){var t,n,r,i=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){var a=e.layout,o=a.layoutBox,s=a.measuredBox,u=e.options.animationType,l=i.source!==e.layout.source;"size"===u?Mu((function(e){var t=l?i.measuredBox[e]:i.layoutBox[e],n=xu(t);t.min=o[e].min,t.max=t.min+n})):jc(u,i.layoutBox,o)&&Mu((function(e){var t=l?i.measuredBox[e]:i.layoutBox[e],n=xu(o[e]);t.max=t.min+n}));var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Tu(c,o,i.layoutBox);var f={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};l?Tu(f,e.applyTransform(s,!0),i.measuredBox):Tu(f,o,i.layoutBox);var h=!uc(c),d=!1;if(!e.resumeFrom){var p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){var v=p.snapshot,m=p.layout;if(v&&m){var y={x:{min:0,max:0},y:{min:0,max:0}};Pu(y,i.layoutBox,v.layoutBox);var g={x:{min:0,max:0},y:{min:0,max:0}};Pu(g,o,m.layoutBox),lc(y,g)||(d=!0),p.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=y,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:i,delta:f,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else e.isLead()&&(null===(r=(n=e.options).onExitComplete)||void 0===r||r.call(n));e.options.transition=void 0}function kc(e){e.isProjectionDirty||(e.isProjectionDirty=Boolean(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=Boolean(e.parent&&e.parent.isTransformDirty))}function wc(e){e.clearSnapshot()}function _c(e){e.clearMeasurements()}function xc(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Sc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Ec(e){e.resolveTargetDelta()}function Tc(e){e.calcProjection()}function Cc(e){e.resetRotation()}function Ic(e){e.removeLeadSnapshot()}function Pc(e,t,n){e.translate=Uo(t.translate,0,n),e.scale=Uo(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Nc(e,t,n,r){e.min=Uo(t.min,n.min,r),e.max=Uo(t.max,n.max,r)}function Ac(e,t,n,r){Nc(e.x,t.x,n.x,r),Nc(e.y,t.y,n.y,r)}function Oc(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var Dc={duration:.45,ease:[.4,0,.1,1]};function Rc(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function Mc(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Lc(e){Mc(e.x),Mc(e.y)}function jc(e,t,n){return"position"===e||"preserve-aspect"===e&&!Su(cc(t),cc(n),.2)}var Fc=yc({attachResizeListener:function(e,t){return Yi(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),Vc={current:void 0},Uc=yc({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Vc.current){var e=new Fc(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Vc.current=e}return Vc.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),Bc=Jn(Jn(Jn(Jn({},du),Sa),rl),Hl),qc=Lr((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a;return Jn(Jn({},Fr(e)?Gi:Qi),{},{preloadedFeatures:n,useRender:Oi(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,Bc,jl,Uc)}));var zc=function(e){var t=e.setSelectedImg,n=e.selectedImg;return(0,c.jsx)(qc.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1},children:(0,c.jsx)(qc.img,{src:n,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})},Hc=n(628),Wc=n.n(Hc),Kc=function(){return(0,c.jsxs)("div",{className:"GalleryTitle",children:[(0,c.jsx)("h2",{children:"Gallery Playground"}),(0,c.jsx)("div",{className:"animated-typing",children:(0,c.jsx)(Wc(),{strings:["Welcome to my 2023 Photo Gallery.","I have no idea what to write when I firstly create this gallery.","Then I come up with ...","Photo is my footprint, every moment I captured is the proof of my existence."],typeSpeed:60,backSpeed:25,loop:!0})})]})};function Gc(e,t,n){return Gc=Tr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&xr(i,n.prototype),i},Gc.apply(null,arguments)}function Qc(e){var t="function"===typeof Map?new Map:void 0;return Qc=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Gc(e,arguments,Er(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),xr(n,e)},Qc(e)}var Yc=!1,$c=!1,Xc="${JSCORE_VERSION}",Jc=function(e,t){if(!e)throw Zc(t)},Zc=function(e){return new Error("Firebase Database ("+Xc+") INTERNAL ASSERT FAILED: "+e)},ef=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},tf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ef(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},nf=function(e){var t=ef(e);return tf.encodeByteArray(t,!0)},rf=function(e){return nf(e).replace(/\./g,"")},af=function(e){try{return tf.decodeString(e,!0)}catch(lB){console.error("base64Decode failed: ",lB)}return null};function of(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&sf(n)&&(e[n]=of(e[n],t[n]));return e}function sf(e){return"__proto__"!==e}var uf=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},lf=function(){try{return uf()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(lB){return}var t=e&&af(e[1]);return t&&JSON.parse(t)}}()}catch(lB){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(lB))}},cf=function(){var e;return null===(e=lf())||void 0===e?void 0:e.config},ff=function(){function e(){var t=this;kr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return _r(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function hf(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rf(JSON.stringify({alg:"none",type:"JWT"})),rf(JSON.stringify(a)),""].join(".")}function df(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function pf(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(df())}function vf(){var e,t=null===(e=lf())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(lB){return!1}}function mf(){return!0===Yc||!0===$c}function yf(){try{return"object"===typeof indexedDB}catch(lB){return!1}}var gf=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i){var a;return kr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Ir(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ir(a),bf.prototype.create),a}return _r(n)}(Qc(Error)),bf=function(){function e(t,n,r){kr(this,e),this.service=t,this.serviceName=n,this.errors=r}return _r(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?kf(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new gf(n,a,t);return o}}]),e}();function kf(e,t){return e.replace(wf,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var wf=/\{\$([^}]+)}/g;function _f(e){return JSON.parse(e)}function xf(e){return JSON.stringify(e)}var Sf=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=_f(af(a[0])||""),n=_f(af(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(lB){}return{header:t,claims:n,data:r,signature:i}};function Ef(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Tf(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Cf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function If(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Pf(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Nf(s)&&Nf(u)){if(!Pf(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Nf(e){return null!==e&&"object"===typeof e}function Af(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}var Of=function(){function e(){kr(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return _r(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^c&(f^h),u=1518500249):(s=c^f^h,u=1859775393):p<60?(s=c&f|h&(c|f),u=2400959708):(s=c^f^h,u=3395469782);var v=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Df(e,t){var n=new Rf(e,t);return n.subscribe.bind(n)}var Rf=function(){function e(t,n){var r=this;kr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return _r(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Hr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Mf),void 0===r.error&&(r.error=Mf),void 0===r.complete&&(r.complete=Mf);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(lB){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(lB){"undefined"!==typeof console&&console.error&&console.error(lB)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Mf(){}var Lf=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function jf(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Ff(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(jf(e,t)+"must be a valid function.")}function Vf(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(jf(e,t)+"must be a valid context object.")}var Uf=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Bf(e){return e&&e._delegate?e._delegate:e}function qf(){qf=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(T([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,a,o,s){var u=c(e[r],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Cr(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(g),u(g,s,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function zf(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(AO){return void n(AO)}s.done?t(u):Promise.resolve(u).then(r,i)}function Hf(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){zf(a,r,i,o,s,"next",e)}function s(e){zf(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Wf=function(){function e(t,n,r){kr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return _r(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Kf="[DEFAULT]",Gf=function(){function e(t,n){kr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return _r(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ff;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(lB){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(lB){if(r)return null;throw lB}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Kf})}catch(lB){}var t,n=Hr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(lB){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kf;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Hf(qf().mark((function e(){var t;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ca(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ca(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kf;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kf;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Hr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Hr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(TP){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Kf?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(TP){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kf;return this.component?this.component.multipleInstances?e:Kf:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Qf,Yf,$f=function(){function e(t){kr(this,e),this.name=t,this.providers=new Map}return _r(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Gf(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Xf=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Yf||(Yf={}));var Jf={debug:Yf.DEBUG,verbose:Yf.VERBOSE,info:Yf.INFO,warn:Yf.WARN,error:Yf.ERROR,silent:Yf.SILENT},Zf=Yf.INFO,eh=($n(Qf={},Yf.DEBUG,"log"),$n(Qf,Yf.VERBOSE,"log"),$n(Qf,Yf.INFO,"info"),$n(Qf,Yf.WARN,"warn"),$n(Qf,Yf.ERROR,"error"),Qf),th=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=eh[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},nh=function(){function e(t){kr(this,e),this.name=t,this._logLevel=Zf,this._logHandler=th,this._userLogHandler=null,Xf.push(this)}return _r(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Yf))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Jf[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Yf.DEBUG].concat(t)),this._logHandler.apply(this,[this,Yf.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Yf.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Yf.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Yf.INFO].concat(t)),this._logHandler.apply(this,[this,Yf.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Yf.WARN].concat(t)),this._logHandler.apply(this,[this,Yf.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Yf.ERROR].concat(t)),this._logHandler.apply(this,[this,Yf.ERROR].concat(t))}}]),e}();var rh,ih;var ah=new WeakMap,oh=new WeakMap,sh=new WeakMap,uh=new WeakMap,lh=new WeakMap;var ch={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return oh.get(e);if("objectStoreNames"===t)return e.objectStoreNames||sh.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dh(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function fh(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ih||(ih=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ph(this),n),dh(ah.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dh(e.apply(ph(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ph(this),t].concat(r));return sh.set(a,t.sort?t.sort():[t]),dh(a)}}function hh(e){return"function"===typeof e?fh(e):(e instanceof IDBTransaction&&function(e){if(!oh.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));oh.set(e,t)}}(e),t=e,(rh||(rh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,ch):e);var t}function dh(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(dh(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ah.set(t,e)})).catch((function(){})),lh.set(t,e),t}(e);if(uh.has(e))return uh.get(e);var t=hh(e);return t!==e&&(uh.set(e,t),lh.set(t,e)),t}var ph=function(e){return lh.get(e)};var vh,mh,yh=["get","getKey","getAll","getAllKeys","count"],gh=["put","add","delete","clear"],bh=new Map;function kh(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(bh.get(t))return bh.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=gh.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||yh.includes(n))){var a=function(){var e=Hf(qf().mark((function e(t){var a,o,s,u,l,c,f=arguments;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return bh.set(t,a),a}}}ch=function(e){return Jn(Jn({},e),{},{get:function(t,n,r){return kh(t,n)||e.get(t,n,r)},has:function(t,n){return!!kh(t,n)||e.has(t,n)}})}(ch);var wh=function(){function e(t){kr(this,e),this.container=t}return _r(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var _h="@firebase/app",xh="0.9.3",Sh=new nh("@firebase/app"),Eh="[DEFAULT]",Th=($n(vh={},_h,"fire-core"),$n(vh,"@firebase/app-compat","fire-core-compat"),$n(vh,"@firebase/analytics","fire-analytics"),$n(vh,"@firebase/analytics-compat","fire-analytics-compat"),$n(vh,"@firebase/app-check","fire-app-check"),$n(vh,"@firebase/app-check-compat","fire-app-check-compat"),$n(vh,"@firebase/auth","fire-auth"),$n(vh,"@firebase/auth-compat","fire-auth-compat"),$n(vh,"@firebase/database","fire-rtdb"),$n(vh,"@firebase/database-compat","fire-rtdb-compat"),$n(vh,"@firebase/functions","fire-fn"),$n(vh,"@firebase/functions-compat","fire-fn-compat"),$n(vh,"@firebase/installations","fire-iid"),$n(vh,"@firebase/installations-compat","fire-iid-compat"),$n(vh,"@firebase/messaging","fire-fcm"),$n(vh,"@firebase/messaging-compat","fire-fcm-compat"),$n(vh,"@firebase/performance","fire-perf"),$n(vh,"@firebase/performance-compat","fire-perf-compat"),$n(vh,"@firebase/remote-config","fire-rc"),$n(vh,"@firebase/remote-config-compat","fire-rc-compat"),$n(vh,"@firebase/storage","fire-gcs"),$n(vh,"@firebase/storage-compat","fire-gcs-compat"),$n(vh,"@firebase/firestore","fire-fst"),$n(vh,"@firebase/firestore-compat","fire-fst-compat"),$n(vh,"fire-js","fire-js"),$n(vh,"firebase","fire-js-all"),vh),Ch=new Map,Ih=new Map;function Ph(e,t){try{e.container.addComponent(t)}catch(lB){Sh.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),lB)}}function Nh(e,t){e.container.addOrOverwriteComponent(t)}function Ah(e){var t=e.name;if(Ih.has(t))return Sh.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ih.set(t,e);var n,r=Hr(Ch.values());try{for(r.s();!(n=r.n()).done;){Ph(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Oh(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Dh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eh;Oh(e,t).clearInstance(n)}function Rh(){Ih.clear()}var Mh=($n(mh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),$n(mh,"bad-app-name","Illegal App name: '{$appName}"),$n(mh,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),$n(mh,"app-deleted","Firebase App named '{$appName}' already deleted"),$n(mh,"no-options","Need to provide options, when not being deployed to hosting via source."),$n(mh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),$n(mh,"invalid-log-argument","First argument to `onLog` must be null or a function."),$n(mh,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),$n(mh,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),$n(mh,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),$n(mh,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),mh),Lh=new bf("app","Firebase",Mh),jh=function(){function e(t,n,r){var i=this;kr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wf("app",(function(){return i}),"PUBLIC"))}return _r(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Lh.create("app-deleted",{appName:this._name})}}]),e}(),Fh="9.17.1";function Vh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Eh,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Lh.create("bad-app-name",{appName:String(a)});if(n||(n=cf()),!n)throw Lh.create("no-options");var o=Ch.get(a);if(o){if(Pf(n,o.options)&&Pf(i,o.config))return o;throw Lh.create("duplicate-app",{appName:a})}var s,u=new $f(a),l=Hr(Ih.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;u.addComponent(c)}}catch(h){l.e(h)}finally{l.f()}var f=new jh(n,i,u);return Ch.set(a,f),f}function Uh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eh,t=Ch.get(e);if(!t&&e===Eh)return Vh();if(!t)throw Lh.create("no-app",{appName:e});return t}function Bh(){return Array.from(Ch.values())}function qh(e){return zh.apply(this,arguments)}function zh(){return(zh=Hf(qf().mark((function e(t){var n;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ch.has(n)){e.next=6;break}return Ch.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hh(e,t,n){var r,i=null!==(r=Th[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Sh.warn(s.join(" "))}Ah(new Wf("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Wh(e,t){if(null!==e&&"function"!==typeof e)throw Lh.create("invalid-log-argument");!function(e,t){var n,r=Hr(Xf);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Jf[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Yf[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Kh(e){var t;t=e,Xf.forEach((function(e){e.setLogLevel(t)}))}var Gh="firebase-heartbeat-store",Qh=null;function Yh(){return Qh||(Qh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=dh(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(dh(s.result),e.oldVersion,e.newVersion,dh(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Gh)}}).catch((function(e){throw Lh.create("idb-open",{originalErrorMessage:e.message})}))),Qh}function $h(e){return Xh.apply(this,arguments)}function Xh(){return Xh=Hf(qf().mark((function e(t){var n,r;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yh();case 3:return n=e.sent,e.abrupt("return",n.transaction(Gh).objectStore(Gh).get(ed(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof gf?Sh.warn(e.t0.message):(r=Lh.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Sh.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Xh.apply(this,arguments)}function Jh(e,t){return Zh.apply(this,arguments)}function Zh(){return Zh=Hf(qf().mark((function e(t,n){var r,i,a,o;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yh();case 3:return r=e.sent,i=r.transaction(Gh,"readwrite"),a=i.objectStore(Gh),e.next=8,a.put(n,ed(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof gf?Sh.warn(e.t0.message):(o=Lh.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Sh.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Zh.apply(this,arguments)}function ed(e){return"".concat(e.name,"!").concat(e.options.appId)}var td=function(){function e(t){var n=this;kr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new od(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return _r(e,[{key:"triggerHeartbeat",value:function(){var e=Hf(qf().mark((function e(){var t,n,r;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=nd(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Hf(qf().mark((function e(){var t,n,r,i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=nd(),n=rd(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=rf(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nd(){return(new Date).toISOString().substring(0,10)}function rd(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Hr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),sd(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),sd(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var id,ad,od=function(){function e(t){kr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return _r(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yf()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(AO){t(AO)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Hf(qf().mark((function e(){var t;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,$h(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Hf(qf().mark((function e(t){var n,r;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Jh(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Hf(qf().mark((function e(t){var n,r;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Jh(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ca(r.heartbeats),Ca(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function sd(e){return rf(JSON.stringify({version:2,heartbeats:e})).length}id="",Ah(new Wf("platform-logger",(function(e){return new wh(e)}),"PRIVATE")),Ah(new Wf("heartbeat",(function(e){return new td(e)}),"PRIVATE")),Hh(_h,xh,id),Hh(_h,xh,"esm2017"),Hh("fire-js","");var ud=function(){function e(t,n){var r=this;kr(this,e),this._delegate=t,this.firebase=n,Ph(t,new Wf("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return _r(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),qh(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eh;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eh;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ph(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Nh(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ld=($n(ad={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),$n(ad,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ad),cd=new bf("app-compat","Firebase",ld);var fd=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Vh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ef(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Hh,setLogLevel:Kh,onLog:Wh,apps:null,SDK_VERSION:Fh,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ah(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw cd.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&of(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ef(n,e=e||Eh))throw cd.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ud);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){of(n,e)},createSubscribe:Df,ErrorFactory:bf,deepExtend:of}),n}(),hd=new nh("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){hd.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var dd=self.firebase.SDK_VERSION;dd&&dd.indexOf("LITE")>=0&&hd.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pd=fd;!function(e){Hh("@firebase/app-compat","0.2.3",e)}();pd.registerVersion("firebase","9.17.1","app-compat");var vd,md="firebasestorage.googleapis.com",yd=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return kr(this,n),(i=t.call(this,gd(e),"Firebase Storage: ".concat(r," (").concat(gd(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Ir(i),n.prototype),i}return _r(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return gd(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(gf);function gd(e){return"storage/"+e}function bd(){return new yd(vd.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function kd(){return new yd(vd.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wd(){return new yd(vd.CANCELED,"User canceled the upload/download.")}function _d(){return new yd(vd.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xd(e){return new yd(vd.INVALID_ARGUMENT,e)}function Sd(){return new yd(vd.APP_DELETED,"The Firebase app was deleted.")}function Ed(e){return new yd(vd.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Td(e,t){return new yd(vd.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Cd(e){throw new yd(vd.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(vd||(vd={}));var Id,Pd=function(){function e(t,n){kr(this,e),this.bucket=t,this.path_=n}return _r(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(lB){return new e(t,"")}if(""===r.path)return r;throw i=t,new yd(vd.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===md?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new yd(vd.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Nd=function(){function e(t){kr(this,e),this.promise_=Promise.reject(t)}return _r(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Ad(e){return"string"===typeof e||e instanceof String}function Od(e){return Dd()&&e instanceof Blob}function Dd(){return"undefined"!==typeof Blob&&!vf()}function Rd(e,t,n,r){if(r<t)throw xd("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw xd("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Md(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Ld(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function jd(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Id||(Id={}));var Fd=function(){function e(t,n,r,i,a,o,s,u,l,c,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];kr(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return _r(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(lB){i(lB)}else if(null!==a){var s=bd();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Sd():wd());else i(kd())}};this.canceled_?t(0,new Vd(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(l)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return h(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),l||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Vd(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Id.NO_ERROR,a=r.getStatus();if(!n||jd(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Id.ABORT;t(!1,new Vd(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new Vd(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Vd=_r((function e(t,n,r){kr(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Ud(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function Bd(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function qd(e,t){t&&(e["X-Firebase-GMPID"]=t)}function zd(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function Hd(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=Ld(e.urlParams),u=e.url+s,l=Object.assign({},e.headers);return qd(l,t),Ud(l,n),Bd(l,a),zd(l,r),new Fd(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function Wd(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Kd(){for(var e=Wd(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Dd())return new Blob(n);throw new yd(vd.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Gd(e){if("undefined"===typeof atob)throw t="base-64",new yd(vd.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var Qd={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Yd=_r((function e(t,n){kr(this,e),this.data=t,this.contentType=n||null}));function $d(e,t){switch(e){case Qd.RAW:return new Yd(Xd(t));case Qd.BASE64:case Qd.BASE64URL:return new Yd(Jd(e,t));case Qd.DATA_URL:return new Yd(function(e){var t=new Zd(e);return t.base64?Jd(Qd.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(lB){throw Td(Qd.DATA_URL,"Malformed data URL.")}return Xd(t)}(t.rest)}(t),new Zd(t).contentType)}throw bd()}function Xd(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Jd(e,t){switch(e){case Qd.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Td(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Qd.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Td(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=Gd(t)}catch(lB){if(lB.message.includes("polyfill"))throw lB;throw Td(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Zd=_r((function e(t){kr(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Td(Qd.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var ep=function(){function e(t,n){kr(this,e);var r=0,i="";Od(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return _r(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Od(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Dd()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Kd.apply(null,i))}var a=n.map((function(e){return Ad(e)?$d(Qd.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function tp(e){var t;try{t=JSON.parse(e)}catch(lB){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function np(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function rp(e,t){return t}var ip=_r((function e(t,n,r,i){kr(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||rp})),ap=null;function op(){if(ap)return ap;var e=[];e.push(new ip("bucket")),e.push(new ip("generation")),e.push(new ip("metageneration")),e.push(new ip("name","fullPath",!0));var t=new ip("name");t.xform=function(e,t){return function(e){return!Ad(e)||e.length<2?e:np(e)}(t)},e.push(t);var n=new ip("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ip("timeCreated")),e.push(new ip("updated")),e.push(new ip("md5Hash",null,!0)),e.push(new ip("cacheControl",null,!0)),e.push(new ip("contentDisposition",null,!0)),e.push(new ip("contentEncoding",null,!0)),e.push(new ip("contentLanguage",null,!0)),e.push(new ip("contentType",null,!0)),e.push(new ip("metadata","customMetadata",!0)),ap=e}function sp(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Pd(n,r);return t._makeStorageReference(i)}})}(r,e),r}function up(e,t,n){var r=tp(t);return null===r?null:sp(e,r,n)}function lp(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function cp(e,t,n){var r=tp(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Hr(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new Pd(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,l=Hr(n.items);try{for(l.s();!(u=l.n()).done;){var c=u.value,f=e._makeStorageReference(new Pd(t,c.name));r.items.push(f)}}catch(h){l.e(h)}finally{l.f()}}return r}(e,t,r)}var fp=_r((function e(t,n,r,i){kr(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function hp(e){if(!e)throw bd()}function dp(e,t){return function(n,r){var i=up(e,r,t);return hp(null!==i),i}}function pp(e,t){return function(n,r){var i=up(e,r,t);return hp(null!==i),function(e,t,n,r){var i=tp(t);if(null===i)return null;if(!Ad(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Md("/b/"+o(i)+"/o/"+o(a),n,r)+Ld({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function vp(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new yd(vd.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new yd(vd.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new yd(vd.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new yd(vd.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function mp(e){var t=vp(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new yd(vd.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function yp(e,t,n){var r=Md(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new fp(r,"GET",dp(e,n),i);return a.errorHandler=mp(t),a}function gp(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=Md(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new fp(o,"GET",function(e,t){return function(n,r){var i=cp(e,t,r);return hp(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=vp(t),u}function bp(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function kp(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=bp(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+lp(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",f=ep.getBlob(l,r,c);if(null===f)throw _d();var h={name:u.fullPath},d=Md(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new fp(d,"POST",dp(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=vp(t),v}var wp=_r((function e(t,n,r,i){kr(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function _p(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(lB){hp(!1)}return hp(!!n&&-1!==(t||["active"]).indexOf(n)),n}var xp=262144;function Sp(e,t,n,r,i,a,o,s){var u=new wp(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new yd(vd.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var f=u.current,h=f+c,d={"X-Goog-Upload-Command":0===c?"finalize":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw _d();var v=t.maxUploadRetryTime,m=new fp(n,"POST",(function(e,n){var i,o=_p(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===o?dp(t,a)(e,n):null,new wp(s,l,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=vp(e),m}var Ep={STATE_CHANGED:"state_changed"},Tp={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cp(e){switch(e){case"running":case"pausing":case"canceling":return Tp.RUNNING;case"paused":return Tp.PAUSED;case"success":return Tp.SUCCESS;case"canceled":return Tp.CANCELED;default:return Tp.ERROR}}var Ip=_r((function e(t,n,r){kr(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Pp(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Np=function(){function e(){var t=this;kr(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Id.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Id.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Id.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return _r(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Cd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Cd("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Cd("cannot .getStatus() before sending");try{return this.xhr_.status}catch(lB){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Cd("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Cd("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Ap=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Np);function Op(){return new Ap}var Dp=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;kr(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=op(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(vd.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(jd(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=kd()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(vd.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return _r(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=bp(t,r,i),s={name:o.fullPath},u=Md(a,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=lp(o,n),f=e.maxUploadRetryTime,h=new fp(u,"POST",(function(e){var t;_p(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(lB){hp(!1)}return hp(Ad(t)),t}),f);return h.urlParams=s,h.headers=l,h.body=c,h.errorHandler=vp(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Op,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new fp(n,"POST",(function(e){var t=_p(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(lB){hp(!1)}n||hp(!1);var i=Number(n);return hp(!isNaN(i)),new wp(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=vp(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Op,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=xp*this._chunkMultiplier,n=new wp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Sp(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(lB){return e._error=lB,void e._transition("error")}var s=e._ref.storage._makeRequest(o,Op,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(xp*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=yp(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Op,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=kp(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Op,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=wd(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Cp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Ip(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Cp(this._state)){case Tp.SUCCESS:Pp(this._resolve.bind(null,this.snapshot))();break;case Tp.CANCELED:case Tp.ERROR:Pp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Cp(this._state)){case Tp.RUNNING:case Tp.PAUSED:e.next&&Pp(e.next.bind(e,this.snapshot))();break;case Tp.SUCCESS:e.complete&&Pp(e.complete.bind(e))();break;default:e.error&&Pp(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Rp=function(){function e(t,n){kr(this,e),this._service=t,this._location=n instanceof Pd?n:Pd.makeFromUrl(n,t.host)}return _r(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Pd(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return np(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Pd(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw Ed(e)}}]),e}();function Mp(e,t,n){return Lp.apply(this,arguments)}function Lp(){return(Lp=Hf(qf().mark((function e(t,n,r){var i,a,o,s;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,jp(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Ca(s.prefixes)),(a=n.items).push.apply(a,Ca(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,Mp(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jp(e,t){null!=t&&"number"===typeof t.maxResults&&Rd("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=gp(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Op)}function Fp(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=Md(t.fullServerUrl(),e.host,e._protocol),a=lp(n,r),o=e.maxOperationRetryTime,s=new fp(i,"PATCH",dp(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=mp(t),s}(e.storage,e._location,t,op());return e.storage.makeRequestWithTokens(n,Op)}function Vp(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Md(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new fp(r,"GET",pp(e,n),i);return a.errorHandler=mp(t),a}(e.storage,e._location,op());return e.storage.makeRequestWithTokens(t,Op).then((function(e){if(null===e)throw new yd(vd.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Up(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=Md(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new fp(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=mp(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Op)}function Bp(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Pd(e._location.bucket,n);return new Rp(e.storage,r)}function qp(e,t){if(e instanceof Kp){var n=e;if(null==n._bucket)throw new yd(vd.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Rp(n,n._bucket);return null!=t?qp(r,t):r}return void 0!==t?Bp(e,t):e}function zp(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Kp)return new Rp(e,t);throw xd("To use ref(service, url), the first argument must be a Storage instance.")}return qp(e,t)}function Hp(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Pd.makeFromBucketSpec(n,e)}function Wp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:hf(i,e.app.options.projectId))}var Kp=function(){function e(t,n,r,i,a){kr(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=md,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Pd.makeFromBucketSpec(i,this._host):Hp(this._host,this.app.options)}return _r(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Pd.makeFromBucketSpec(this._url,e):this._bucket=Hp(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Rd("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Rd("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Hf(qf().mark((function e(){var t,n;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Hf(qf().mark((function e(){var t,n;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Rp(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Nd(Sd());var o=Hd(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Hf(qf().mark((function e(t,n){var r,i,a,o;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Gp="@firebase/storage",Qp="0.11.1",Yp="storage";function $p(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Dp(e,new ep(t),n)}(e=Bf(e),t,n)}function Xp(e){return function(e){e._throwIfRoot("getMetadata");var t=yp(e.storage,e._location,op());return e.storage.makeRequestWithTokens(t,Op)}(e=Bf(e))}function Jp(e){return function(e){var t={prefixes:[],items:[]};return Mp(e,t).then((function(){return t}))}(e=Bf(e))}function Zp(e,t){return zp(e=Bf(e),t)}function ev(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Wp(e,t,n,r)}function tv(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Kp(r,i,a,n,Fh)}Ah(new Wf(Yp,tv,"PUBLIC").setMultipleInstances(!0)),Hh(Gp,Qp,""),Hh(Gp,Qp,"esm2017");var nv=function(){function e(t,n,r){kr(this,e),this._delegate=t,this.task=n,this.ref=r}return _r(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),rv=function(){function e(t,n){kr(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return _r(e,[{key:"snapshot",get:function(){return new nv(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new nv(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new nv(e,i,i._ref))}:{next:t.next?function(e){return t.next(new nv(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),iv=function(){function e(t,n){kr(this,e),this._delegate=t,this._service=n}return _r(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new av(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new av(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),av=function(){function e(t,n){kr(this,e),this._delegate=t,this.storage=n}return _r(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return Bp(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new rv($p(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qd.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=$d(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new rv(new Dp(this._delegate,new ep(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Jp(this._delegate).then((function(t){return new iv(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return jp(e=Bf(e),t)}(this._delegate,e||void 0).then((function(e){return new iv(e,t.storage)}))}},{key:"getMetadata",value:function(){return Xp(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Fp(e=Bf(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return Vp(Bf(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),Up(Bf(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw Ed(e)}}]),e}(),ov=function(){function e(t,n){kr(this,e),this.app=t,this._delegate=n}return _r(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(sv(e))throw xd("ref() expected a child path but got a URL, use refFromURL instead.");return new av(Zp(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!sv(e))throw xd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Pd.makeFromUrl(e,this._delegate.host)}catch(lB){throw xd("refFromUrl() expected a valid full URL but got an invalid one.")}return new av(Zp(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ev(this._delegate,e,t,n)}}]),e}();function sv(e){return/^[A-Za-z]+:\/\//.test(e)}function uv(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new ov(r,i)}!function(e){var t={TaskState:Tp,TaskEvent:Ep,StringFormat:Qd,Storage:ov,Reference:av};e.INTERNAL.registerComponent(new Wf("storage-compat",uv,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.1")}(pd);var lv,cv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},fv={},hv=hv||{},dv=cv||self;function pv(){}function vv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function mv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var yv="closure_uid_"+(1e9*Math.random()>>>0),gv=0;function bv(e,t,n){return e.call.apply(e.bind,arguments)}function kv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function wv(e,t,n){return(wv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bv:kv).apply(null,arguments)}function _v(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function xv(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Sv(){this.s=this.s,this.o=this.o}Sv.prototype.s=!1,Sv.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,yv)&&e[yv]||(e[yv]=++gv))},Sv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ev=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Tv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Cv(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(vv(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Iv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Iv.prototype.h=function(){this.defaultPrevented=!0};var Pv=function(){if(!dv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{dv.addEventListener("test",pv,t),dv.removeEventListener("test",pv,t)}catch(n){}return e}();function Nv(e){return/^[\s\xa0]*$/.test(e)}var Av=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ov(e,t){return e<t?-1:e>t?1:0}function Dv(){var e=dv.navigator;return e&&(e=e.userAgent)?e:""}function Rv(e){return-1!=Dv().indexOf(e)}function Mv(e){return Mv[" "](e),e}Mv[" "]=pv;var Lv,jv=Rv("Opera"),Fv=Rv("Trident")||Rv("MSIE"),Vv=Rv("Edge"),Uv=Vv||Fv,Bv=Rv("Gecko")&&!(-1!=Dv().toLowerCase().indexOf("webkit")&&!Rv("Edge"))&&!(Rv("Trident")||Rv("MSIE"))&&!Rv("Edge"),qv=-1!=Dv().toLowerCase().indexOf("webkit")&&!Rv("Edge");function zv(){var e=dv.document;return e?e.documentMode:void 0}e:{var Hv="",Wv=function(){var e=Dv();return Bv?/rv:([^\);]+)(\)|;)/.exec(e):Vv?/Edge\/([\d\.]+)/.exec(e):Fv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qv?/WebKit\/(\S+)/.exec(e):jv?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Wv&&(Hv=Wv?Wv[1]:""),Fv){var Kv=zv();if(null!=Kv&&Kv>parseFloat(Hv)){Lv=String(Kv);break e}}Lv=Hv}var Gv,Qv={};function Yv(){return function(e){var t=Qv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Av(String(Lv)).split("."),n=Av("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ov(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ov(0==a[2].length,0==o[2].length)||Ov(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(dv.document&&Fv){var $v=zv();Gv=$v||(parseInt(Lv,10)||void 0)}else Gv=void 0;var Xv=Gv;function Jv(e,t){if(Iv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Bv){e:{try{Mv(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Jv.X.h.call(this)}}xv(Jv,Iv);var Zv={2:"touch",3:"pen",4:"mouse"};Jv.prototype.h=function(){Jv.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var em="closure_listenable_"+(1e6*Math.random()|0),tm=0;function nm(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++tm,this.ba=this.ea=!1}function rm(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function im(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function am(e){var t={};for(var n in e)t[n]=e[n];return t}var om="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<om.length;a++)n=om[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function um(e){this.src=e,this.g={},this.h=0}function lm(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ev(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(rm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function cm(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}um.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=cm(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new nm(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var fm="closure_lm_"+(1e6*Math.random()|0),hm={};function dm(e,t,n,r,i){if(r&&r.once)return vm(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)dm(e,t[a],n,r,i);return null}return n=_m(n),e&&e[em]?e.N(t,n,mv(r)?!!r.capture:!!r,i):pm(e,t,n,!1,r,i)}function pm(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=mv(i)?!!i.capture:!!i,s=km(e);if(s||(e[fm]=s=new um(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=bm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pv||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function vm(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)vm(e,t[a],n,r,i);return null}return n=_m(n),e&&e[em]?e.O(t,n,mv(r)?!!r.capture:!!r,i):pm(e,t,n,!0,r,i)}function mm(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)mm(e,t[a],n,r,i);else r=mv(r)?!!r.capture:!!r,n=_m(n),e&&e[em]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=cm(a=e.g[t],n,r,i))&&(rm(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=km(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cm(t,n,r,i)),(n=-1<e?t[e]:null)&&ym(n))}function ym(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[em])lm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=km(t))?(lm(n,e),0==n.h&&(n.src=null,t[fm]=null)):rm(e)}}}function gm(e){return e in hm?hm[e]:hm[e]="on"+e}function bm(e,t){if(e.ba)e=!0;else{t=new Jv(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&ym(e),e=n.call(r,t)}return e}function km(e){return(e=e[fm])instanceof um?e:null}var wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function _m(e){return"function"===typeof e?e:(e[wm]||(e[wm]=function(t){return e.handleEvent(t)}),e[wm])}function xm(){Sv.call(this),this.i=new um(this),this.P=this,this.I=null}function Sm(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Iv(t,e);else if(t instanceof Iv)t.target=t.target||e;else{var i=t;sm(t=new Iv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Em(o,r,!0,t)&&i}if(i=Em(o=t.g=e,r,!0,t)&&i,i=Em(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Em(o=t.g=n[a],r,!1,t)&&i}function Em(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&lm(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}xv(xm,Sv),xm.prototype[em]=!0,xm.prototype.removeEventListener=function(e,t,n,r){mm(this,e,t,n,r)},xm.prototype.M=function(){if(xm.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rm(n[r]);delete t.g[e],t.h--}}this.I=null},xm.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xm.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Tm=dv.JSON.stringify;function Cm(){var e=Mm,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Im,Pm=function(){function e(){kr(this,e),this.h=this.g=null}return _r(e,[{key:"add",value:function(e,t){var n=Nm.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Nm=new(function(){function e(t,n){kr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return _r(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Am}),(function(e){return e.reset()})),Am=function(){function e(){kr(this,e),this.next=this.g=this.h=null}return _r(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Om(e){dv.setTimeout((function(){throw e}),0)}function Dm(e,t){Im||function(){var e=dv.Promise.resolve(void 0);Im=function(){e.then(Lm)}}(),Rm||(Im(),Rm=!0),Mm.add(e,t)}var Rm=!1,Mm=new Pm;function Lm(){for(var e;e=Cm();){try{e.h.call(e.g)}catch(n){Om(n)}var t=Nm;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Rm=!1}function jm(e,t){xm.call(this),this.h=e||1,this.g=t||dv,this.j=wv(this.lb,this),this.l=Date.now()}function Fm(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Vm(e,t,n){if("function"===typeof e)n&&(e=wv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=wv(e.handleEvent,e)}return 2147483647<Number(t)?-1:dv.setTimeout(e,t||0)}function Um(e){e.g=Vm((function(){e.g=null,e.i&&(e.i=!1,Um(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}xv(jm,xm),(lv=jm.prototype).ca=!1,lv.R=null,lv.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Sm(this,"tick"),this.ca&&(Fm(this),this.start()))}},lv.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lv.M=function(){jm.X.M.call(this),Fm(this),delete this.g};var Bm=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return _r(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Um(this)}},{key:"M",value:function(){Ml(Er(n.prototype),"M",this).call(this),this.g&&(dv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Sv);function qm(e){Sv.call(this),this.h=e,this.g={}}xv(qm,Sv);var zm=[];function Hm(e,t,n,r){Array.isArray(n)||(n&&(zm[0]=n.toString()),n=zm);for(var i=0;i<n.length;i++){var a=dm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Wm(e){im(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ym(e)}),e),e.g={}}function Km(){this.g=!0}function Gm(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Tm(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}qm.prototype.M=function(){qm.X.M.call(this),Wm(this)},qm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Km.prototype.Aa=function(){this.g=!1},Km.prototype.info=function(){};var Qm={},Ym=null;function $m(){return Ym=Ym||new xm}function Xm(e){Iv.call(this,Qm.Pa,e)}function Jm(e){var t=$m();Sm(t,new Xm(t))}function Zm(e,t){Iv.call(this,Qm.STAT_EVENT,e),this.stat=t}function ey(e){var t=$m();Sm(t,new Zm(t,e))}function ty(e,t){Iv.call(this,Qm.Qa,e),this.size=t}function ny(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return dv.setTimeout((function(){e()}),t)}Qm.Pa="serverreachability",xv(Xm,Iv),Qm.STAT_EVENT="statevent",xv(Zm,Iv),Qm.Qa="timingevent",xv(ty,Iv);var ry={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},iy={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ay(){}function oy(e){return e.h||(e.h=e.i())}function sy(){}ay.prototype.h=null;var uy,ly={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function cy(){Iv.call(this,"d")}function fy(){Iv.call(this,"c")}function hy(){}function dy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new qm(this),this.O=vy,e=Uv?125:void 0,this.T=new jm(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new py}function py(){this.i=null,this.g="",this.h=!1}xv(cy,Iv),xv(fy,Iv),xv(hy,ay),hy.prototype.g=function(){return new XMLHttpRequest},hy.prototype.i=function(){return{}},uy=new hy;var vy=45e3,my={},yy={};function gy(e,t,n){e.K=1,e.v=jy(Oy(t)),e.s=n,e.P=!0,by(e,null)}function by(e,t){e.F=Date.now(),xy(e),e.A=Oy(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),$y(n.i,"t",r),e.C=0,n=e.l.H,e.h=new py,e.g=Xg(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Bm(wv(e.La,e,e.g),e.N)),Hm(e.S,e.g,"readystatechange",e.ib),t=e.H?am(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Jm(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function ky(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function wy(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=_y(e,n))==yy){4==t&&(e.o=4,ey(14),i=!1),Gm(e.j,e.m,null,"[Incomplete Response]");break}if(r==my){e.o=4,ey(15),Gm(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Gm(e.j,e.m,r,null),Iy(e,r)}ky(e)&&r!=yy&&r!=my&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ey(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),zg(t),t.K=!0,ey(11))):(Gm(e.j,e.m,n,"[Invalid Chunked Response]"),Cy(e),Ty(e))}function _y(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yy:(n=Number(t.substring(n,r)),isNaN(n)?my:(r+=1)+n>t.length?yy:(t=t.substr(r,n),e.C=r+n,t))}function xy(e){e.V=Date.now()+e.O,Sy(e,e.O)}function Sy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ny(wv(e.gb,e),t)}function Ey(e){e.B&&(dv.clearTimeout(e.B),e.B=null)}function Ty(e){0==e.l.G||e.I||Kg(e.l,e)}function Cy(e){Ey(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Fm(e.T),Wm(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Iy(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ig(n.h,e)))if(!e.J&&ig(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Wg(n),Mg(n)}qg(n),ey(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=ny(wv(n.cb,n),6e3));if(1>=rg(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Qg(n,11)}else if((e.J||n.g==e)&&Wg(n),!Nv(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ag(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Ly(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=$g(r,r.H?r.ka:null,r.V),d.J){og(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Ey(p),xy(p)),r.g=d}else Bg(r);0<n.i.length&&jg(n)}else"stop"!=a[0]&&"close"!=a[0]||Qg(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Qg(n,7):Rg(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Jm()}catch(a){}}function Py(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(vv(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(vv(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(vv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(lv=dy.prototype).setTimeout=function(e){this.O=e},lv.ib=function(e){e=e.target;var t=this.L;t&&3==Ig(e)?t.l():this.La(e)},lv.La=function(e){try{if(e==this.g)e:{var t=Ig(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Uv||this.g&&(this.h.h||this.g.fa()||Pg(this.g)))){this.I||4!=t||7==n||Jm(),Ey(this);var r=this.g.aa();this.Y=r;t:if(ky(this)){var i=Pg(this.g);e="";var a=i.length,o=4==Ig(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Cy(this),Ty(this);var s="";break t}this.h.i=new dv.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nv(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,ey(12),Cy(this),Ty(this);break e}Gm(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Iy(this,r)}this.P?(wy(this,t,s),Uv&&this.i&&3==t&&(Hm(this.S,this.T,"tick",this.hb),this.T.start())):(Gm(this.j,this.m,s,null),Iy(this,s)),4==t&&Cy(this),this.i&&!this.I&&(4==t?Kg(this.l,this):(this.i=!1,xy(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,ey(12)):(this.o=0,ey(13)),Cy(this),Ty(this)}}}catch(t){}},lv.hb=function(){if(this.g){var e=Ig(this.g),t=this.g.fa();this.C<t.length&&(Ey(this),wy(this,e,t),this.i&&4!=e&&xy(this))}},lv.cancel=function(){this.I=!0,Cy(this)},lv.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Jm(),ey(17)),Cy(this),this.o=2,Ty(this)):Sy(this,this.V-e)};var Ny=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ay(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ay){this.h=void 0!==t?t:e.h,Dy(this,e.j),this.s=e.s,this.g=e.g,Ry(this,e.m),this.l=e.l,t=e.i;var n=new Ky;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),My(this,n),this.o=e.o}else e&&(n=String(e).match(Ny))?(this.h=!!t,Dy(this,n[1]||"",!0),this.s=Fy(n[2]||""),this.g=Fy(n[3]||"",!0),Ry(this,n[4]),this.l=Fy(n[5]||"",!0),My(this,n[6]||"",!0),this.o=Fy(n[7]||"")):(this.h=!!t,this.i=new Ky(null,this.h))}function Oy(e){return new Ay(e)}function Dy(e,t,n){e.j=n?Fy(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ry(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function My(e,t,n){t instanceof Ky?(e.i=t,function(e,t){t&&!e.j&&(Gy(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qy(this,t),$y(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Vy(t,Hy)),e.i=new Ky(t,e.h))}function Ly(e,t,n){e.i.set(t,n)}function jy(e){return Ly(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fy(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vy(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Uy),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Uy(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ay.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vy(t,By,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vy(t,By,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vy(n,"/"==n.charAt(0)?zy:qy,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vy(n,Wy)),e.join("")};var By=/[#\/\?@]/g,qy=/[#\?:]/g,zy=/[#\?]/g,Hy=/[#\?@]/g,Wy=/#/g;function Ky(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gy(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qy(e,t){Gy(e),t=Xy(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Yy(e,t){return Gy(e),t=Xy(e,t),e.g.has(t)}function $y(e,t,n){Qy(e,t),0<n.length&&(e.i=null,e.g.set(Xy(e,t),Tv(n)),e.h+=n.length)}function Xy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(lv=Ky.prototype).add=function(e,t){Gy(this),this.i=null,e=Xy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},lv.forEach=function(e,t){Gy(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},lv.oa=function(){Gy(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},lv.W=function(e){Gy(this);var t=[];if("string"===typeof e)Yy(this,e)&&(t=t.concat(this.g.get(Xy(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},lv.set=function(e,t){return Gy(this),this.i=null,Yy(this,e=Xy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},lv.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},lv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Jy=_r((function e(t,n){kr(this,e),this.h=t,this.g=n}));function Zy(e){this.l=e||tg,dv.PerformanceNavigationTiming?e=0<(e=dv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(dv.g&&dv.g.Ga&&dv.g.Ga()&&dv.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eg,tg=10;function ng(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rg(e){return e.h?1:e.g?e.g.size:0}function ig(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ag(e,t){e.g?e.g.add(t):e.h=t}function og(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sg(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Hr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Tv(e.i)}function ug(){}function lg(){this.g=new ug}function cg(e,t,n){var r=n||"";try{Py(e,(function(e,n){var i=e;mv(e)&&(i=Tm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(lB){throw t.push(r+"type="+encodeURIComponent("_badmap")),lB}}function fg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function hg(e){this.l=e.ac||null,this.j=e.jb||!1}function dg(e,t){xm.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=pg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zy.prototype.cancel=function(){if(this.i=sg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Hr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ug.prototype.stringify=function(e){return dv.JSON.stringify(e,void 0)},ug.prototype.parse=function(e){return dv.JSON.parse(e,void 0)},xv(hg,ay),hg.prototype.g=function(){return new dg(this.l,this.j)},hg.prototype.i=(eg={},function(){return eg}),xv(dg,xm);var pg=0;function vg(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function mg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yg(e)}function yg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(lv=dg.prototype).open=function(e,t){if(this.readyState!=pg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yg(this)},lv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||dv).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},lv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mg(this)),this.readyState=pg},lv.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yg(this)),this.g&&(this.readyState=3,yg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof dv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vg(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},lv.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mg(this):yg(this),3==this.readyState&&vg(this)}},lv.Va=function(e){this.g&&(this.response=this.responseText=e,mg(this))},lv.Ua=function(e){this.g&&(this.response=e,mg(this))},lv.ga=function(){this.g&&mg(this)},lv.setRequestHeader=function(e,t){this.v.append(e,t)},lv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},lv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(dg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var gg=dv.JSON.parse;function bg(e){xm.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kg,this.K=this.L=!1}xv(bg,xm);var kg="",wg=/^https?$/i,_g=["POST","PUT"];function xg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Sg(e),Tg(e)}function Sg(e){e.D||(e.D=!0,Sm(e,"complete"),Sm(e,"error"))}function Eg(e){if(e.h&&"undefined"!=typeof hv&&(!e.C[1]||4!=Ig(e)||2!=e.aa()))if(e.v&&4==Ig(e))Vm(e.Ha,0,e);else if(Sm(e,"readystatechange"),4==Ig(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ny)[1]||null;if(!a&&dv.self&&dv.self.location){var o=dv.self.location.protocol;a=o.substr(0,o.length-1)}i=!wg.test(a?a.toLowerCase():"")}t=i}if(t)Sm(e,"complete"),Sm(e,"success");else{e.m=6;try{var s=2<Ig(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",Sg(e)}}finally{Tg(e)}}}function Tg(e,t){if(e.g){Cg(e);var n=e.g,r=e.C[0]?pv:null;e.g=null,e.C=null,t||Sm(e,"ready");try{n.onreadystatechange=r}catch(lB){}}}function Cg(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(dv.clearTimeout(e.A),e.A=null)}function Ig(e){return e.g?e.g.readyState:0}function Pg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case kg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(db){return null}}function Ng(e){var t="";return im(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ag(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ng(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ly(e,t,n))}function Og(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Dg(e){this.Ca=0,this.i=[],this.j=new Km,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Og("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Og("baseRetryDelayMs",5e3,e),this.bb=Og("retryDelaySeedMs",1e4,e),this.$a=Og("forwardChannelMaxRetries",2,e),this.ta=Og("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Zy(e&&e.concurrentRequestLimit),this.Fa=new lg,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Rg(e){if(Lg(e),3==e.G){var t=e.U++,n=Oy(e.F);Ly(n,"SID",e.I),Ly(n,"RID",t),Ly(n,"TYPE","terminate"),Vg(e,n),(t=new dy(e,e.j,t,void 0)).K=2,t.v=jy(Oy(n)),n=!1,dv.navigator&&dv.navigator.sendBeacon&&(n=dv.navigator.sendBeacon(t.v.toString(),"")),!n&&dv.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xg(t.l,null),t.g.da(t.v)),t.F=Date.now(),xy(t)}Yg(e)}function Mg(e){e.g&&(zg(e),e.g.cancel(),e.g=null)}function Lg(e){Mg(e),e.u&&(dv.clearTimeout(e.u),e.u=null),Wg(e),e.h.cancel(),e.m&&("number"===typeof e.m&&dv.clearTimeout(e.m),e.m=null)}function jg(e){ng(e.h)||e.m||(e.m=!0,Dm(e.Ja,e),e.C=0)}function Fg(e,t){var n;n=t?t.m:e.U++;var r=Oy(e.F);Ly(r,"SID",e.I),Ly(r,"RID",n),Ly(r,"AID",e.T),Vg(e,r),e.o&&e.s&&Ag(r,e.o,e.s),n=new dy(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ug(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),ag(e.h,n),gy(n,r,t)}function Vg(e,t){e.ia&&im(e.ia,(function(e,n){Ly(t,n,e)})),e.l&&Py({},(function(e,n){Ly(t,n,e)}))}function Ug(e,t,n){n=Math.min(e.i.length,n);var r=e.l?wv(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{cg(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Bg(e){e.g||e.u||(e.Z=1,Dm(e.Ia,e),e.A=0)}function qg(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=ny(wv(e.Ia,e),Gg(e,e.A)),e.A++,!0)}function zg(e){null!=e.B&&(dv.clearTimeout(e.B),e.B=null)}function Hg(e){e.g=new dy(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Oy(e.sa);Ly(t,"RID","rpc"),Ly(t,"SID",e.I),Ly(t,"CI",e.L?"0":"1"),Ly(t,"AID",e.T),Ly(t,"TYPE","xmlhttp"),Vg(e,t),e.o&&e.s&&Ag(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=jy(Oy(t)),n.s=null,n.P=!0,by(n,e)}function Wg(e){null!=e.v&&(dv.clearTimeout(e.v),e.v=null)}function Kg(e,t){var n=null;if(e.g==t){Wg(e),zg(e),e.g=null;var r=2}else{if(!ig(e.h,t))return;n=t.D,og(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Sm(r=$m(),new ty(r,n)),jg(e)}else Bg(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(rg(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=ny(wv(e.Ja,e,t),Gg(e,e.C)),e.C++,!0))}(e,t)||2==r&&qg(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Qg(e,5);break;case 4:Qg(e,10);break;case 3:Qg(e,6);break;default:Qg(e,2)}}function Gg(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Qg(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=wv(e.kb,e);n||(n=new Ay("//www.google.com/images/cleardot.gif"),dv.location&&"http"==dv.location.protocol||Dy(n,"https"),jy(n)),function(e,t){var n=new Km;if(dv.Image){var r=new Image;r.onload=_v(fg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_v(fg,n,r,"TestLoadImage: error",!1,t),r.onabort=_v(fg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_v(fg,n,r,"TestLoadImage: timeout",!1,t),dv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ey(2);e.G=0,e.l&&e.l.va(t),Yg(e),Lg(e)}function Yg(e){if(e.G=0,e.la=[],e.l){var t=sg(e.h);0==t.length&&0==e.i.length||(Cv(e.la,t),Cv(e.la,e.i),e.h.i.length=0,Tv(e.i),e.i.length=0),e.l.ua()}}function $g(e,t,n){var r=n instanceof Ay?Oy(n):new Ay(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ry(r,r.m);else{var i=dv.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ay(null,void 0);r&&Dy(a,r),t&&(a.g=t),i&&Ry(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ly(r,n,t),Ly(r,"VER",e.ma),Vg(e,r),r}function Xg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new bg(new hg({jb:!0})):new bg(e.ra)).Ka(e.H),t}function Jg(){}function Zg(){if(Fv&&!(10<=Number(Xv)))throw Error("Environmental error: no available transport.")}function eb(e,t){xm.call(this),this.g=new Dg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Nv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new rb(this)}function tb(e){cy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function nb(){fy.call(this),this.status=1}function rb(e){this.g=e}(lv=bg.prototype).Ka=function(e){this.L=e},lv.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():uy.g(),this.C=this.u?oy(this.u):oy(uy),this.g.onreadystatechange=wv(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void xg(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Hr(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=dv.FormData&&e instanceof dv.FormData,!(0<=Ev(_g,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=Hr(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Cg(this),0<this.B&&((this.K=function(e){return Fv&&Yv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wv(this.qa,this)):this.A=Vm(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){xg(this,s)}},lv.qa=function(){"undefined"!=typeof hv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Sm(this,"timeout"),this.abort(8))},lv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Sm(this,"complete"),Sm(this,"abort"),Tg(this))},lv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tg(this,!0)),bg.X.M.call(this)},lv.Ha=function(){this.s||(this.F||this.v||this.l?Eg(this):this.fb())},lv.fb=function(){Eg(this)},lv.aa=function(){try{return 2<Ig(this)?this.g.status:-1}catch(eg){return-1}},lv.fa=function(){try{return this.g?this.g.responseText:""}catch(eg){return""}},lv.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gg(t)}},lv.Ea=function(){return this.m},lv.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(lv=Dg.prototype).ma=8,lv.G=1,lv.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new dy(this,this.j,e,void 0),n=this.s;if(this.S&&(n?sm(n=am(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ug(this,t,r),Ly(i=Oy(this.F),"RID",e),Ly(i,"CVER",22),this.D&&Ly(i,"X-HTTP-Session-Id",this.D),Vg(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Ng(n)))+"&"+r:this.o&&Ag(i,this.o,n)),ag(this.h,t),this.Ya&&Ly(i,"TYPE","init"),this.O?(Ly(i,"$req",r),Ly(i,"SID","null"),t.Z=!0,gy(t,i,null)):gy(t,i,r),this.G=2}}else 3==this.G&&(e?Fg(this,e):0==this.i.length||ng(this.h)||Fg(this))},lv.Ia=function(){if(this.u=null,Hg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=ny(wv(this.eb,this),e)}},lv.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ey(10),Mg(this),Hg(this))},lv.cb=function(){null!=this.v&&(this.v=null,Mg(this),qg(this),ey(19))},lv.kb=function(e){e?(this.j.info("Successfully pinged google.com"),ey(2)):(this.j.info("Failed to ping google.com"),ey(1))},(lv=Jg.prototype).xa=function(){},lv.wa=function(){},lv.va=function(){},lv.ua=function(){},lv.Ra=function(){},Zg.prototype.g=function(e,t){return new eb(e,t)},xv(eb,xm),eb.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;ey(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=$g(e,null,e.V),jg(e)},eb.prototype.close=function(){Rg(this.g)},eb.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Tm(e),e=n);t.i.push(new Jy(t.ab++,e)),3==t.G&&jg(t)},eb.prototype.M=function(){this.g.l=null,delete this.j,Rg(this.g),delete this.g,eb.X.M.call(this)},xv(tb,cy),xv(nb,fy),xv(rb,Jg),rb.prototype.xa=function(){Sm(this.g,"a")},rb.prototype.wa=function(e){Sm(this.g,new tb(e))},rb.prototype.va=function(e){Sm(this.g,new nb)},rb.prototype.ua=function(){Sm(this.g,"b")},Zg.prototype.createWebChannel=Zg.prototype.g,eb.prototype.send=eb.prototype.u,eb.prototype.open=eb.prototype.m,eb.prototype.close=eb.prototype.close,ry.NO_ERROR=0,ry.TIMEOUT=8,ry.HTTP_ERROR=6,iy.COMPLETE="complete",sy.EventType=ly,ly.OPEN="a",ly.CLOSE="b",ly.ERROR="c",ly.MESSAGE="d",xm.prototype.listen=xm.prototype.N,bg.prototype.listenOnce=bg.prototype.O,bg.prototype.getLastError=bg.prototype.Oa,bg.prototype.getLastErrorCode=bg.prototype.Ea,bg.prototype.getStatus=bg.prototype.aa,bg.prototype.getResponseJson=bg.prototype.Sa,bg.prototype.getResponseText=bg.prototype.fa,bg.prototype.send=bg.prototype.da,bg.prototype.setWithCredentials=bg.prototype.Ka;var ib=fv.createWebChannelTransport=function(){return new Zg},ab=fv.getStatEventTarget=function(){return $m()},ob=fv.ErrorCode=ry,sb=fv.EventType=iy,ub=fv.Event=Qm,lb=fv.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},cb=fv.FetchXmlHttpFactory=hg,fb=fv.WebChannel=sy,hb=fv.XhrIo=bg,db="@firebase/firestore",pb=function(){function e(t){kr(this,e),this.uid=t}return _r(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();pb.UNAUTHENTICATED=new pb(null),pb.GOOGLE_CREDENTIALS=new pb("google-credentials-uid"),pb.FIRST_PARTY=new pb("first-party-uid"),pb.MOCK_USER=new pb("mock-user");var vb="9.17.1",mb=new nh("@firebase/firestore");function yb(){return mb.logLevel}function gb(e){if(mb.logLevel<=Yf.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wb);mb.debug.apply(mb,["Firestore (".concat(vb,"): ").concat(e)].concat(Ca(i)))}}function bb(e){if(mb.logLevel<=Yf.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wb);mb.error.apply(mb,["Firestore (".concat(vb,"): ").concat(e)].concat(Ca(i)))}}function kb(e){if(mb.logLevel<=Yf.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wb);mb.warn.apply(mb,["Firestore (".concat(vb,"): ").concat(e)].concat(Ca(i)))}}function wb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function _b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(vb,") INTERNAL ASSERTION FAILED: ")+e;throw bb(t),new Error(t)}function xb(e,t){e||_b()}function Sb(e,t){return e}var Eb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tb=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return _r(n)}(gf),Cb=_r((function e(){var t=this;kr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ib=_r((function e(t,n){kr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Pb=function(){function e(){kr(this,e)}return _r(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pb.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Nb=function(){function e(t){kr(this,e),this.token=t,this.changeListener=null}return _r(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ab=function(){function e(t){kr(this,e),this.t=t,this.currentUser=pb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return _r(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Cb;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Cb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){gb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(gb("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cb)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(gb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(xb("string"==typeof n.accessToken),new Ib(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return xb(null===e||"string"==typeof e),new pb(e)}}]),e}(),Ob=function(){function e(t,n,r,i){kr(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=pb.FIRST_PARTY,this.p=new Map}return _r(e,[{key:"I",value:function(){return this.g?this.g():(xb(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Db=function(){function e(t,n,r,i){kr(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return _r(e,[{key:"getToken",value:function(){return Promise.resolve(new Ob(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pb.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Rb=_r((function e(t){kr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Mb=function(){function e(t){kr(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return _r(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&gb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,gb("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){gb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):gb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(xb("string"==typeof t.token),e.A=t.token,new Rb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Lb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var jb=function(){function e(){kr(this,e)}return _r(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Lb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Fb(e,t){return e<t?-1:e>t?1:0}function Vb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ub(e){return e+"\0"}var Bb=function(){function e(t,n){if(kr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Tb(Eb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tb(Eb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Tb(Eb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tb(Eb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return _r(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Fb(this.nanoseconds,e.nanoseconds):Fb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),qb=function(){function e(t){kr(this,e),this.timestamp=t}return _r(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Bb(0,0))}},{key:"max",value:function(){return new e(new Bb(253402300799,999999999))}}]),e}(),zb=function(){function e(t,n,r){kr(this,e),void 0===n?n=0:n>t.length&&_b(),void 0===r?r=t.length-n:r>t.length-n&&_b(),this.segments=t,this.offset=n,this.len=r}return _r(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Hb=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Ca(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zb),Wb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kb=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Wb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Tb(Eb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Tb(Eb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Tb(Eb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zb),Gb=function(){function e(t){kr(this,e),this.path=t}return _r(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Hb.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Hb.fromString(t))}},{key:"fromName",value:function(t){return new e(Hb.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Hb.emptyPath())}},{key:"comparator",value:function(e,t){return Hb.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Hb(t.slice()))}}]),e}(),Qb=_r((function e(t,n,r,i){kr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Yb(e){return e.fields.find((function(e){return 2===e.kind}))}function $b(e){return e.fields.filter((function(e){return 2!==e.kind}))}Qb.UNKNOWN_ID=-1;var Xb=_r((function e(t,n){kr(this,e),this.fieldPath=t,this.kind=n}));var Jb=function(){function e(t,n){kr(this,e),this.sequenceNumber=t,this.offset=n}return _r(e,null,[{key:"empty",value:function(){return new e(0,tk.min())}}]),e}();function Zb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=qb.fromTimestamp(1e9===r?new Bb(n+1,0):new Bb(n,r));return new tk(i,Gb.empty(),t)}function ek(e){return new tk(e.readTime,e.key,-1)}var tk=function(){function e(t,n,r){kr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return _r(e,null,[{key:"min",value:function(){return new e(qb.min(),Gb.empty(),-1)}},{key:"max",value:function(){return new e(qb.max(),Gb.empty(),-1)}}]),e}();function nk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Gb.comparator(e.documentKey,t.documentKey))?n:Fb(e.largestBatchId,t.largestBatchId)}var rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ik=function(){function e(){kr(this,e),this.onCommittedListeners=[]}return _r(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ak(e){return ok.apply(this,arguments)}function ok(){return ok=Hf(qf().mark((function e(t){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Eb.FAILED_PRECONDITION&&t.message===rk){e.next=2;break}throw t;case 2:gb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ok.apply(this,arguments)}var sk=function(){function e(t){var n=this;kr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return _r(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&_b(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Hr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),uk=function(){function e(t,n){var r=this;kr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Cb,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new fk(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=mk(e.target.error);r.P.reject(new fk(t,n))}}return _r(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(gb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new dk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new fk(n,t)}}}]),e}(),lk=function(){function e(t,n,r){kr(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(df())&&bb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return _r(e,[{key:"F",value:function(){var e=Hf(qf().mark((function e(t){var n=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return gb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new fk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Tb(Eb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Tb(Eb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new fk(t,n))},i.onupgradeneeded=function(e){gb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){gb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Hf(qf().mark((function e(t,n,r,i){var a,o,s,u,l,c=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(qf().mark((function e(){var n,o;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.F(t);case 2:return c.db=e.sent,n=uk.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),sk.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,l="FirebaseError"!==u.name&&o<3,gb("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),l){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return gb("SimpleDb","Removing database:",e),pk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!yf())return!1;if(e.N())return!0;var t=df(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ck=function(){function e(t){kr(this,e),this.q=t,this.U=!1,this.K=null}return _r(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return pk(this.q.delete())}}]),e}(),fk=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,Eb.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return _r(n)}(Tb);function hk(e){return"IndexedDbTransactionError"===e.name}var dk=function(){function e(t){kr(this,e),this.store=t}return _r(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(gb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),pk(n)}},{key:"add",value:function(e){return gb("SimpleDb","ADD",this.store.name,e,e),pk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return pk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),gb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return gb("SimpleDb","DELETE",this.store.name,e),pk(this.store.delete(e))}},{key:"count",value:function(){return gb("SimpleDb","COUNT",this.store.name),pk(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new sk((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new sk((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){gb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new sk((function(n,r){t.onerror=function(e){var t=mk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new sk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ck(i),o=t(i.primaryKey,i.value,a);if(o instanceof sk){var s=o.catch((function(e){return a.done(),sk.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return sk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function pk(e){return new sk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=mk(e.target.error);n(t)}}))}var vk=!1;function mk(e){var t=lk.D(df());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Tb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return vk||(vk=!0,setTimeout((function(){throw r}),0)),r}}return e}var yk=function(){function e(t,n){kr(this,e),this.asyncQueue=t,this.et=n,this.task=null}return _r(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;gb("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=gb,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!hk(e.t4)){e.next=17;break}gb("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ak(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),gk=function(){function e(t,n){kr(this,e),this.localStore=t,this.persistence=n}return _r(e,[{key:"st",value:function(){var e=Hf(qf().mark((function e(){var t,n=this,r=arguments;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return sk.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return gb("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return gb("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=ek(t);nk(r,n)>0&&(n=r)})),new tk(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),bk=function(){function e(t,n){var r=this;kr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return _r(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();bk.at=-1;var kk=_r((function e(t,n,r,i,a,o,s,u){kr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),wk=function(){function e(t,n){kr(this,e),this.projectId=t,this.database=n||"(default)"}return _r(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function _k(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ek(e){return null==e}function Tk(e){return 0===e&&1/e==-1/0}function Ck(e){return"number"==typeof e&&Number.isInteger(e)&&!Tk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ik=function(e){function t(e){kr(this,t),this.binaryString=e}return _r(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Fb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ik.EMPTY_BYTE_STRING=new Ik("");var Pk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nk(e){if(xb(!!e),"string"==typeof e){var t=0,n=Pk.exec(e);if(xb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ak(e.seconds),nanos:Ak(e.nanos)}}function Ak(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ok(e){return"string"==typeof e?Ik.fromBase64String(e):Ik.fromUint8Array(e)}function Dk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Rk(e){var t=e.mapValue.fields.__previous_value__;return Dk(t)?Rk(t):t}function Mk(e){var t=Nk(e.mapValue.fields.__local_write_time__.timestampValue);return new Bb(t.seconds,t.nanos)}var Lk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jk={nullValue:"NULL_VALUE"};function Fk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Dk(e)?4:Jk(e)?9007199254740991:10:_b()}function Vk(e,t){if(e===t)return!0;var n=Fk(e);if(n!==Fk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mk(e).isEqual(Mk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Nk(e.timestampValue),r=Nk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ok(e.bytesValue).isEqual(Ok(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ak(e.geoPointValue.latitude)===Ak(t.geoPointValue.latitude)&&Ak(e.geoPointValue.longitude)===Ak(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ak(e.integerValue)===Ak(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ak(e.doubleValue),r=Ak(t.doubleValue);return n===r?Tk(n)===Tk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vb(e.arrayValue.values||[],t.arrayValue.values||[],Vk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_k(n)!==_k(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vk(n[i],r[i])))return!1;return!0}(e,t);default:return _b()}}function Uk(e,t){return void 0!==(e.values||[]).find((function(e){return Vk(e,t)}))}function Bk(e,t){if(e===t)return 0;var n=Fk(e),r=Fk(t);if(n!==r)return Fb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ak(e.integerValue||e.doubleValue),r=Ak(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qk(e.timestampValue,t.timestampValue);case 4:return qk(Mk(e),Mk(t));case 5:return Fb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ok(e),r=Ok(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Fb(n[i],r[i]);if(0!==a)return a}return Fb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Fb(Ak(e.latitude),Ak(t.latitude));return 0!==n?n:Fb(Ak(e.longitude),Ak(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bk(n[i],r[i]);if(a)return a}return Fb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Lk.mapValue&&t===Lk.mapValue)return 0;if(e===Lk.mapValue)return 1;if(t===Lk.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Fb(r[o],a[o]);if(0!==s)return s;var u=Bk(n[r[o]],i[a[o]]);if(0!==u)return u}return Fb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw _b()}}function qk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Fb(e,t);var n=Nk(e),r=Nk(t),i=Fb(n.seconds,r.seconds);return 0!==i?i:Fb(n.nanos,r.nanos)}function zk(e){return Hk(e)}function Hk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Nk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ok(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Gb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Hr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Hk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Hr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Hk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):_b();var t,n}function Wk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Kk(e){return!!e&&"integerValue"in e}function Gk(e){return!!e&&"arrayValue"in e}function Qk(e){return!!e&&"nullValue"in e}function Yk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $k(e){return!!e&&"mapValue"in e}function Xk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return xk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xk(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Jk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zk(e){return"nullValue"in e?jk:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Wk(wk.empty(),Gb.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:_b()}function ew(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Wk(wk.empty(),Gb.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Lk:_b()}function tw(e,t){var n=Bk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function nw(e,t){var n=Bk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var rw=_r((function e(t,n){kr(this,e),this.position=t,this.inclusive=n}));function iw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Gb.comparator(Gb.fromName(o.referenceValue),n.key):Bk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function aw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vk(e.position[n],t.position[n]))return!1;return!0}var ow=_r((function e(){kr(this,e)})),sw=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i){var a;return kr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return _r(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bk(t,this.value)):null!==t&&Fk(this.value)===Fk(t)&&this.matchesComparison(Bk(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _b()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new yw(e,t,r):"array-contains"===t?new ww(e,r):"in"===t?new _w(e,r):"not-in"===t?new xw(e,r):"array-contains-any"===t?new Sw(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new gw(e,n):new bw(e,n)}}]),n}(ow),uw=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return _r(n,[{key:"matches",value:function(e){return lw(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Hr(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ow);function lw(e){return"and"===e.op}function cw(e){return"or"===e.op}function fw(e){return hw(e)&&lw(e)}function hw(e){var t,n=Hr(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof uw)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function dw(e){if(e instanceof sw)return e.field.canonicalString()+e.op.toString()+zk(e.value);if(fw(e))return e.filters.map((function(e){return dw(e)})).join(",");var t=e.filters.map((function(e){return dw(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function pw(e,t){return e instanceof sw?function(e,t){return t instanceof sw&&e.op===t.op&&e.field.isEqual(t.field)&&Vk(e.value,t.value)}(e,t):e instanceof uw?function(e,t){return t instanceof uw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&pw(n,t.filters[r])}),!0)}(e,t):void _b()}function vw(e,t){var n=e.filters.concat(t);return uw.create(n,e.op)}function mw(e){return e instanceof sw?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(zk(e.value))}(e):e instanceof uw?function(e){return e.op.toString()+" {"+e.getFilters().map(mw).join(" ,")+"}"}(e):"Filter"}var yw=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i){var a;return kr(this,n),(a=t.call(this,e,r,i)).key=Gb.fromName(i.referenceValue),a}return _r(n,[{key:"matches",value:function(e){var t=Gb.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(sw),gw=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,e,"in",r)).keys=kw("in",r),i}return _r(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sw),bw=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,e,"not-in",r)).keys=kw("not-in",r),i}return _r(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sw);function kw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Gb.fromName(e.referenceValue)}))}var ww=function(e){Sr(n,e);var t=Nr(n);function n(e,r){return kr(this,n),t.call(this,e,"array-contains",r)}return _r(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Gk(t)&&Uk(t.arrayValue,this.value)}}]),n}(sw),_w=function(e){Sr(n,e);var t=Nr(n);function n(e,r){return kr(this,n),t.call(this,e,"in",r)}return _r(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Uk(this.value.arrayValue,t)}}]),n}(sw),xw=function(e){Sr(n,e);var t=Nr(n);function n(e,r){return kr(this,n),t.call(this,e,"not-in",r)}return _r(n,[{key:"matches",value:function(e){if(Uk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Uk(this.value.arrayValue,t)}}]),n}(sw),Sw=function(e){Sr(n,e);var t=Nr(n);function n(e,r){return kr(this,n),t.call(this,e,"array-contains-any",r)}return _r(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Gk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Uk(t.value.arrayValue,e)}))}}]),n}(sw),Ew=_r((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";kr(this,e),this.field=t,this.dir=n}));function Tw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Cw=function(){function e(t,n){kr(this,e),this.comparator=t,this.root=n||Pw.EMPTY}return _r(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Pw.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pw.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Iw(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Iw(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Iw(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Iw(this.root,e,this.comparator,!0)}}]),e}(),Iw=function(){function e(t,n,r,i){kr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return _r(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Pw=function(){function e(t,n,r,i,a){kr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return _r(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw _b();if(this.right.isRed())throw _b();var e=this.left.check();if(e!==this.right.check())throw _b();return e+(this.isRed()?0:1)}}]),e}();Pw.EMPTY=null,Pw.RED=!0,Pw.BLACK=!1,Pw.EMPTY=new(function(){function e(){kr(this,e),this.size=0}return _r(e,[{key:"key",get:function(){throw _b()}},{key:"value",get:function(){throw _b()}},{key:"color",get:function(){throw _b()}},{key:"left",get:function(){throw _b()}},{key:"right",get:function(){throw _b()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Pw(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Nw=function(){function e(t){kr(this,e),this.comparator=t,this.data=new Cw(this.comparator)}return _r(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Aw(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Aw(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Aw=function(){function e(t){kr(this,e),this.iter=t}return _r(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ow(e){return e.hasNext()?e.getNext():void 0}var Dw=function(){function e(t){kr(this,e),this.fields=t,t.sort(Kb.comparator)}return _r(e,[{key:"unionWith",value:function(t){var n,r=new Nw(Kb.comparator),i=Hr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=Hr(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Hr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Vb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Rw=function(){function e(t){kr(this,e),this.value=t}return _r(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$k(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xk(t)}},{key:"setAll",value:function(e){var t=this,n=Kb.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$k(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$k(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){xk(t,(function(t,n){return e[t]=n}));var r,i=Hr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Mw(e){var t=[];return xk(e.fields,(function(e,n){var r=new Kb([e]);if($k(n)){var i=Mw(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Hr(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Dw(t)}var Lw=function(){function e(t,n,r,i,a,o,s){kr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return _r(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(qb.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Rw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Rw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=qb.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,qb.min(),qb.min(),qb.min(),Rw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,qb.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,qb.min(),qb.min(),Rw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,qb.min(),qb.min(),Rw.empty(),2)}}]),e}(),jw=_r((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;kr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function Fw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new jw(e,t,n,r,i,a,o)}function Vw(e){var t=Sb(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return dw(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ek(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return zk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return zk(e)})).join(",")),t.ft=n}return t.ft}function Uw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Tw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!pw(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!aw(e.startAt,t.startAt)&&aw(e.endAt,t.endAt)}function Bw(e){return Gb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function qw(e,t){return e.filters.filter((function(e){return e instanceof sw&&e.field.isEqual(t)}))}function zw(e,t,n){var r,i=jk,a=!0,o=Hr(qw(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=jk,l=!0;switch(s.op){case"<":case"<=":u=Zk(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,l=!1;break;case"!=":case"not-in":u=jk}tw({value:i,inclusive:a},{value:u,inclusive:l})<0&&(i=u,a=l)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var f=n.position[c];tw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Hw(e,t,n){var r,i=Lk,a=!0,o=Hr(qw(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Lk,l=!0;switch(s.op){case">=":case">":u=ew(s.value),l=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,l=!1;break;case"!=":case"not-in":u=Lk}nw({value:i,inclusive:a},{value:u,inclusive:l})>0&&(i=u,a=l)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var f=n.position[c];nw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ww=_r((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;kr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function Kw(e,t,n,r,i,a,o,s){return new Ww(e,t,n,r,i,a,o,s)}function Gw(e){return new Ww(e)}function Qw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Yw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $w(e){var t,n=Hr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Xw(e){return null!==e.collectionGroup}function Jw(e){var t=Sb(e);if(null===t.dt){t.dt=[];var n=$w(t),r=Yw(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Ew(n)),t.dt.push(new Ew(Kb.keyField(),"asc"));else{var i,a=!1,o=Hr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Ew(Kb.keyField(),u))}}}return t.dt}function Zw(e){var t=Sb(e);if(!t._t)if("F"===t.limitType)t._t=Fw(t.path,t.collectionGroup,Jw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Hr(Jw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ew(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new rw(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new rw(t.startAt.position,t.startAt.inclusive):null;t._t=Fw(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function e_(e,t){t.getFirstInequalityField(),$w(e);var n=e.filters.concat([t]);return new Ww(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function t_(e,t,n){return new Ww(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function n_(e,t){return Uw(Zw(e),Zw(t))&&e.limitType===t.limitType}function r_(e){return"".concat(Vw(Zw(e)),"|lt:").concat(e.limitType)}function i_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return mw(e)})).join(", "),"]")),Ek(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return zk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return zk(e)})).join(",")),"Target(".concat(t,")")}(Zw(e)),"; limitType=").concat(e.limitType,")")}function a_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Gb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Hr(Jw(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Hr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=iw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Jw(e),t))&&!(e.endAt&&!function(e,t,n){var r=iw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Jw(e),t))}(e,t)}function o_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function s_(e){return function(t,n){var r,i=!1,a=Hr(Jw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=u_(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function u_(e,t,n){var r=e.field.isKeyField()?Gb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bk(r,i):_b()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _b()}}function l_(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tk(t)?"-0":t}}function c_(e){return{integerValue:""+e}}function f_(e,t){return Ck(t)?c_(t):l_(e,t)}var h_=_r((function e(){kr(this,e),this._=void 0}));function d_(e,t,n){return e instanceof m_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof y_?g_(e,t):e instanceof b_?k_(e,t):function(e,t){var n=v_(e,t),r=__(n)+__(e.gt);return Kk(n)&&Kk(e.gt)?c_(r):l_(e.yt,r)}(e,t)}function p_(e,t,n){return e instanceof y_?g_(e,t):e instanceof b_?k_(e,t):n}function v_(e,t){return e instanceof w_?Kk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var m_=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n)}(h_),y_=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this)).elements=e,r}return _r(n)}(h_);function g_(e,t){var n,r=x_(t),i=Hr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var b_=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this)).elements=e,r}return _r(n)}(h_);function k_(e,t){var n,r=x_(t),i=Hr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var w_=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return _r(n)}(h_);function __(e){return Ak(e.integerValue||e.doubleValue)}function x_(e){return Gk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var S_=_r((function e(t,n){kr(this,e),this.field=t,this.transform=n}));var E_=_r((function e(t,n){kr(this,e),this.version=t,this.transformResults=n})),T_=function(){function e(t,n){kr(this,e),this.updateTime=t,this.exists=n}return _r(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function C_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var I_=_r((function e(){kr(this,e)}));function P_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new B_(e.key,T_.none()):new R_(e.key,e.data,T_.none());var n,r=e.data,i=Rw.empty(),a=new Nw(Kb.comparator),o=Hr(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new M_(e.key,i,new Dw(a.toArray()),T_.none())}function N_(e,t,n){e instanceof R_?function(e,t,n){var r=e.value.clone(),i=j_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof M_?function(e,t,n){if(C_(e.precondition,t)){var r=j_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(L_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function A_(e,t,n,r){return e instanceof R_?function(e,t,n,r){if(!C_(e.precondition,t))return n;var i=e.value.clone(),a=F_(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof M_?function(e,t,n,r){if(!C_(e.precondition,t))return n;var i=F_(e.fieldTransforms,r,t),a=t.data;return a.setAll(L_(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return C_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function O_(e,t){var n,r=null,i=Hr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=v_(a.transform,o||null);null!=s&&(null===r&&(r=Rw.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function D_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Vb(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof y_&&t instanceof y_||e instanceof b_&&t instanceof b_?Vb(e.elements,t.elements,Vk):e instanceof w_&&t instanceof w_?Vk(e.gt,t.gt):e instanceof m_&&t instanceof m_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var R_=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return kr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return _r(n,[{key:"getFieldMask",value:function(){return null}}]),n}(I_),M_=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return kr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return _r(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(I_);function L_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function j_(e,t,n){var r=new Map;xb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,p_(o,s,n[i]))}return r}function F_(e,t,n){var r,i=new Map,a=Hr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,d_(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var V_,U_,B_=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return _r(n,[{key:"getFieldMask",value:function(){return null}}]),n}(I_),q_=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return _r(n,[{key:"getFieldMask",value:function(){return null}}]),n}(I_),z_=_r((function e(t){kr(this,e),this.count=t}));function H_(e){switch(e){default:return _b();case Eb.CANCELLED:case Eb.UNKNOWN:case Eb.DEADLINE_EXCEEDED:case Eb.RESOURCE_EXHAUSTED:case Eb.INTERNAL:case Eb.UNAVAILABLE:case Eb.UNAUTHENTICATED:return!1;case Eb.INVALID_ARGUMENT:case Eb.NOT_FOUND:case Eb.ALREADY_EXISTS:case Eb.PERMISSION_DENIED:case Eb.FAILED_PRECONDITION:case Eb.ABORTED:case Eb.OUT_OF_RANGE:case Eb.UNIMPLEMENTED:case Eb.DATA_LOSS:return!0}}function W_(e){if(void 0===e)return bb("GRPC error has no .code"),Eb.UNKNOWN;switch(e){case V_.OK:return Eb.OK;case V_.CANCELLED:return Eb.CANCELLED;case V_.UNKNOWN:return Eb.UNKNOWN;case V_.DEADLINE_EXCEEDED:return Eb.DEADLINE_EXCEEDED;case V_.RESOURCE_EXHAUSTED:return Eb.RESOURCE_EXHAUSTED;case V_.INTERNAL:return Eb.INTERNAL;case V_.UNAVAILABLE:return Eb.UNAVAILABLE;case V_.UNAUTHENTICATED:return Eb.UNAUTHENTICATED;case V_.INVALID_ARGUMENT:return Eb.INVALID_ARGUMENT;case V_.NOT_FOUND:return Eb.NOT_FOUND;case V_.ALREADY_EXISTS:return Eb.ALREADY_EXISTS;case V_.PERMISSION_DENIED:return Eb.PERMISSION_DENIED;case V_.FAILED_PRECONDITION:return Eb.FAILED_PRECONDITION;case V_.ABORTED:return Eb.ABORTED;case V_.OUT_OF_RANGE:return Eb.OUT_OF_RANGE;case V_.UNIMPLEMENTED:return Eb.UNIMPLEMENTED;case V_.DATA_LOSS:return Eb.DATA_LOSS;default:return _b()}}(U_=V_||(V_={}))[U_.OK=0]="OK",U_[U_.CANCELLED=1]="CANCELLED",U_[U_.UNKNOWN=2]="UNKNOWN",U_[U_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",U_[U_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",U_[U_.NOT_FOUND=5]="NOT_FOUND",U_[U_.ALREADY_EXISTS=6]="ALREADY_EXISTS",U_[U_.PERMISSION_DENIED=7]="PERMISSION_DENIED",U_[U_.UNAUTHENTICATED=16]="UNAUTHENTICATED",U_[U_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",U_[U_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",U_[U_.ABORTED=10]="ABORTED",U_[U_.OUT_OF_RANGE=11]="OUT_OF_RANGE",U_[U_.UNIMPLEMENTED=12]="UNIMPLEMENTED",U_[U_.INTERNAL=13]="INTERNAL",U_[U_.UNAVAILABLE=14]="UNAVAILABLE",U_[U_.DATA_LOSS=15]="DATA_LOSS";var K_=function(){function e(t,n){kr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return _r(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Hr(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){xk(this.inner,(function(t,n){var r,i=Hr(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Sk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),G_=new Cw(Gb.comparator);function Q_(){return G_}var Y_=new Cw(Gb.comparator);function $_(){for(var e=Y_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function X_(e){var t=Y_;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function J_(){return ex()}function Z_(){return ex()}function ex(){return new K_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var tx=new Cw(Gb.comparator),nx=new Nw(Gb.comparator);function rx(){for(var e=nx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ix=new Nw(Fb);function ax(){return ix}var ox=function(){function e(t,n,r,i,a){kr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return _r(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,sx.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(qb.min(),i,ax(),Q_(),rx())}}]),e}(),sx=function(){function e(t,n,r,i,a){kr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return _r(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,rx(),rx(),rx())}}]),e}(),ux=_r((function e(t,n,r,i){kr(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),lx=_r((function e(t,n){kr(this,e),this.targetId=t,this.Et=n})),cx=_r((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ik.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;kr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),fx=function(){function e(){kr(this,e),this.At=0,this.Rt=px(),this.bt=Ik.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return _r(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=rx(),t=rx(),n=rx();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_b()}})),new sx(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=px()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),hx=function(){function e(t){kr(this,e),this.$t=t,this.Bt=new Map,this.Lt=Q_(),this.qt=dx(),this.Ut=new Nw(Fb)}return _r(e,[{key:"Kt",value:function(e){var t,n=Hr(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Hr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:_b()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Bw(i))if(0===n){var a=new Gb(i.path);this.Qt(t,a,Lw.newNoDocument(a,qb.min()))}else xb(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Bw(a.target)){var o=new Gb(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Lw.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=rx();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new ox(e,n,this.Ut,this.Lt,r);return this.Lt=Q_(),this.qt=dx(),this.Ut=new Nw(Fb),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new fx,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Nw(Fb),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||gb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new fx),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function dx(){return new Cw(Gb.comparator)}function px(){return new Cw(Gb.comparator)}var vx={asc:"ASCENDING",desc:"DESCENDING"},mx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yx={and:"AND",or:"OR"},gx=_r((function e(t,n){kr(this,e),this.databaseId=t,this.wt=n}));function bx(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function kx(e,t){return e.wt?t.toBase64():t.toUint8Array()}function wx(e,t){return bx(e,t.toTimestamp())}function _x(e){return xb(!!e),qb.fromTimestamp(function(e){var t=Nk(e);return new Bb(t.seconds,t.nanos)}(e))}function xx(e,t){return function(e){return new Hb(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Sx(e){var t=Hb.fromString(e);return xb(Gx(t)),t}function Ex(e,t){return xx(e.databaseId,t.path)}function Tx(e,t){var n=Sx(t);if(n.get(1)!==e.databaseId.projectId)throw new Tb(Eb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tb(Eb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Gb(Nx(n))}function Cx(e,t){return xx(e.databaseId,t)}function Ix(e){var t=Sx(e);return 4===t.length?Hb.emptyPath():Nx(t)}function Px(e){return new Hb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Nx(e){return xb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ax(e,t,n){return{name:Ex(e,t),fields:n.value.mapValue.fields}}function Ox(e,t,n){var r=Tx(e,t.name),i=_x(t.updateTime),a=t.createTime?_x(t.createTime):qb.min(),o=new Rw({mapValue:{fields:t.fields}}),s=Lw.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Dx(e,t){return"found"in t?function(e,t){xb(!!t.found),t.found.name,t.found.updateTime;var n=Tx(e,t.found.name),r=_x(t.found.updateTime),i=t.found.createTime?_x(t.found.createTime):qb.min(),a=new Rw({mapValue:{fields:t.found.fields}});return Lw.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){xb(!!t.missing),xb(!!t.readTime);var n=Tx(e,t.missing),r=_x(t.readTime);return Lw.newNoDocument(n,r)}(e,t):_b()}function Rx(e,t){var n;if(t instanceof R_)n={update:Ax(e,t.key,t.value)};else if(t instanceof B_)n={delete:Ex(e,t.key)};else if(t instanceof M_)n={update:Ax(e,t.key,t.data),updateMask:Kx(t.fieldMask)};else{if(!(t instanceof q_))return _b();n={verify:Ex(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof m_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof y_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof b_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof w_)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw _b()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wx(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_b()}(e,t.precondition)),n}function Mx(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?T_.updateTime(_x(e.updateTime)):void 0!==e.exists?T_.exists(e.exists):T_.none()}(t.currentDocument):T_.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)xb("REQUEST_TIME"===t.setToServerValue),n=new m_;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new y_(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new b_(i)}else"increment"in t?n=new w_(e,t.increment):_b();var a=Kb.fromServerFormat(t.fieldPath);return new S_(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Tx(e,t.update.name),a=new Rw({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Dw(t.map((function(e){return Kb.fromServerFormat(e)})))}(t.updateMask);return new M_(i,a,o,n,r)}return new R_(i,a,n,r)}if(t.delete){var s=Tx(e,t.delete);return new B_(s,n)}if(t.verify){var u=Tx(e,t.verify);return new q_(u,n)}return _b()}function Lx(e,t){return{documents:[Cx(e,t.path)]}}function jx(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Cx(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Cx(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Wx(uw.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:zx(e.field),direction:Ux(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||Ek(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Fx(e){var t=Ix(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Vx(e);return t instanceof uw&&fw(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ew(Hx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Ek(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new rw(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new rw(n,t)}(n.endAt)),Kw(t,i,s,o,u,"F",l,c)}function Vx(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Hx(e.unaryFilter.field);return sw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Hx(e.unaryFilter.field);return sw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hx(e.unaryFilter.field);return sw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hx(e.unaryFilter.field);return sw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _b()}}(e):void 0!==e.fieldFilter?function(e){return sw.create(Hx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _b()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return uw.create(e.compositeFilter.filters.map((function(e){return Vx(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return _b()}}(e.compositeFilter.op))}(e):_b()}function Ux(e){return vx[e]}function Bx(e){return mx[e]}function qx(e){return yx[e]}function zx(e){return{fieldPath:e.canonicalString()}}function Hx(e){return Kb.fromServerFormat(e.fieldPath)}function Wx(e){return e instanceof sw?function(e){if("=="===e.op){if(Yk(e.value))return{unaryFilter:{field:zx(e.field),op:"IS_NAN"}};if(Qk(e.value))return{unaryFilter:{field:zx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yk(e.value))return{unaryFilter:{field:zx(e.field),op:"IS_NOT_NAN"}};if(Qk(e.value))return{unaryFilter:{field:zx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zx(e.field),op:Bx(e.op),value:e.value}}}(e):e instanceof uw?function(e){var t=e.getFilters().map((function(e){return Wx(e)}));return 1===t.length?t[0]:{compositeFilter:{op:qx(e.op),filters:t}}}(e):_b()}function Kx(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Gx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Qx(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$x(t)),t=Yx(e.get(n),t);return $x(t)}function Yx(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function $x(e){return e+"\x01\x01"}function Xx(e){var t=e.length;if(xb(t>=2),2===t)return xb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Hb.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&_b(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:_b()}a=o+2}return new Hb(r)}var Jx=["userId","batchId"];function Zx(e,t){return[e,Qx(t)]}function eS(e,t,n){return[e,Qx(t),n]}var tS={},nS=["prefixPath","collectionGroup","readTime","documentId"],rS=["prefixPath","collectionGroup","documentId"],iS=["collectionGroup","readTime","prefixPath","documentId"],aS=["canonicalId","targetId"],oS=["targetId","path"],sS=["path","targetId"],uS=["collectionId","parent"],lS=["indexId","uid"],cS=["uid","sequenceNumber"],fS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hS=["indexId","uid","orderedDocumentKey"],dS=["userId","collectionPath","documentId"],pS=["userId","collectionPath","largestBatchId"],vS=["userId","collectionGroup","largestBatchId"],mS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),yS=[].concat(Ca(mS),["documentOverlays"]),gS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bS=gS,kS=[].concat(bS,["indexConfiguration","indexState","indexEntries"]),wS=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return _r(n)}(ik);function _S(e,t){var n=Sb(e);return lk.M(n.se,t)}var xS=function(){function e(t,n,r,i){kr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return _r(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&N_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Hr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=A_(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Hr(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=A_(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Z_();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=P_(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(qb.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),rx())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Vb(this.mutations,e.mutations,(function(e,t){return D_(e,t)}))&&Vb(this.baseMutations,e.baseMutations,(function(e,t){return D_(e,t)}))}}]),e}(),SS=function(){function e(t,n,r,i){kr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return _r(e,null,[{key:"from",value:function(t,n,r){xb(t.mutations.length===r.length);for(var i=tx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ES=function(){function e(t,n){kr(this,e),this.largestBatchId=t,this.mutation=n}return _r(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),TS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qb.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:qb.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ik.EMPTY_BYTE_STRING;kr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return _r(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),CS=_r((function e(t){kr(this,e),this.ie=t}));function IS(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:PS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ex(e,t.key),fields:t.data.value.mapValue.fields,updateTime:bx(e,t.version.toTimestamp()),createTime:bx(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:NS(t.version)};else{if(!t.isUnknownDocument())return _b();r.unknownDocument={path:n.path.toArray(),version:NS(t.version)}}return r}function PS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function NS(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function AS(e){var t=new Bb(e.seconds,e.nanoseconds);return qb.fromTimestamp(t)}function OS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Mx(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Mx(e.ie,t)})),s=Bb.fromMillis(t.localWriteTimeMs);return new xS(t.batchId,s,n,o)}function DS(e){var t,n,r=AS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?AS(e.lastLimboFreeSnapshotVersion):qb.min();return void 0!==e.query.documents?(xb(1===(n=e.query).documents.length),t=Zw(Gw(Ix(n.documents[0])))):t=function(e){return Zw(Fx(e))}(e.query),new TS(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ik.fromBase64String(e.resumeToken))}function RS(e,t){var n,r=NS(t.snapshotVersion),i=NS(t.lastLimboFreeSnapshotVersion);n=Bw(t.target)?Lx(e.ie,t.target):jx(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Vw(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function MS(e){var t=Fx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?t_(t,t.limit,"L"):t}function LS(e,t){return new ES(t.largestBatchId,Mx(e.ie,t.overlayMutation))}function jS(e,t){var n=t.path.lastSegment();return[e,Qx(t.path.popLast()),n]}function FS(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:NS(r.readTime),documentKey:Qx(r.documentKey.path),largestBatchId:r.largestBatchId}}var VS=function(){function e(){kr(this,e)}return _r(e,[{key:"getBundleMetadata",value:function(e,t){return US(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:AS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return US(e).put({bundleId:(n=t).id,createTime:NS(_x(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return BS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:MS(t.bundledQuery),readTime:AS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return BS(e).put(function(e){return{name:e.name,readTime:NS(_x(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function US(e){return _S(e,"bundles")}function BS(e){return _S(e,"namedQueries")}var qS=function(){function e(t,n){kr(this,e),this.yt=t,this.userId=n}return _r(e,[{key:"getOverlay",value:function(e,t){var n=this;return zS(e).get(jS(this.userId,t)).next((function(e){return e?LS(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=J_();return sk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ES(t,a);i.push(r.oe(e,o))})),sk.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Qx(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(zS(e).Y("collectionPathOverlayIndex",i))})),sk.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=J_(),a=Qx(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return zS(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Hr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=LS(r.yt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=J_(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zS(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=LS(a.yt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return zS(e).put(function(e,t,n){var r=l(jS(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Rx(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function zS(e){return _S(e,"documentOverlays")}var HS=function(){function e(){kr(this,e)}return _r(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Ak(e.integerValue));else if("doubleValue"in e){var n=Ak(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),Tk(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Ok(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?Jk(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):_b()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=Hr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),Gb.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function WS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function KS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=WS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}HS.Ie=new HS;var GS=function(){function e(){kr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return _r(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=Hr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=Hr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=KS(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=KS(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),QS=function(){function e(t){kr(this,e),this.$e=t}return _r(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),YS=function(){function e(t){kr(this,e),this.$e=t}return _r(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),$S=function(){function e(){kr(this,e),this.$e=new GS,this.Be=new QS(this.$e),this.Le=new YS(this.$e)}return _r(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),XS=function(){function e(t,n,r,i){kr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return _r(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function JS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ZS(e.arrayValue,t.arrayValue))?n:0!==(n=ZS(e.directionalValue,t.directionalValue))?n:Gb.comparator(e.documentKey,t.documentKey)}function ZS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var eE=function(){function e(t){kr(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=Hr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return _r(e,[{key:"je",value:function(e){xb(e.collectionGroup===this.collectionId);var t=Yb(e);if(void 0!==t&&!this.We(t))return!1;for(var n=$b(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=Hr(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function tE(e){var t,n;if(xb(e instanceof sw||e instanceof uw),e instanceof sw){if(e instanceof _w){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return sw.create(e.field,"==",t)})))||[];return uw.create(r,"or")}return e}var i=e.filters.map((function(e){return tE(e)}));return uw.create(i,e.op)}function nE(e){if(0===e.getFilters().length)return[];var t=oE(tE(e));return xb(aE(t)),rE(t)||iE(t)?[t]:t.getFilters()}function rE(e){return e instanceof sw}function iE(e){return e instanceof uw&&fw(e)}function aE(e){return rE(e)||iE(e)||function(e){if(e instanceof uw&&cw(e)){var t,n=Hr(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!rE(r)&&!iE(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function oE(e){if(xb(e instanceof sw||e instanceof uw),e instanceof sw)return e;if(1===e.filters.length)return oE(e.filters[0]);var t=e.filters.map((function(e){return oE(e)})),n=uw.create(t,e.op);return aE(n=lE(n))?n:(xb(n instanceof uw),xb(lw(n)),xb(n.filters.length>1),n.filters.reduce((function(e,t){return sE(e,t)})))}function sE(e,t){var n;return xb(e instanceof sw||e instanceof uw),xb(t instanceof sw||t instanceof uw),n=e instanceof sw?t instanceof sw?function(e,t){return uw.create([e,t],"and")}(e,t):uE(e,t):t instanceof sw?uE(t,e):function(e,t){if(xb(e.filters.length>0&&t.filters.length>0),lw(e)&&lw(t))return vw(e,t.getFilters());var n=cw(e)?e:t,r=cw(e)?t:e,i=n.filters.map((function(e){return sE(e,r)}));return uw.create(i,"or")}(e,t),lE(n)}function uE(e,t){if(lw(t))return vw(t,e.getFilters());var n=t.filters.map((function(t){return sE(e,t)}));return uw.create(n,"or")}function lE(e){if(xb(e instanceof sw||e instanceof uw),e instanceof sw)return e;var t=e.getFilters();if(1===t.length)return lE(t[0]);if(hw(e))return e;var n=t.map((function(e){return lE(e)})),r=[];return n.forEach((function(t){t instanceof sw?r.push(t):t instanceof uw&&(t.op===e.op?r.push.apply(r,Ca(t.filters)):r.push(t))})),1===r.length?r[0]:uw.create(r,e.op)}var cE=function(){function e(){kr(this,e),this.Je=new fE}return _r(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),sk.resolve()}},{key:"getCollectionParents",value:function(e,t){return sk.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return sk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return sk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return sk.resolve(null)}},{key:"getIndexType",value:function(e,t){return sk.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return sk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return sk.resolve(null)}},{key:"getMinOffset",value:function(e,t){return sk.resolve(tk.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return sk.resolve(tk.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return sk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return sk.resolve()}}]),e}(),fE=function(){function e(){kr(this,e),this.index={}}return _r(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nw(Hb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Nw(Hb.comparator)).toArray()}}]),e}(),hE=new Uint8Array(0),dE=function(){function e(t,n){kr(this,e),this.user=t,this.databaseId=n,this.Ye=new fE,this.Xe=new K_((function(e){return Vw(e)}),(function(e,t){return Uw(e,t)})),this.uid=t.uid||""}return _r(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:Qx(i)};return pE(e).put(a)}return sk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ub(t),""],!1,!0);return pE(e).W(r).next((function(e){var r,i=Hr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Xx(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=mE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=yE(e);return a.next((function(e){o.put(FS(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=mE(e),r=yE(e),i=vE(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=vE(e),i=!0,a=new Map;return sk.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=rx(),o=[];return sk.forEach(a,(function(i,a){var s;gb("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Vw(t)));var u=function(e,t){var n=Yb(t);if(void 0===n)return null;var r,i=Hr(qw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=new Map,i=Hr($b(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Hr(qw(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=Hr($b(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?zw(e,o.fieldPath,e.startAt):Hw(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new rw(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Hr($b(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Hw(e,o.fieldPath,e.endAt):zw(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new rw(r,i)}(a,i),h=n.en(i,a,c),d=n.en(i,a,f),p=n.nn(i,a,l),v=n.sn(i.indexId,u,h,c.inclusive,d,f.inclusive,p);return sk.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Gb.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return sk.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:nE(uw.create(e.filters,"and")).map((function(t){return Fw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),l=u/(null!=t?t.length:1),c=[],f=function(u){var f=t?s.rn(t[u/l]):hE,h=s.on(e,f,n[u%l],r),d=s.un(e,f,i[u%l],a),p=o.map((function(t){return s.on(e,f,t,!0)}));c.push.apply(c,Ca(s.createRange(h,d,p)))},h=0;h<u;++h)f(h);return c}},{key:"on",value:function(e,t,n,r){var i=new XS(e,Gb.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new XS(e,Gb.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new eE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Hr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return sk.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Nw(Kb.comparator),r=!1,i=Hr(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Hr(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,l=Hr(e.orderBy);try{for(l.s();!(u=l.n()).done;){var c=u.value;c.field.isKeyField()||(n=n.add(c.field))}}catch(f){l.e(f)}finally{l.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new $S,i=Hr($b(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);HS.Ie.ue(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new $S;return HS.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new $S;return HS.Ie.ue(Wk(this.databaseId,t),n.qe(function(e){var t=$b(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new $S);var i,a=0,o=Hr($b(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,l=n[a++],c=Hr(r);try{for(c.s();!(s=c.n()).done;){var f=s.value;if(this.hn(t,u.fieldPath)&&Gk(l))r=this.ln(r,u,l);else{var h=f.qe(u.kind);HS.Ie.ue(l,h)}}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=Ca(e),a=[],o=Hr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,l=Hr(i);try{for(l.s();!(s=l.n()).done;){var c=s.value,f=new $S;f.seed(c.Fe()),HS.Ie.ue(u,f.qe(t.kind)),a.push(f)}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof sw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=mE(e),i=yE(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return sk.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Jb(t.sequenceNumber,new tk(AS(t.readTime),new Gb(Xx(t.documentKey)),t.largestBatchId)):Jb.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Xb(Kb.fromServerFormat(n),r)}));return new Qb(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Fb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=mE(e),a=yE(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return sk.forEach(t,(function(t){return a.put(FS(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return sk.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?sk.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),sk.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?sk.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return vE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return vE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=vE(e),i=new Nw(JS);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new XS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new Nw(JS),r=this.cn(t,e);if(null==r)return n;var i=Yb(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Gk(a)){var o,s=Hr(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new XS(t.indexId,e.key,this.rn(u),r))}}catch(l){s.e(l)}finally{s.f()}}}else n=n.add(new XS(t.indexId,e.key,hE,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;gb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Ow(a),u=Ow(o);s||u;){var l=!1,c=!1;if(s&&u){var f=n(s,u);f<0?c=!0:f>0&&(l=!0)}else null!=s?c=!0:l=!0;l?(r(u),u=Ow(o)):c?(i(s),s=Ow(a)):(s=Ow(a),u=Ow(o))}}(r,i,JS,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),sk.waitFor(o)}},{key:"dn",value:function(e){var t=1;return yE(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return JS(e,t)})).filter((function(e,t,n){return!t||0!==JS(e,n[t-1])}));var r=[];r.push(e);var i,a=Hr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=JS(o,e),u=JS(o,t);if(0===s)r[0]=e.Ue();else if(s>0&&u<0)r.push(o),r.push(o.Ue());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var l=[],c=0;c<r.length;c+=2){if(this.pn(r[c],r[c+1]))return[];var f=[r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,hE,[]],h=[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,hE,[]];l.push(IDBKeyRange.bound(f,h))}return l}},{key:"pn",value:function(e,t){return JS(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(gE)}},{key:"getMinOffset",value:function(e,t){var n=this;return sk.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||_b()}))})).next(gE)}}]),e}();function pE(e){return _S(e,"collectionParents")}function vE(e){return _S(e,"indexEntries")}function mE(e){return _S(e,"indexConfiguration")}function yE(e){return _S(e,"indexState")}function gE(e){xb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;nk(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new tk(t.readTime,t.documentKey,n)}var bE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kE=function(){function e(t,n,r){kr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return _r(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function wE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){xb(1===s)})));var l,c=[],f=Hr(n.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value,d=eS(t,h.key.path,n.batchId);a.push(i.delete(d)),c.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return sk.waitFor(a).next((function(){return c}))}function _E(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _b();t=e.noDocument}return JSON.stringify(t).length}kE.DEFAULT_COLLECTION_PERCENTILE=10,kE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kE.DEFAULT=new kE(41943040,kE.DEFAULT_COLLECTION_PERCENTILE,kE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kE.DISABLED=new kE(-1,0,0);var xE=function(){function e(t,n,r,i){kr(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return _r(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return EE(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=TE(e),o=EE(e);return o.add({}).next((function(s){xb("number"==typeof s);var u,l=new xS(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Rx(e.ie,t)})),i=n.mutations.map((function(t){return Rx(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,l),f=[],h=new Nw((function(e,t){return Fb(e.canonicalString(),t.canonicalString())})),d=Hr(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=eS(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(c)),f.push(a.put(v,tS))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=l.keys()})),sk.waitFor(f).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return EE(e).get(t).next((function(e){return e?(xb(e.userId===n.userId),OS(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?sk.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return EE(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(xb(t.batchId>=r),a=OS(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return EE(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return EE(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return OS(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Zx(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return TE(e).Z({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=Xx(c);if(u===n.userId&&t.path.isEqual(h))return EE(e).get(f).next((function(e){if(!e)throw _b();xb(e.userId===n.userId),a.push(OS(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Nw(Fb),i=[];return t.forEach((function(t){var a=Zx(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=TE(e).Z({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=Xx(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),sk.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Zx(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Nw(Fb);return TE(e).Z({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=Xx(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(EE(e).get(t).next((function(e){if(null===e)throw _b();xb(e.userId===n.userId),r.push(OS(n.yt,e))})))})),sk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return wE(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),sk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return sk.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return TE(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Xx(e[1]);i.push(a)}else r.done()})).next((function(){xb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return SE(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return CE(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return xb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function SE(e,t,n){var r=Zx(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return TE(e).Z({range:a,X:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function EE(e){return _S(e,"mutations")}function TE(e){return _S(e,"documentMutations")}function CE(e){return _S(e,"mutationQueues")}var IE=function(){function e(t){kr(this,e),this.bn=t}return _r(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),PE=function(){function e(t,n){kr(this,e),this.referenceDelegate=t,this.yt=n}return _r(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new IE(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return qb.fromTimestamp(new Bb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return NE(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return xb(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return NE(e).Z((function(o,s){var u=DS(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return sk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return NE(e).Z((function(e,n){var r=DS(n);t(r)}))}},{key:"Vn",value:function(e){return AE(e).get("targetGlobalKey").next((function(e){return xb(null!==e),e}))}},{key:"Sn",value:function(e,t){return AE(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return NE(e).put(RS(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Vw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return NE(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=DS(n);Uw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=OE(e);return t.forEach((function(t){var o=Qx(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),sk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=OE(e);return sk.forEach(t,(function(t){var a=Qx(t.path);return sk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=OE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=OE(e),i=rx();return r.Z({range:n,X:!0},(function(e,t,n){var r=Xx(e[1]),a=new Gb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Qx(t.path),r=IDBKeyRange.bound([n],[Ub(n)],!1,!0),i=0;return OE(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return NE(e).get(t).next((function(e){return e?DS(e):null}))}}]),e}();function NE(e){return _S(e,"targets")}function AE(e){return _S(e,"targetGlobal")}function OE(e){return _S(e,"targetDocuments")}function DE(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=Fb(r,o);return 0===u?Fb(i,s):u}var RE=function(){function e(t){kr(this,e),this.xn=t,this.buffer=new Nw(DE),this.Nn=0}return _r(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();DE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ME=function(){function e(t,n,r){kr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return _r(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;gb("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!hk(e.t0)){e.next=12;break}gb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ak(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),LE=function(){function e(t,n){kr(this,e),this.$n=t,this.params=n}return _r(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return sk.resolve(bk.at);var r=new RE(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(gb("LruGarbageCollector","Garbage collection skipped; disabled"),sk.resolve(bE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(gb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),bE):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,s,u,l=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(gb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(l.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),yb()<=Yf.DEBUG&&gb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-c,"ms")),sk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),jE=function(){function e(t,n){kr(this,e),this.db=t,this.garbageCollector=function(e,t){return new LE(e,t)}(this,n)}return _r(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return FE(e,n)}},{key:"removeReference",value:function(e,t,n){return FE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return FE(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return CE(e).tt((function(r){return SE(e,r,t).next((function(e){return e&&(n=!0),sk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,qb.min()),OE(e).delete([0,Qx(o.path)])}))}));i.push(u)}})).next((function(){return sk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return FE(e,t)}},{key:"Kn",value:function(e,t){var n,r=OE(e),i=bk.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==bk.at&&t(new Gb(Xx(n)),i),i=u,n=s):i=bk.at})).next((function(){i!==bk.at&&t(new Gb(Xx(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function FE(e,t){return OE(e).put(function(e,t){return{targetId:0,path:Qx(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var VE=function(){function e(){kr(this,e),this.changes=new K_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return _r(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Lw.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?sk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),UE=function(){function e(t){kr(this,e),this.yt=t}return _r(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return HE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return HE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],PS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Lw.newInvalidDocument(t);return HE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(WE(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Lw.newInvalidDocument(t)};return HE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(WE(t))},(function(e,i){r={document:n.jn(t,i),size:_E(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Q_();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Q_(),i=new Cw(Gb.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,_E(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return sk.resolve();var r=new Nw(GE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(WE(r.first()),WE(r.last())),a=r.getIterator(),o=a.getNext();return HE(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Gb.fromSegments([].concat(Ca(t.prefixPath),[t.collectionGroup,t.documentId]));o&&GE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(WE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),PS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return HE(e).W(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=Q_(),o=Hr(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.jn(Gb.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(a_(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(l){o.e(l)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Q_(),o=KE(t,n),s=KE(t,tk.max());return HE(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(Gb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new qE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return zE(e).get("remoteDocumentGlobalKey").next((function(e){return xb(!!e),e}))}},{key:"Qn",value:function(e,t){return zE(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ox(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Gb.fromSegments(t.noDocument.path),i=AS(t.noDocument.readTime);n=Lw.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return _b();var a=Gb.fromSegments(t.unknownDocument.path),o=AS(t.unknownDocument.version);n=Lw.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Bb(e[0],e[1]);return qb.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(qb.min()))return n}return Lw.newInvalidDocument(e)}}]),e}();function BE(e){return new UE(e)}var qE=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new K_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return _r(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Nw((function(e,t){return Fb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=IS(t.Yn.yt,o);i=i.add(a.path.popLast());var l=_E(u);r+=l-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var c=IS(t.Yn.yt,o.convertToNoDocument(qb.min()));n.push(t.Yn.addEntry(e,a,c))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),sk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(VE);function zE(e){return _S(e,"remoteDocumentGlobal")}function HE(e){return _S(e,"remoteDocumentsV14")}function WE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function KE(e,t){var n=t.documentKey.path.toArray();return[e,PS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function GE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Fb(n[a],r[a]))return i;return(i=Fb(n.length,r.length))||((i=Fb(n[n.length-2],r[r.length-2]))||Fb(n[n.length-1],r[r.length-1]))}var QE=_r((function e(t,n){kr(this,e),this.overlayedDocument=t,this.mutatedFields=n})),YE=function(){function e(t,n,r,i){kr(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return _r(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&A_(r.mutation,e,Dw.empty(),Bb.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,rx()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rx(),i=J_();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=$_();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=J_();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,rx())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Q_(),a=ex(),o=ex();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof M_)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),A_(o.mutation,t,o.mutation.getFieldMask(),Bb.now())):a.set(t.key,Dw.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new QE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=ex(),i=new Cw((function(e,t){return e-t})),a=rx();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Hr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Dw.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||rx()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=Z_();l.forEach((function(e){if(!a.has(e)){var n=P_(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return sk.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Gb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):sk.resolve(J_()),s=-1,u=a;return o.next((function(t){return sk.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?sk.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,rx())})).next((function(e){return{batchId:s,changes:X_(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Gb(t)).next((function(e){var t=$_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=$_();return this.indexManager.getCollectionParents(e,i).next((function(o){return sk.forEach(o,(function(o){var s=function(e,t){return new Ww(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Lw.newInvalidDocument(r)))}));var n=$_();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&A_(a.mutation,i,Dw.empty(),Bb.now()),a_(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),$E=function(){function e(t){kr(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return _r(e,[{key:"getBundleMetadata",value:function(e,t){return sk.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:_x(n.createTime)}),sk.resolve()}},{key:"getNamedQuery",value:function(e,t){return sk.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:MS(e.bundledQuery),readTime:_x(e.readTime)}}(t)),sk.resolve()}}]),e}(),XE=function(){function e(){kr(this,e),this.overlays=new Cw(Gb.comparator),this.es=new Map}return _r(e,[{key:"getOverlay",value:function(e,t){return sk.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=J_();return sk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),sk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),sk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=J_(),i=t.length+1,a=new Gb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return sk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Cw((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=J_(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=J_(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return sk.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ES(t,n));var a=this.es.get(t);void 0===a&&(a=rx(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),JE=function(){function e(){kr(this,e),this.ns=new Nw(ZE.ss),this.rs=new Nw(ZE.os)}return _r(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ZE(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new ZE(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Gb(new Hb([])),r=new ZE(n,e),i=new ZE(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Gb(new Hb([])),n=new ZE(t,e),r=new ZE(t,e+1),i=rx();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ZE(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ZE=function(){function e(t,n){kr(this,e),this.key=t,this._s=n}return _r(e,null,[{key:"ss",value:function(e,t){return Gb.comparator(e.key,t.key)||Fb(e._s,t._s)}},{key:"os",value:function(e,t){return Fb(e._s,t._s)||Gb.comparator(e.key,t.key)}}]),e}(),eT=function(){function e(t,n){kr(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Nw(ZE.ss)}return _r(e,[{key:"checkEmpty",value:function(e){return sk.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new xS(i,t,n,r);this.mutationQueue.push(a);var o,s=Hr(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new ZE(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return sk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return sk.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return sk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return sk.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return sk.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ZE(t,0),i=new ZE(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),sk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Nw(Fb);return t.forEach((function(e){var t=new ZE(e,0),i=new ZE(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),sk.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Gb.isDocumentKey(i)||(i=i.child(""));var a=new ZE(new Gb(i),0),o=new Nw(Fb);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),sk.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;xb(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return sk.forEach(t.mutations,(function(i){var a=new ZE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ZE(t,0),r=this.gs.firstAfterOrEqual(n);return sk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,sk.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),tT=function(){function e(t){kr(this,e),this.Es=t,this.docs=new Cw(Gb.comparator),this.size=0}return _r(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return sk.resolve(n?n.document.mutableCopy():Lw.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Q_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Lw.newInvalidDocument(e))})),sk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Q_(),a=t.path,o=new Gb(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||nk(ek(c),n)<=0||(r.has(c.key)||a_(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return sk.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){_b()}},{key:"As",value:function(e,t){return sk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new nT(this)}},{key:"getSize",value:function(e){return sk.resolve(this.size)}}]),e}(),nT=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this)).Yn=e,r}return _r(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),sk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(VE),rT=function(){function e(t){kr(this,e),this.persistence=t,this.Rs=new K_((function(e){return Vw(e)}),Uw),this.lastRemoteSnapshotVersion=qb.min(),this.highestTargetId=0,this.bs=0,this.Ps=new JE,this.targetCount=0,this.vs=IE.Pn()}return _r(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),sk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return sk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return sk.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),sk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),sk.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new IE(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,sk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),sk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,sk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),sk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return sk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return sk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),sk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),sk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),sk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return sk.resolve(n)}},{key:"containsKey",value:function(e,t){return sk.resolve(this.Ps.containsKey(t))}}]),e}(),iT=function(){function e(t,n){var r=this;kr(this,e),this.Vs={},this.overlays={},this.Ss=new bk(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new rT(this),this.indexManager=new cE,this.remoteDocumentCache=new tT((function(e){return r.referenceDelegate.xs(e)})),this.yt=new CS(n),this.Ns=new $E(this.yt)}return _r(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new XE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new eT(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;gb("MemoryPersistence","Starting transaction:",e);var i=new aT(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return sk.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),aT=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return _r(n)}(ik),oT=function(){function e(t){kr(this,e),this.persistence=t,this.Fs=new JE,this.$s=null}return _r(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw _b()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),sk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),sk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),sk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sk.forEach(this.Ls,(function(r){var i=Gb.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,qb.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return sk.or([function(){return sk.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),sT=function(){function e(t){kr(this,e),this.yt=t}return _r(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new uk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jx,{unique:!0}),e.createObjectStore("documentMutations")}(e),uT(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=sk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),uT(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:qb.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jx,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return sk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:dS});t.createIndex("collectionPathOverlayIndex",pS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",vS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:nS});t.createIndex("documentKeyIndex",rS),t.createIndex("collectionGroupIndex",iS)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:lS}).createIndex("sequenceNumberIndex",cS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:fS}).createIndex("documentKeyIndex",hS,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=_E(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return sk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return sk.forEach(r,(function(r){xb(r.userId===n.userId);var i=OS(t.yt,r);return wE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Hb(n),o=function(e){return[0,Qx(e)]}(a);r.push(t.get(o).next((function(n){return n?sk.resolve():function(n){return t.put({targetId:0,path:Qx(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return sk.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:uS});var n=t.store("collectionParents"),r=new fE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Qx(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Hb(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Xx(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=DS(r),a=RS(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Gb(Hb.fromString(i.document.name).popFirst(5)):i.noDocument?Gb.fromSegments(i.noDocument.path):i.unknownDocument?Gb.fromSegments(i.unknownDocument.path):_b()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return sk.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=BE(this.yt),a=new iT(oT.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:rx();OS(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),sk.forEach(r,(function(e,r){var o=new pb(r),s=qS.re(n.yt,o),u=a.getIndexManager(o),l=xE.re(o,n.yt,u,a.referenceDelegate);return new YE(i,l,s,u).recalculateAndSaveOverlaysForDocumentKeys(new wS(t,bk.at),e).next()}))}))}}]),e}();function uT(e){e.createObjectStore("targetDocuments",{keyPath:oS}).createIndex("documentTargetsIndex",sS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",aS,{unique:!0}),e.createObjectStore("targetGlobal")}var lT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",cT=function(){function e(t,n,r,i,a,o,s,u,l,c){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(kr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=l,this.Ys=c,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Tb(Eb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jE(this,i),this.ii=n+"main",this.yt=new CS(u),this.ri=new lk(this.ii,this.Xs,new sT(this.yt)),this.Cs=new PE(this.referenceDelegate,this.yt),this.remoteDocumentCache=BE(this.yt),this.Ns=new VS,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===c&&bb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return _r(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Tb(Eb.FAILED_PRECONDITION,lT);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new bk(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Hf(qf().mark((function n(r){return qf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Hf(qf().mark((function t(n){return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return hT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(hk(t))return gb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return gb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return fT(e).get("owner").next((function(e){return sk.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return hT(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Hf(qf().mark((function e(){var t,n,r,i,a=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=_S(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return sk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Hr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?sk.resolve(!0):fT(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Tb(Eb.FAILED_PRECONDITION,lT);return!1}}return!(!t.networkEnabled||!t.inForeground)||hT(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&gb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Hf(qf().mark((function e(){var t=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new wS(e,bk.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return hT(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return xE.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new dE(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return qS.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;gb("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?kS:14===i?bS:13===i?gS:12===i?yS:11===i?mS:void _b();return this.ri.runTransaction(e,o,s,(function(i){return a=new wS(i,r.Ss?r.Ss.next():bk.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw bb("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Tb(Eb.FAILED_PRECONDITION,rk);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return fT(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Tb(Eb.FAILED_PRECONDITION,lT)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fT(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=fT(e);return n.get("owner").next((function(e){return t.mi(e)?(gb("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):sk.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(bb("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!vf()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return gb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return bb("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(xv){bb("Failed to set zombie client id.",xv)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(xv){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return lk.C()}}]),e}();function fT(e){return _S(e,"owner")}function hT(e){return _S(e,"clientMetadata")}function dT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var pT=function(){function e(t,n,r,i){kr(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return _r(e,null,[{key:"Ci",value:function(t,n){var r,i=rx(),a=rx(),o=Hr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),vT=function(){function e(){kr(this,e),this.xi=!1}return _r(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Qw(t))return sk.resolve(null);var r=Zw(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=t_(t,null,"F"),r=Zw(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=rx.apply(void 0,Ca(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,t_(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Qw(t)||r.isEqual(qb.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(yb()<=Yf.DEBUG&&gb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),i_(t)),i.Bi(e,o,t,Zb(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Nw(s_(e));return t.forEach((function(t,r){a_(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return yb()<=Yf.DEBUG&&gb("QueryEngine","Using full collection scan to execute query:",i_(t)),this.Ni.getDocumentsMatchingQuery(e,t,tk.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),mT=function(){function e(t,n,r,i){kr(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new Cw(Fb),this.Ui=new K_((function(e){return Vw(e)}),Uw),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return _r(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YE(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function yT(e,t,n,r){return new mT(e,t,n,r)}function gT(e,t){return bT.apply(this,arguments)}function bT(){return bT=Hf(qf().mark((function e(t,n){var r;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=rx(),u=Hr(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=Hr(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=Hr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Hr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),bT.apply(this,arguments)}function kT(e,t){var n=Sb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=sk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);xb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=rx(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function wT(e){var t=Sb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function _T(e,t){var n=Sb(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(Ik.EMPTY_BYTE_STRING,qb.min()).withLastLimboFreeSnapshotVersion(qb.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Cs.updateTargetData(e,l))}}));var s=Q_(),u=rx();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(xT(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(qb.min())){var l=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return sk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function xT(e,t,n){var r=rx(),i=rx();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Q_();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(qb.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):gb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function ST(e,t){var n=Sb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ET(e,t){var n=Sb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,sk.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new TS(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function TT(e,t,n){return CT.apply(this,arguments)}function CT(){return CT=Hf(qf().mark((function e(t,n,r){var i,a,o;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sb(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),hk(e.t1)){e.next=12;break}throw e.t1;case 12:gb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),CT.apply(this,arguments)}function IT(e,t,n){var r=Sb(e),i=qb.min(),a=rx();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Sb(e),i=r.Ui.get(n);return void 0!==i?sk.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Zw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:qb.min(),n?a:rx())})).next((function(e){return AT(r,o_(t),e),{documents:e,Hi:a}}))}))}function PT(e,t){var n=Sb(e),r=Sb(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function NT(e,t){var n=Sb(e),r=n.Ki.get(t)||qb.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Zb(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return AT(n,t,e),e}))}function AT(e,t,n){var r=e.Ki.get(t)||qb.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function OT(e,t,n,r){return DT.apply(this,arguments)}function DT(){return DT=Hf(qf().mark((function e(t,n,r,i){var a,o,s,u,l,c,f,h,d,p;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Sb(t),o=rx(),s=Q_(),u=Hr(r);try{for(u.s();!(l=u.n()).done;)c=l.value,f=n.Ji(c.metadata.name),c.document&&(o=o.add(f)),(h=n.Yi(c)).setReadTime(n.Xi(c.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,ET(a,function(e){return Zw(Gw(Hb.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return xT(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),DT.apply(this,arguments)}function RT(e,t){return MT.apply(this,arguments)}function MT(){return MT=Hf(qf().mark((function e(t,n){var r,i,a,o=arguments;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:rx(),e.next=3,ET(t,Zw(MS(n.bundledQuery)));case 3:return i=e.sent,a=Sb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=_x(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Ik.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),MT.apply(this,arguments)}function LT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function jT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function FT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var VT=function(){function e(t,n,r,i){kr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return _r(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Tb(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(bb("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),UT=function(){function e(t,n,r){kr(this,e),this.targetId=t,this.state=n,this.error=r}return _r(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Tb(i.error.code,i.error.message))),a?new e(t,i.state,r):(bb("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),BT=function(){function e(t,n){kr(this,e),this.clientId=t,this.activeTargetIds=n}return _r(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ax(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ck(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(bb("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),qT=function(){function e(t,n){kr(this,e),this.clientId=t,this.onlineState=n}return _r(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(bb("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),zT=function(){function e(){kr(this,e),this.activeTargetIds=ax()}return _r(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),HT=function(){function e(t,n,r,i,a){kr(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Cw(Fb),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=LT(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new zT),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return _r(e,[{key:"start",value:function(){var e=Hf(qf().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f,h=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Hr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(LT(this.persistenceKey,i)))&&(o=BT.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),l=Hr(this.cr);try{for(l.s();!(c=l.n()).done;)f=c.value,this.rr(f)}catch(d){l.e(d)}finally{l.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(FT(this.persistenceKey,e));if(n){var r=UT.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(FT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return gb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){gb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){gb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(gb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void bb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Hf(qf().mark((function e(){var r,i,a,o,s,u,l;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=bk.at;if(null!=e)try{var n=JSON.parse(e);xb("number"==typeof n),t=n}catch(e){bb("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==bk.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return l=t.Or(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new VT(this.currentUser,e,t,n),i=jT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=jT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=FT(this.persistenceKey,e),i=new UT(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return BT.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return VT.Zi(new pb(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return UT.Zi(r,t)}},{key:"yr",value:function(e){return qT.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Hf(qf().mark((function e(t){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:gb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=ax();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),WT=function(){function e(){kr(this,e),this.Lr=new zT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return _r(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new zT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),KT=function(){function e(){kr(this,e)}return _r(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),GT=function(){function e(){var t=this;kr(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return _r(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){gb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Hr(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){gb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Hr(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),QT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},YT=function(){function e(t){kr(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return _r(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),$T=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return _r(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new hb;o.setWithCredentials(!0),o.listenOnce(sb.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ob.NO_ERROR:var t=o.getResponseJson();gb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ob.TIMEOUT:gb("Connection",'RPC "'+e+'" timed out'),a(new Tb(Eb.DEADLINE_EXCEEDED,"Request time out"));break;case ob.HTTP_ERROR:var n=o.getStatus();if(gb("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Eb).indexOf(t)>=0?t:Eb.UNKNOWN}(s.status);a(new Tb(u,s.message))}else a(new Tb(Eb.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Tb(Eb.UNAVAILABLE,"Connection failed."));break;default:_b()}}finally{gb("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ib(),a=ab(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new cb({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");gb("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,f=new YT({Hr:function(e){c?gb("Connection","Not sending because WebChannel is closed:",e):(l||(gb("Connection","Opening WebChannel transport."),u.open(),l=!0),gb("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,fb.EventType.OPEN,(function(){c||gb("Connection","WebChannel transport opened.")})),h(u,fb.EventType.CLOSE,(function(){c||(c=!0,gb("Connection","WebChannel transport closed"),f.io())})),h(u,fb.EventType.ERROR,(function(e){c||(c=!0,kb("Connection","WebChannel transport errored:",e),f.io(new Tb(Eb.UNAVAILABLE,"The operation could not be completed")))})),h(u,fb.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];xb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){gb("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=V_[e];if(void 0!==t)return W_(t)}(a),s=i.message;void 0===o&&(o=Eb.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,f.io(new Tb(o,s)),u.close()}else gb("Connection","WebChannel received:",n),f.ro(n)}})),h(a,ub.STAT_EVENT,(function(e){e.stat===lb.PROXY?gb("Connection","Detected buffering proxy"):e.stat===lb.NOPROXY&&gb("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){kr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return _r(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);gb("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return gb("RestConnection","Received: ",e),e}),(function(t){throw kb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=QT[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function XT(){return"undefined"!=typeof window?window:null}function JT(){return"undefined"!=typeof document?document:null}function ZT(e){return new gx(e,!0)}var eC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;kr(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return _r(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&gb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),tC=function(){function e(t,n,r,i,a,o,s,u){kr(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new eC(t,n)}return _r(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Hf(qf().mark((function e(t,n){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Eb.RESOURCE_EXHAUSTED?(bb(n.toString()),bb("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Eb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Tb(Eb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(Hf(qf().mark((function t(){return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return gb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(gb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),nC=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i,a,o,s){var u;return kr(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return _r(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:_b()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(xb(void 0===t||"string"==typeof t),Ik.fromBase64String(t||"")):(xb(void 0===t||t instanceof Uint8Array),Ik.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Eb.UNKNOWN:W_(e.code);return new Tb(t,e.message||"")}(o);n=new cx(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=Tx(e,u.document.name),c=_x(u.document.updateTime),f=u.document.createTime?_x(u.document.createTime):qb.min(),h=new Rw({mapValue:{fields:u.document.fields}}),d=Lw.newFoundDocument(l,c,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new ux(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Tx(e,m.document),g=m.readTime?_x(m.readTime):qb.min(),b=Lw.newNoDocument(y,g),k=m.removedTargetIds||[];n=new ux([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=Tx(e,w.document),x=w.removedTargetIds||[];n=new ux([],x,_,null)}else{if(!("filter"in t))return _b();t.filter;var S=t.filter;S.targetId;var E=S.count||0,T=new z_(E),C=S.targetId;n=new lx(C,T)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return qb.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?qb.min():t.readTime?_x(t.readTime):qb.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Px(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Bw(r)?{documents:Lx(e,r)}:{query:jx(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=kx(e,t.resumeToken):t.snapshotVersion.compareTo(qb.min())>0&&(n.readTime=bx(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _b()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Px(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(tC),rC=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i,a,o,s){var u;return kr(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return _r(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Ml(Er(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(xb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(xb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?_x(e.updateTime):_x(t);return n.isEqual(qb.min())&&(n=_x(t)),new E_(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=_x(e.commitTime);return this.listener.Zo(n,t)}return xb(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Px(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Rx(t.yt,e)}))};this.Bo(n)}}]),n}(tC),iC=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i,a){var o;return kr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return _r(n,[{key:"su",value:function(){if(this.nu)throw new Tb(Eb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Eb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Tb(Eb.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Eb.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Tb(Eb.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return _r((function e(){kr(this,e)}))}());var aC=function(){function e(t,n){kr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return _r(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(bb(t),this.ou=!1):gb("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),oC=_r((function e(t,n,r,i,a){var o=this;kr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=yC(o),!e.t0){e.next=5;break}return gb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Hf(qf().mark((function e(t){var n;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Sb(t))._u.add(4),e.next=4,lC(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,sC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new aC(r,i)}));function sC(e){return uC.apply(this,arguments)}function uC(){return uC=Hf(qf().mark((function e(t){var n,r,i;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yC(t)){e.next=18;break}n=Hr(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),uC.apply(this,arguments)}function lC(e){return cC.apply(this,arguments)}function cC(){return cC=Hf(qf().mark((function e(t){var n,r,i;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Hr(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),cC.apply(this,arguments)}function fC(e,t){var n=Sb(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),mC(n)?vC(n):KC(n).ko()&&dC(n,t))}function hC(e,t){var n=Sb(e),r=KC(n);n.du.delete(t),r.ko()&&pC(n,t),0===n.du.size&&(r.ko()?r.Fo():yC(n)&&n.gu.set("Unknown"))}function dC(e,t){e.yu.Ot(t.targetId),KC(e).zo(t)}function pC(e,t){e.yu.Ot(t),KC(e).Ho(t)}function vC(e){e.yu=new hx({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),KC(e).start(),e.gu.uu()}function mC(e){return yC(e)&&!KC(e).No()&&e.du.size>0}function yC(e){return 0===Sb(e)._u.size}function gC(e){e.yu=void 0}function bC(e){return kC.apply(this,arguments)}function kC(){return kC=Hf(qf().mark((function e(t){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){dC(t,e)}));case 1:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function wC(e,t){return _C.apply(this,arguments)}function _C(){return _C=Hf(qf().mark((function e(t,n){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gC(t),mC(t)?(t.gu.hu(n),vC(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function xC(e,t,n){return SC.apply(this,arguments)}function SC(){return SC=Hf(qf().mark((function e(t,n,r){var i;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof cx&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Hf(qf().mark((function e(t,n){var r,i,a,o;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Hr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),gb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,EC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ux?t.yu.Kt(n):n instanceof lx?t.yu.Jt(n):t.yu.jt(n),r.isEqual(qb.min())){e.next=29;break}return e.prev=14,e.next=17,wT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Ik.EMPTY_BYTE_STRING,n.snapshotVersion)),pC(e,t);var r=new TS(n.target,t,1,n.sequenceNumber);dC(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),gb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,EC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),SC.apply(this,arguments)}function EC(e,t,n){return TC.apply(this,arguments)}function TC(){return TC=Hf(qf().mark((function e(t,n,r){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hk(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,lC(t);case 5:t.gu.set("Offline"),r||(r=function(){return wT(t.localStore)}),t.asyncQueue.enqueueRetryable(Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,sC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e,t){return t().catch((function(n){return EC(e,n,t)}))}function IC(e){return PC.apply(this,arguments)}function PC(){return PC=Hf(qf().mark((function e(t){var n,r,i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Sb(t),r=GC(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!NC(n)){e.next=19;break}return e.prev=3,e.next=6,ST(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,AC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,EC(n,e.t0);case 17:e.next=2;break;case 19:OC(n)&&DC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),PC.apply(this,arguments)}function NC(e){return yC(e)&&e.fu.length<10}function AC(e,t){e.fu.push(t);var n=GC(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function OC(e){return yC(e)&&!GC(e).No()&&e.fu.length>0}function DC(e){GC(e).start()}function RC(e){return MC.apply(this,arguments)}function MC(){return MC=Hf(qf().mark((function e(t){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:GC(t).eu();case 1:case"end":return e.stop()}}),e)}))),MC.apply(this,arguments)}function LC(e){return jC.apply(this,arguments)}function jC(){return jC=Hf(qf().mark((function e(t){var n,r,i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=GC(t),r=Hr(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),jC.apply(this,arguments)}function FC(e,t,n){return VC.apply(this,arguments)}function VC(){return VC=Hf(qf().mark((function e(t,n,r){var i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=SS.from(i,n,r),e.next=3,CC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,IC(t);case 5:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function UC(e,t){return BC.apply(this,arguments)}function BC(){return BC=Hf(qf().mark((function e(t,n){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&GC(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Hf(qf().mark((function e(t,n){var r,i;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H_(i=n.code)||i===Eb.ABORTED){e.next=7;break}return r=t.fu.shift(),GC(t).Mo(),e.next=5,CC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,IC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:OC(t)&&DC(t);case 5:case"end":return e.stop()}}),e)}))),BC.apply(this,arguments)}function qC(e,t){return zC.apply(this,arguments)}function zC(){return zC=Hf(qf().mark((function e(t,n){var r,i;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Sb(t)).asyncQueue.verifyOperationInProgress(),gb("RemoteStore","RemoteStore received new credentials"),i=yC(r),r._u.add(3),e.next=6,lC(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,sC(r);case 12:case"end":return e.stop()}}),e)}))),zC.apply(this,arguments)}function HC(e,t){return WC.apply(this,arguments)}function WC(){return WC=Hf(qf().mark((function e(t,n){var r;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sb(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,sC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,lC(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),WC.apply(this,arguments)}function KC(e){return e.pu||(e.pu=function(e,t,n){var r=Sb(e);return r.su(),new nC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:bC.bind(null,e),Zr:wC.bind(null,e),Wo:xC.bind(null,e)}),e.wu.push(function(){var t=Hf(qf().mark((function t(n){return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),mC(e)?vC(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:gC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function GC(e){return e.Iu||(e.Iu=function(e,t,n){var r=Sb(e);return r.su(),new rC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:RC.bind(null,e),Zr:UC.bind(null,e),tu:LC.bind(null,e),Zo:FC.bind(null,e)}),e.wu.push(function(){var t=Hf(qf().mark((function t(n){return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,IC(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(gb("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var QC=function(){function e(t,n,r,i,a){kr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Cb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return _r(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tb(Eb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function YC(e,t){if(bb("AsyncQueue","".concat(t,": ").concat(e)),hk(e))return new Tb(Eb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var $C=function(){function e(t){kr(this,e),this.comparator=t?function(e,n){return t(e,n)||Gb.comparator(e.key,n.key)}:function(e,t){return Gb.comparator(e.key,t.key)},this.keyedMap=$_(),this.sortedSet=new Cw(this.comparator)}return _r(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),XC=function(){function e(){kr(this,e),this.Tu=new Cw(Gb.comparator)}return _r(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):_b():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),JC=function(){function e(t,n,r,i,a,o,s,u,l){kr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return _r(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,$C.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),ZC=_r((function e(){kr(this,e),this.Au=void 0,this.listeners=[]})),eI=_r((function e(){kr(this,e),this.queries=new K_((function(e){return r_(e)}),n_),this.onlineState="Unknown",this.Ru=new Set}));function tI(e,t){return nI.apply(this,arguments)}function nI(){return nI=Hf(qf().mark((function e(t,n){var r,i,a,o,s;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ZC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=YC(e.t0,"Initialization of query '".concat(i_(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&sI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),nI.apply(this,arguments)}function rI(e,t){return iI.apply(this,arguments)}function iI(){return iI=Hf(qf().mark((function e(t,n){var r,i,a,o,s;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(e,t){var n,r=Sb(e),i=!1,a=Hr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=Hr(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Pu(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&sI(r)}function oI(e,t,n){var r=Sb(e),i=r.queries.get(t);if(i){var a,o=Hr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function sI(e){e.Ru.forEach((function(e){e.next()}))}var uI=function(){function e(t,n,r){kr(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return _r(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Hr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new JC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=JC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),lI=function(){function e(t,n){kr(this,e),this.ku=t,this.byteLength=n}return _r(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),cI=function(){function e(t){kr(this,e),this.yt=t}return _r(e,[{key:"Ji",value:function(e){return Tx(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Ox(this.yt,e.document,!1):Lw.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return _x(e)}}]),e}(),fI=function(){function e(t,n,r){kr(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hI(t)}return _r(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Hb.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new cI(this.yt),i=Hr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=Hr(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=(n.get(l)||rx()).add(s);n.set(l,c)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Hf(qf().mark((function e(){var t,n,r,i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OT(this.localStore,new cI(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Hr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,RT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function hI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var dI=_r((function e(t){kr(this,e),this.key=t})),pI=_r((function e(t){kr(this,e),this.key=t})),vI=function(){function e(t,n){kr(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=rx(),this.mutatedKeys=rx(),this.Gu=s_(t),this.Qu=new $C(this.Gu)}return _r(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new XC,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=a_(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||l&&n.Gu(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _b()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new JC(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new XC,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=rx(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new pI(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new dI(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=rx();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return JC.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),mI=_r((function e(t,n,r){kr(this,e),this.query=t,this.targetId=n,this.view=r})),yI=_r((function e(t){kr(this,e),this.key=t,this.nc=!1})),gI=function(){function e(t,n,r,i,a,o){kr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new K_((function(e){return r_(e)}),n_),this.rc=new Map,this.oc=new Set,this.uc=new Cw(Gb.comparator),this.cc=new Map,this.ac=new JE,this.hc={},this.lc=new Map,this.fc=IE.vn(),this.onlineState="Unknown",this.dc=void 0}return _r(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function bI(e,t){return kI.apply(this,arguments)}function kI(){return kI=Hf(qf().mark((function e(t,n){var r,i,a,o,s,u;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hP(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,ET(r.localStore,Zw(n));case 8:return s=e.sent,r.isPrimaryClient&&fC(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,wI(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function wI(e,t,n,r,i){return _I.apply(this,arguments)}function _I(){return _I=Hf(qf().mark((function e(t,n,r,i,a){var o,s,u,l,c,f;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Hf(qf().mark((function e(t,n,r,i){var a,o,s;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,IT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(qI(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,IT(t.localStore,n,!0);case 3:return o=e.sent,s=new vI(n,o.Hi),u=s.Wu(o.documents),l=sx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=s.applyChanges(u,t.isPrimaryClient,l),qI(t,r,c.Xu),f=new mI(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function xI(e,t){return SI.apply(this,arguments)}function SI(){return SI=Hf(qf().mark((function e(t,n){var r,i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Sb(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!n_(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,TT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),hC(r.remoteStore,i.targetId),UI(r,i.targetId)})).catch(ak);case 9:e.next=14;break;case 11:return UI(r,i.targetId),e.next=14,TT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),SI.apply(this,arguments)}function EI(e,t,n){return TI.apply(this,arguments)}function TI(){return TI=Hf(qf().mark((function e(t,n,r){var i,a,o;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dP(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Sb(e),a=Bb.now(),o=t.reduce((function(e,t){return e.add(t.key)}),rx());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Q_(),u=rx();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Hr(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=O_(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new M_(l.key,c,Mw(c.value.mapValue),T_.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:X_(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Cw(Fb)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,WI(i,a.changes);case 9:return e.next=11,IC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=YC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),TI.apply(this,arguments)}function CI(e,t){return II.apply(this,arguments)}function II(){return II=Hf(qf().mark((function e(t,n){var r,i;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sb(t),e.prev=1,e.next=4,_T(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(xb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?xb(n.nc):e.removedDocuments.size>0&&(xb(n.nc),n.nc=!1))})),e.next=8,WI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ak(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),II.apply(this,arguments)}function PI(e,t,n){var r=Sb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Sb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Hr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&sI(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function NI(e,t,n){return AI.apply(this,arguments)}function AI(){return AI=Hf(qf().mark((function e(t,n,r){var i,a,o,s,u,l;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Sb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Cw(Gb.comparator)).insert(o,Lw.newNoDocument(o,qb.min())),u=rx().add(o),l=new ox(qb.min(),new Map,new Nw(Fb),s,u),e.next=9,CI(i,l);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),HI(i),e.next=16;break;case 14:return e.next=16,TT(i.localStore,n,!1).then((function(){return UI(i,n,r)})).catch(ak);case 16:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function OI(e,t){return DI.apply(this,arguments)}function DI(){return DI=Hf(qf().mark((function e(t,n){var r,i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sb(t),i=n.batch.batchId,e.prev=1,e.next=4,kT(r.localStore,n);case 4:return a=e.sent,VI(r,i,null),FI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,WI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ak(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),DI.apply(this,arguments)}function RI(e,t,n){return MI.apply(this,arguments)}function MI(){return MI=Hf(qf().mark((function e(t,n,r){var i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sb(t),e.prev=1,e.next=4,function(e,t){var n=Sb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return xb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,VI(i,n,r),FI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,WI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ak(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),MI.apply(this,arguments)}function LI(e,t){return jI.apply(this,arguments)}function jI(){return jI=Hf(qf().mark((function e(t,n){var r,i,a,o;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yC((r=Sb(t)).remoteStore)||gb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Sb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=YC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),jI.apply(this,arguments)}function FI(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function VI(e,t,n){var r=Sb(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function UI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Hr(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||BI(e,t)}))}function BI(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(hC(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),HI(e))}function qI(e,t,n){var r,i=Hr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof dI?(e.ac.addReference(a.key,t),zI(e,a)):a instanceof pI?(gb("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||BI(e,a.key)):_b()}}catch(o){i.e(o)}finally{i.f()}}function zI(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(gb("SyncEngine","New document in limbo: "+n),e.oc.add(r),HI(e))}function HI(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Gb(Hb.fromString(t)),r=e.fc.next();e.cc.set(r,new yI(n)),e.uc=e.uc.insert(n,r),fC(e.remoteStore,new TS(Zw(Gw(n.path)),r,2,bk.at))}}function WI(e,t,n){return KI.apply(this,arguments)}function KI(){return KI=Hf(qf().mark((function e(t,n,r){var i,a,o,s;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Sb(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=pT.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=Hf(qf().mark((function e(t,n){var r,i,a,o,s,u,l,c;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return sk.forEach(n,(function(t){return sk.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return sk.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),hk(e.t0)){e.next=10;break}throw e.t0;case 10:gb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Hr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.qi=r.qi.insert(s,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}function GI(e,t){return QI.apply(this,arguments)}function QI(){return QI=Hf(qf().mark((function e(t,n){var r,i;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Sb(t)).currentUser.isEqual(n)){e.next=11;break}return gb("SyncEngine","User change. New user:",n.toKey()),e.next=5,gT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Tb(Eb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,WI(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function YI(e,t){var n=Sb(e),r=n.cc.get(t);if(r&&r.nc)return rx().add(r.key);var i=rx(),a=n.rc.get(t);if(!a)return i;var o,s=Hr(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.ic.get(u);i=i.unionWith(l.view.ju)}}catch(c){s.e(c)}finally{s.f()}return i}function $I(e,t){return XI.apply(this,arguments)}function XI(){return XI=Hf(qf().mark((function e(t,n){var r,i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sb(t),e.next=3,IT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&qI(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function JI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=Hf(qf().mark((function e(t,n){var r;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sb(t),e.abrupt("return",NT(r.localStore,n).then((function(e){return WI(r,e)})));case 2:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function eP(e,t,n,r){return tP.apply(this,arguments)}function tP(){return tP=Hf(qf().mark((function e(t,n,r,i){var a,o;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sb(t),e.next=3,function(e,t){var n=Sb(e),r=Sb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):sk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,IC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(VI(a,n,i||null),FI(a,n),function(e,t){Sb(Sb(e).mutationQueue).An(t)}(a.localStore,n)):_b();case 11:return e.next=13,WI(a,o);case 13:e.next=16;break;case 15:gb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),tP.apply(this,arguments)}function nP(e,t){return rP.apply(this,arguments)}function rP(){return rP=Hf(qf().mark((function e(t,n){var r,i,a,o,s,u,l,c;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hP(r=Sb(t)),dP(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,iP(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,HC(r.remoteStore,!0);case 9:o=Hr(a);try{for(o.s();!(s=o.n()).done;)u=s.value,fC(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return l=[],c=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):c=c.then((function(){return UI(r,t),TT(r.localStore,t,!0)})),hC(r.remoteStore,t)})),e.next=19,c;case 19:return e.next=21,iP(r,l);case 21:return function(e){var t=Sb(e);t.cc.forEach((function(e,n){hC(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Cw(Gb.comparator)}(r),r.dc=!1,e.next=25,HC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),rP.apply(this,arguments)}function iP(e,t,n){return aP.apply(this,arguments)}function aP(){return aP=Hf(qf().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,h,d,p,v,m,y;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Sb(t),a=[],o=[],s=Hr(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(l=u.value,c=void 0,!(f=i.rc.get(l))||0===f.length){e.next=34;break}return e.next=11,ET(i.localStore,Zw(f[0]));case 11:c=e.sent,h=Hr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,$I(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,PT(i.localStore,l);case 36:return y=e.sent,e.next=39,ET(i.localStore,y);case 39:return c=e.sent,e.next=42,wI(i,oP(y),l,!1,c.resumeToken);case 42:a.push(c);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),aP.apply(this,arguments)}function oP(e){return Kw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function sP(e){var t=Sb(e);return Sb(Sb(t.localStore).persistence).vi()}function uP(e,t,n,r){return lP.apply(this,arguments)}function lP(){return lP=Hf(qf().mark((function e(t,n,r,i){var a,o,s,u;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Sb(t)).dc){e.next=3;break}return e.abrupt("return",void gb("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,NT(a.localStore,o_(o[0]));case 10:return s=e.sent,u=ox.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ik.EMPTY_BYTE_STRING),e.next=14,WI(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,TT(a.localStore,n,!0);case 17:return UI(a,n,i),e.abrupt("break",20);case 19:_b();case 20:case"end":return e.stop()}}),e)}))),lP.apply(this,arguments)}function cP(e,t,n){return fP.apply(this,arguments)}function fP(){return fP=Hf(qf().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,h;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=hP(t)).dc){e.next=45;break}a=Hr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.rc.has(s)){e.next=10;break}return gb("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,PT(i.localStore,s);case 12:return u=e.sent,e.next=15,ET(i.localStore,u);case 15:return l=e.sent,e.next=18,wI(i,oP(u),l.targetId,!1,l.resumeToken);case 18:fC(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:c=Hr(r),e.prev=30,h=qf().mark((function e(){var t;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,TT(i.localStore,t,!1).then((function(){hC(i.remoteStore,t),UI(i,t)})).catch(ak);case 5:case"end":return e.stop()}}),e)})),c.s();case 33:if((f=c.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),c.e(e.t2);case 42:return e.prev=42,c.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),fP.apply(this,arguments)}function hP(e){var t=Sb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=CI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NI.bind(null,t),t.sc.Wo=aI.bind(null,t.eventManager),t.sc.wc=oI.bind(null,t.eventManager),t}function dP(e){var t=Sb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RI.bind(null,t),t}function pP(e,t,n){var r=Sb(e);(function(){var e=Hf(qf().mark((function e(t,n,r){var i,a,o,s,u;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Sb(e),r=_x(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(hI(i)),a=new fI(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,WI(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Sb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(kb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var vP=function(){function e(){kr(this,e),this.synchronizeTabs=!1}return _r(e,[{key:"initialize",value:function(){var e=Hf(qf().mark((function e(t){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=ZT(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return yT(this.persistence,new vT,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new iT(oT.Bs,this.yt)}},{key:"gc",value:function(e){return new WT}},{key:"terminate",value:function(){var e=Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),mP=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i){var a;return kr(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return _r(n,[{key:"initialize",value:function(){var e=Hf(qf().mark((function e(t){var r=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ml(Er(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,dP(this.Ac.syncEngine);case 6:return e.next=8,IC(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return yT(this.persistence,new vT,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new ME(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new gk(t,this.persistence);return new yk(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=dT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?kE.withCacheSize(this.cacheSizeBytes):kE.DEFAULT;return new cT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,XT(),JT(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new WT}}]),n}(vP),yP=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return _r(n,[{key:"initialize",value:function(){var e=Hf(qf().mark((function e(t){var r,i=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ml(Er(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof HT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:eP.bind(null,r),$r:uP.bind(null,r),Br:cP.bind(null,r),vi:sP.bind(null,r),Mr:JI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Hf(qf().mark((function e(t){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nP(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=XT();if(!HT.C(t))throw new Tb(Eb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new HT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(mP),gP=function(){function e(){kr(this,e)}return _r(e,[{key:"initialize",value:function(){var e=Hf(qf().mark((function e(t,n){var r=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return PI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=GI.bind(null,this.syncEngine),e.next=12,HC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new eI}},{key:"createDatastore",value:function(e){var t,n=ZT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new $T(t));return function(e,t,n,r){return new iC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return PI(o.syncEngine,e,0)},a=GT.C()?new GT:new KT,new oC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new gI(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Hf(qf().mark((function e(t){var n;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sb(t),gb("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,lC(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function bP(e,t,n){if(!n)throw new Tb(Eb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function kP(e,t,n,r){if(!0===t&&!0===r)throw new Tb(Eb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function wP(e){if(!Gb.isDocumentKey(e))throw new Tb(Eb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _P(e){if(Gb.isDocumentKey(e))throw new Tb(Eb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function xP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":_b()}function SP(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tb(Eb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xP(e);throw new Tb(Eb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function EP(e,t){if(t<=0)throw new Tb(Eb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var TP=new Map,CP=function(){function e(t){var n;if(kr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Tb(Eb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Tb(Eb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,kP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return _r(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),IP=function(){function e(t,n,r,i){kr(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CP({}),this._settingsFrozen=!1}return _r(e,[{key:"app",get:function(){if(!this._app)throw new Tb(Eb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Tb(Eb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Pb;switch(e.type){case"gapi":var t=e.client;return new Db(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Tb(Eb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=TP.get(e);t&&(gb("ComponentProvider","Removing Datastore"),TP.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function PP(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=SP(e,IP))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&kb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=pb.MOCK_USER;else{o=hf(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Tb(Eb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new pb(u)}e._authCredentials=new Nb(new Ib(o,s))}}var NP=function(){function e(t,n,r){kr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return _r(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new OP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),AP=function(){function e(t,n,r){kr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return _r(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),OP=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i){var a;return kr(this,n),(a=t.call(this,e,r,Gw(i)))._path=i,a.type="collection",a}return _r(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new NP(this.firestore,null,new Gb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(AP);function DP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Bf(e),bP("collection","path",t),e instanceof IP){var a=Hb.fromString.apply(Hb,[t].concat(r));return _P(a),new OP(e,null,a)}if(!(e instanceof NP||e instanceof OP))throw new Tb(Eb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hb.fromString.apply(Hb,[t].concat(r)));return _P(o),new OP(e.firestore,null,o)}function RP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Bf(e),1===arguments.length&&(t=jb.R()),bP("doc","path",t),e instanceof IP){var a=Hb.fromString.apply(Hb,[t].concat(r));return wP(a),new NP(e,null,new Gb(a))}if(!(e instanceof NP||e instanceof OP))throw new Tb(Eb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hb.fromString.apply(Hb,[t].concat(r)));return wP(o),new NP(e.firestore,e instanceof OP?e.converter:null,new Gb(o))}function MP(e,t){return e=Bf(e),t=Bf(t),(e instanceof NP||e instanceof OP)&&(t instanceof NP||t instanceof OP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function LP(e,t){return e=Bf(e),t=Bf(t),e instanceof AP&&t instanceof AP&&e.firestore===t.firestore&&n_(e._query,t._query)&&e.converter===t.converter}function jP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Hf(qf().mark((function r(){var i;return qf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var FP=function(){function e(t){kr(this,e),this.observer=t,this.muted=!1}return _r(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):bb("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),VP=function(){function e(t,n){var r=this;kr(this,e),this.Pc=t,this.yt=n,this.metadata=new Cb,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return _r(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Hf(qf().mark((function e(){var t,n,r,i;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new lI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Hf(qf().mark((function e(){var t,n;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Hf(qf().mark((function e(t){var n;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Hf(qf().mark((function e(){var t,n;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),UP=function(){function e(t){kr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return _r(e,[{key:"lookup",value:function(){var e=Hf(qf().mark((function e(t){var n,r=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Tb(Eb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Hf(qf().mark((function e(t,n){var r,i,a,o,s,u;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sb(t),i=Px(r.yt)+"/documents",a={documents:n.map((function(e){return Ex(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Dx(r.yt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());xb(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new B_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Hf(qf().mark((function e(){var t,n=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Gb.fromPath(t);n.mutations.push(new q_(r,n.precondition(r)))})),e.next=7,function(){var e=Hf(qf().mark((function e(t,n){var r,i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sb(t),i=Px(r.yt)+"/documents",a={writes:n.map((function(e){return Rx(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _b();t=qb.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Tb(Eb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(qb.min())?T_.exists(!1):T_.updateTime(t):T_.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(qb.min()))throw new Tb(Eb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return T_.updateTime(t)}return T_.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),BP=function(){function e(t,n,r,i,a){kr(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new eC(this.asyncQueue,"transaction_retry")}return _r(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(Hf(qf().mark((function t(){var n,r;return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new UP(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Ek(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!H_(t)}return!1}}]),e}(),qP=function(){function e(t,n,r,i){var a=this;kr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pb.UNAUTHENTICATED,this.clientId=jb.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Hf(qf().mark((function e(t){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gb("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return gb("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return _r(e,[{key:"getConfiguration",value:function(){var e=Hf(qf().mark((function e(){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Tb(Eb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Cb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Hf(qf().mark((function n(){var r;return qf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=YC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function zP(e,t){return HP.apply(this,arguments)}function HP(){return HP=Hf(qf().mark((function e(t,n){var r,i;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),gb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Hf(qf().mark((function e(t){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,gT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),HP.apply(this,arguments)}function WP(e,t){return KP.apply(this,arguments)}function KP(){return KP=Hf(qf().mark((function e(t,n){var r,i;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,GP(t);case 3:return r=e.sent,gb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return qC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return qC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),KP.apply(this,arguments)}function GP(e){return QP.apply(this,arguments)}function QP(){return QP=Hf(qf().mark((function e(t){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return gb("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,zP(t,new vP);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),QP.apply(this,arguments)}function YP(e){return $P.apply(this,arguments)}function $P(){return $P=Hf(qf().mark((function e(t){return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return gb("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,WP(t,new gP);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),$P.apply(this,arguments)}function XP(e){return GP(e).then((function(e){return e.persistence}))}function JP(e){return GP(e).then((function(e){return e.localStore}))}function ZP(e){return YP(e).then((function(e){return e.remoteStore}))}function eN(e){return YP(e).then((function(e){return e.syncEngine}))}function tN(e){return YP(e).then((function(e){return e.datastore}))}function nN(e){return rN.apply(this,arguments)}function rN(){return rN=Hf(qf().mark((function e(t){var n,r;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YP(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=bI.bind(null,n.syncEngine),r.onUnlisten=xI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),rN.apply(this,arguments)}function iN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Cb;return e.asyncQueue.enqueueAndForget(Hf(qf().mark((function i(){return qf().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FP({next:function(a){t.enqueueAndForget((function(){return rI(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Tb(Eb.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Tb(Eb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new uI(Gw(n.path),a,{includeMetadataChanges:!0,Nu:!0});return tI(e,o)},i.next=3,nN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function aN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Cb;return e.asyncQueue.enqueueAndForget(Hf(qf().mark((function i(){return qf().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FP({next:function(n){t.enqueueAndForget((function(){return rI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Tb(Eb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new uI(n,a,{includeMetadataChanges:!0,Nu:!0});return tI(e,o)},i.next=3,nN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var oN=function(){function e(){var t=this;kr(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new eC(this,"async_queue_retry"),this.Wc=function(){var e=JT();e&&gb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=JT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return _r(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=JT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new Cb;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Hf(qf().mark((function e(){var t=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),hk(e.t0)){e.next=12;break}throw e.t0;case 12:gb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw bb("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=QC.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&_b()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Hf(qf().mark((function e(){var t;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Hr(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Hr(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function sN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Hr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var uN=function(){function e(){kr(this,e),this._progressObserver={},this._taskCompletionResolver=new Cb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return _r(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),lN=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i,a){var o;return kr(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new oN,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return _r(n,[{key:"_terminate",value:function(){return this._firestoreClient||fN(this),this._firestoreClient.terminate()}}]),n}(IP);function cN(e){return e._firestoreClient||fN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new kk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new qP(e._authCredentials,e._appCheckCredentials,e._queue,r)}function hN(e,t,n){var r=new Cb;return e.asyncQueue.enqueue(Hf(qf().mark((function i(){var a;return qf().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,zP(e,n);case 3:return i.next=5,WP(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Eb.FAILED_PRECONDITION||e.code===Eb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:kb("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function dN(e){return function(e){return e.asyncQueue.enqueue(Hf(qf().mark((function t(){var n,r;return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XP(e);case 2:return n=t.sent,t.next=5,ZP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Sb(e);return t._u.delete(0),sC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(cN(e=SP(e,lN)))}function pN(e){return function(e){return e.asyncQueue.enqueue(Hf(qf().mark((function t(){var n,r;return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XP(e);case 2:return n=t.sent,t.next=5,ZP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Hf(qf().mark((function e(t){var n;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Sb(t))._u.add(0),e.next=4,lC(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(cN(e=SP(e,lN)))}function vN(e,t){var n=cN(e=SP(e,lN)),r=new uN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new VP(e,t)}(function(e,t){if(e instanceof Uint8Array)return jP(e,t);if(e instanceof ArrayBuffer)return jP(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ZT(t));e.asyncQueue.enqueueAndForget(Hf(qf().mark((function t(){return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pP,t.next=3,eN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function mN(e,t){return function(e,t){return e.asyncQueue.enqueue(Hf(qf().mark((function n(){return qf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Sb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,JP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(cN(e=SP(e,lN)),t).then((function(t){return t?new AP(e,null,t.query):null}))}function yN(e){if(e._initialized||e._terminated)throw new Tb(Eb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gN=function(){function e(t){kr(this,e),this._byteString=t}return _r(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ik.fromBase64String(t))}catch(t){throw new Tb(Eb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ik.fromUint8Array(t))}}]),e}(),bN=function(){function e(){kr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kb(n)}return _r(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var kN=_r((function e(t){kr(this,e),this._methodName=t})),wN=function(){function e(t,n){if(kr(this,e),!isFinite(t)||t<-90||t>90)throw new Tb(Eb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tb(Eb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return _r(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Fb(this._lat,e._lat)||Fb(this._long,e._long)}}]),e}(),_N=/^__.*__$/,xN=function(){function e(t,n,r){kr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return _r(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new M_(e,this.data,this.fieldMask,t,this.fieldTransforms):new R_(e,this.data,t,this.fieldTransforms)}}]),e}(),SN=function(){function e(t,n,r){kr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return _r(e,[{key:"toMutation",value:function(e,t){return new M_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function EN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _b()}}var TN=function(){function e(t,n,r,i,a,o){kr(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return _r(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return KN(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(EN(this.sa)&&_N.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),CN=function(){function e(t,n,r){kr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||ZT(t)}return _r(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new TN({sa:e,methodName:t,fa:n,path:Kb.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function IN(e){var t=e._freezeSettings(),n=ZT(e._databaseId);return new CN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function PN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);qN("Data must be an object, but it was:",o,r);var s,u,l=UN(r,o);if(a.merge)s=new Dw(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=Hr(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=zN(t,d,n);if(!o.contains(p))throw new Tb(Eb.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));GN(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Dw(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new xN(new Rw(l),s,u)}var NN=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(kN);function AN(e,t,n){return new TN({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var ON=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"_toFieldTransform",value:function(e){return new S_(e.path,new m_)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(kN),DN=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,e))._a=r,i}return _r(n,[{key:"_toFieldTransform",value:function(e){var t=AN(this,e,!0),n=this._a.map((function(e){return VN(e,t)})),r=new y_(n);return new S_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kN),RN=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,e))._a=r,i}return _r(n,[{key:"_toFieldTransform",value:function(e){var t=AN(this,e,!0),n=this._a.map((function(e){return VN(e,t)})),r=new b_(n);return new S_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kN),MN=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,e)).wa=r,i}return _r(n,[{key:"_toFieldTransform",value:function(e){var t=new w_(e.yt,f_(e.yt,this.wa));return new S_(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kN);function LN(e,t,n,r){var i=e.da(1,t,n);qN("Data must be an object, but it was:",i,r);var a=[],o=Rw.empty();xk(r,(function(e,r){var s=WN(t,e,n);r=Bf(r);var u=i.ca(s);if(r instanceof NN)a.push(s);else{var l=VN(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new Dw(a);return new SN(o,s,i.fieldTransforms)}function jN(e,t,n,r,i,a){var o=e.da(1,t,n),s=[zN(t,r,n)],u=[i];if(a.length%2!=0)throw new Tb(Eb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(zN(t,a[l])),u.push(a[l+1]);for(var c=[],f=Rw.empty(),h=s.length-1;h>=0;--h)if(!GN(c,s[h])){var d=s[h],p=u[h];p=Bf(p);var v=o.ca(d);if(p instanceof NN)c.push(d);else{var m=VN(p,v);null!=m&&(c.push(d),f.set(d,m))}}var y=new Dw(c);return new SN(f,y,o.fieldTransforms)}function FN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return VN(n,e.da(r?4:3,t))}function VN(e,t){if(BN(e=Bf(e)))return qN("Unsupported field value:",t,e),UN(e,t);if(e instanceof kN)return function(e,t){if(!EN(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Hr(e);try{for(a.s();!(n=a.n()).done;){var o=VN(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Bf(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return f_(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Bb.fromDate(e);return{timestampValue:bx(t.yt,n)}}if(e instanceof Bb){var r=new Bb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bx(t.yt,r)}}if(e instanceof wN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gN)return{bytesValue:kx(t.yt,e._byteString)};if(e instanceof NP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:xx(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(xP(e)))}(e,t)}function UN(e,t){var n={};return Sk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xk(e,(function(e,r){var i=VN(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function BN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bb||e instanceof wN||e instanceof gN||e instanceof NP||e instanceof kN)}function qN(e,t,n){if(!BN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=xP(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function zN(e,t,n){if((t=Bf(t))instanceof bN)return t._internalPath;if("string"==typeof t)return WN(e,t);throw KN("Field path arguments must be of type string or ",e,!1,void 0,n)}var HN=new RegExp("[~\\*/\\[\\]]");function WN(e,t,n){if(t.search(HN)>=0)throw KN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Gc(bN,Ca(t.split(".")))._internalPath}catch(r){throw KN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function KN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Tb(Eb.INVALID_ARGUMENT,s+e+u)}function GN(e,t){return e.some((function(e){return e.isEqual(t)}))}var QN=function(){function e(t,n,r,i,a){kr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return _r(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new NP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new YN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field($N("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),YN=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"data",value:function(){return Ml(Er(n.prototype),"data",this).call(this)}}]),n}(QN);function $N(e,t){return"string"==typeof t?WN(e,t):t instanceof bN?t._internalPath:t._delegate._internalPath}function XN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Tb(Eb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var JN=_r((function e(){kr(this,e)})),ZN=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n)}(JN);function eA(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof JN&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof nA})).length,n=e.filter((function(e){return e instanceof tA})).length;if(t>1||t>0&&n>0)throw new Tb(Eb.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=Hr(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(l){s.e(l)}finally{s.f()}return e}var tA=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i){var a;return kr(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return _r(n,[{key:"_apply",value:function(e){var t=this._parse(e);return pA(e._query,t),new AP(e.firestore,e.converter,e_(e._query,t))}},{key:"_parse",value:function(e){var t=IN(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){dA(o,a);var u,l=[],c=Hr(o);try{for(c.s();!(u=c.n()).done;){var f=u.value;l.push(hA(r,e,f))}}catch(h){c.e(h)}finally{c.f()}s={arrayValue:{values:l}}}else s=hA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||dA(o,a),s=FN(n,"where",o,"in"===a||"not-in"===a);return sw.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZN);var nA=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return _r(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:uw.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Hr(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;pA(r,a),r=e_(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new AP(e.firestore,e.converter,e_(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(JN);var rA=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return _r(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ew(t,n);return function(e,t){if(null===Yw(e)){var n=$w(e);null!==n&&vA(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new AP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ww(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ZN);var iA=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i){var a;return kr(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return _r(n,[{key:"_apply",value:function(e){return new AP(e.firestore,e.converter,t_(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZN);var aA=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i){var a;return kr(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return _r(n,[{key:"_apply",value:function(e){var t=fA(e,this.type,this._docOrFields,this._inclusive);return new AP(e.firestore,e.converter,function(e,t){return new Ww(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZN);function oA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aA._create("startAt",t,!0)}function sA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aA._create("startAfter",t,!1)}var uA=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i){var a;return kr(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return _r(n,[{key:"_apply",value:function(e){var t=fA(e,this.type,this._docOrFields,this._inclusive);return new AP(e.firestore,e.converter,function(e,t){return new Ww(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ZN);function lA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uA._create("endBefore",t,!1)}function cA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uA._create("endAt",t,!0)}function fA(e,t,n,r){if(n[0]=Bf(n[0]),n[0]instanceof QN)return function(e,t,n,r,i){if(!r)throw new Tb(Eb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Hr(Jw(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Wk(t,r.key));else{var l=r.data.field(u.field);if(Dk(l))throw new Tb(Eb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.canonicalString();throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(c,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(f){s.e(f)}finally{s.f()}return new rw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=IN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Tb(Eb.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var l=i[u];if(o[u].field.isKeyField()){if("string"!=typeof l)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof l));if(!Xw(e)&&-1!==l.indexOf("/"))throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var c=e.path.child(Hb.fromString(l));if(!Gb.isDocumentKey(c))throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(c,"' is not because it contains an odd number of segments."));var f=new Gb(c);s.push(Wk(t,f))}else{var h=FN(n,r,l);s.push(h)}}return new rw(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function hA(e,t,n){if("string"==typeof(n=Bf(n))){if(""===n)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xw(t)&&-1!==n.indexOf("/"))throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Hb.fromString(n));if(!Gb.isDocumentKey(r))throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Wk(e,new Gb(r))}if(n instanceof NP)return Wk(e,n._key);throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(xP(n),"."))}function dA(e,t){if(!Array.isArray(e)||0===e.length)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function pA(e,t){if(t.isInequality()){var n=$w(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Yw(e);null!==i&&vA(e,r,i)}var a=function(e,t){var n,r=Hr(e);try{for(r.s();!(n=r.n()).done;){var i,a=Hr(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Tb(Eb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Tb(Eb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function vA(e,t,n){if(!n.isEqual(t))throw new Tb(Eb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var mA=function(){function e(){kr(this,e)}return _r(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ak(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ok(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _b()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return xk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new wN(Ak(e.latitude),Ak(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Rk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Mk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Nk(e);return new Bb(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Hb.fromString(e);xb(Gx(n));var r=new wk(n.get(1),n.get(3)),i=new Gb(n.popFirst(5));return r.isEqual(t)||bb("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function yA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gA=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this)).firestore=e,r}return _r(n,[{key:"convertBytes",value:function(e){return new gN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new NP(this.firestore,null,t)}}]),n}(mA),bA=function(){function e(t,n){kr(this,e),this.hasPendingWrites=t,this.fromCache=n}return _r(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),kA=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i,a,o,s){var u;return kr(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return _r(n,[{key:"exists",value:function(){return Ml(Er(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new wA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field($N("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(QN),wA=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ml(Er(n.prototype),"data",this).call(this,e)}}]),n}(kA),_A=function(){function e(t,n,r,i){kr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new bA(i.hasPendingWrites,i.fromCache),this.query=r}return _r(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new wA(n._firestore,n._userDataWriter,r.key,r,new bA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Tb(Eb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new wA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new wA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new bA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:xA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function xA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _b()}}function SA(e,t){return e instanceof kA&&t instanceof kA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _A&&t instanceof _A&&e._firestore===t._firestore&&LP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var EA=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this)).firestore=e,r}return _r(n,[{key:"convertBytes",value:function(e){return new gN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new NP(this.firestore,null,t)}}]),n}(mA);function TA(e){e=SP(e,NP);var t=SP(e.firestore,lN),n=cN(t),r=new EA(t);return function(e,t){var n=new Cb;return e.asyncQueue.enqueueAndForget(Hf(qf().mark((function r(){return qf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Hf(qf().mark((function e(t,n,r){var i,a;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Sb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Tb(Eb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=YC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,JP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new kA(t,r,e._key,n,new bA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function CA(e){e=SP(e,AP);var t=SP(e.firestore,lN),n=cN(t),r=new EA(t);return function(e,t){var n=new Cb;return e.asyncQueue.enqueueAndForget(Hf(qf().mark((function r(){return qf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Hf(qf().mark((function e(t,n,r){var i,a,o,s,u;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,IT(t,n,!0);case 3:i=e.sent,a=new vI(n,i.Hi),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=YC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,JP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new _A(t,r,e,n)}))}function IA(e,t,n){e=SP(e,NP);var r=SP(e.firestore,lN),i=yA(e.converter,t,n);return DA(r,[PN(IN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,T_.none())])}function PA(e,t,n){e=SP(e,NP);for(var r=SP(e.firestore,lN),i=IN(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return DA(r,[("string"==typeof(t=Bf(t))||t instanceof bN?jN(i,"updateDoc",e._key,t,n,o):LN(i,"updateDoc",e._key,t)).toMutation(e._key,T_.exists(!0))])}function NA(e){return DA(SP(e.firestore,lN),[new B_(e._key,T_.none())])}function AA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Bf(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||sN(n[u])||(s=n[u],u++);var l,c,f,h={includeMetadataChanges:s.includeMetadataChanges};if(sN(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof NP)c=SP(e.firestore,lN),f=Gw(e._key.path),l={next:function(t){n[u]&&n[u](RA(c,e,t))},error:n[u+1],complete:n[u+2]};else{var p=SP(e,AP);c=SP(p.firestore,lN),f=p._query;var v=new EA(c);l={next:function(e){n[u]&&n[u](new _A(c,v,p,e))},error:n[u+1],complete:n[u+2]},XN(e._query)}return function(e,t,n,r){var i=new FP(r),a=new uI(t,i,n);return e.asyncQueue.enqueueAndForget(Hf(qf().mark((function t(){return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tI,t.next=3,nN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Hf(qf().mark((function t(){return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rI,t.next=3,nN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(cN(c),f,h,l)}function OA(e,t){return function(e,t){var n=new FP(t);return e.asyncQueue.enqueueAndForget(Hf(qf().mark((function t(){return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Sb(e).Ru.add(t),t.next()},t.next=3,nN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Hf(qf().mark((function t(){return qf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Sb(e).Ru.delete(t)},t.next=3,nN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(cN(e=SP(e,lN)),sN(t)?t:{next:t})}function DA(e,t){return function(e,t){var n=new Cb;return e.asyncQueue.enqueueAndForget(Hf(qf().mark((function r(){return qf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=EI,r.next=3,eN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(cN(e),t)}function RA(e,t,n){var r=n.docs.get(t._key),i=new EA(e);return new kA(e,i,t._key,r,new bA(n.hasPendingWrites,n.fromCache),t.converter)}var MA={maxAttempts:5},LA=function(){function e(t,n){kr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=IN(t)}return _r(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=jA(e,this._firestore),i=yA(r.converter,t,n),a=PN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,T_.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=jA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Bf(t))||t instanceof bN?jN(this._dataReader,"WriteBatch.update",i._key,t,n,o):LN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,T_.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=jA(e,this._firestore);return this._mutations=this._mutations.concat(new B_(t._key,T_.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Tb(Eb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function jA(e,t){if((e=Bf(e)).firestore!==t)throw new Tb(Eb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var FA=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,e,r))._firestore=e,i}return _r(n,[{key:"get",value:function(e){var t=this,r=jA(e,this._firestore),i=new EA(this._firestore);return Ml(Er(n.prototype),"get",this).call(this,e).then((function(e){return new kA(t._firestore,i,r._key,e._document,new bA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){kr(this,e),this._firestore=t,this._transaction=n,this._dataReader=IN(t)}return _r(e,[{key:"get",value:function(e){var t=this,n=jA(e,this._firestore),r=new gA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return _b();var i=e[0];if(i.isFoundDocument())return new QN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new QN(t._firestore,r,n._key,null,n.converter);throw _b()}))}},{key:"set",value:function(e,t,n){var r=jA(e,this._firestore),i=yA(r.converter,t,n),a=PN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=jA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Bf(t))||t instanceof bN?jN(this._dataReader,"Transaction.update",i._key,t,n,o):LN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=jA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function VA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DN("arrayUnion",t)}function UA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new RN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){vb=e}(Fh),Ah(new Wf("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new lN(new Ab(e.getProvider("auth-internal")),new Mb(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Tb(Eb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wk(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Hh(db,"3.8.3",e),Hh(db,"3.8.3","esm2017")}();function BA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Tb("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function qA(){if("undefined"===typeof Uint8Array)throw new Tb("unimplemented","Uint8Arrays are not available in this environment.")}function zA(){if("undefined"==typeof atob)throw new Tb("unimplemented","Blobs are unavailable in Firestore in this environment.")}var HA=function(){function e(t){kr(this,e),this._delegate=t}return _r(e,[{key:"toBase64",value:function(){return zA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return qA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return zA(),new e(gN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return qA(),new e(gN.fromUint8Array(t))}}]),e}();function WA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Hr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var KA=function(){function e(){kr(this,e)}return _r(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){yN(e=SP(e,lN));var n=cN(e),r=e._freezeSettings(),i=new gP;return hN(n,i,new mP(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){yN(e=SP(e,lN));var t=cN(e),n=e._freezeSettings(),r=new gP;return hN(t,r,new yP(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Tb(Eb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Cb;return e._queue.enqueueAndForgetEvenWhileRestricted(Hf(qf().mark((function n(){return qf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Hf(qf().mark((function e(t){var n;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lk.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,lk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(dT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),GA=function(){function e(t,n,r){var i=this;kr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof wk||(this._appCompat=t)}return _r(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||kb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};PP(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return dN(this._delegate)}},{key:"disableNetwork",value:function(){return pN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&kP("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Cb;return e.asyncQueue.enqueueAndForget(Hf(qf().mark((function n(){return qf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=LI,n.next=3,eN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(cN(e=SP(e,lN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return OA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Tb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new sO(this,DP(this._delegate,e))}catch(lB){throw ZA(lB,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new JA(this,RP(this._delegate,e))}catch(lB){throw ZA(lB,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new iO(this,function(e,t){if(e=SP(e,IP),bP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Tb(Eb.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new AP(e,null,function(e){return new Ww(Hb.emptyPath(),e)}(t))}(this._delegate,e))}catch(lB){throw ZA(lB,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=SP(e,lN);var r=Object.assign(Object.assign({},MA),n);return function(e){if(e.maxAttempts<1)throw new Tb(Eb.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Cb;return e.asyncQueue.enqueueAndForget(Hf(qf().mark((function i(){var a;return qf().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tN(e);case 2:a=i.sent,new BP(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(cN(e),(function(n){return t(new FA(e,n))}),r)}(this._delegate,(function(n){return e(new YA(t,n))}))}},{key:"batch",value:function(){var e=this;return cN(this._delegate),new $A(new LA(this._delegate,(function(t){return DA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return vN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return mN(this._delegate,e).then((function(e){return e?new iO(t,e):null}))}}]),e}(),QA=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this)).firestore=e,r}return _r(n,[{key:"convertBytes",value:function(e){return new HA(new gN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return JA.forKey(t,this.firestore,null)}}]),n}(mA);var YA=function(){function e(t,n){kr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new QA(t)}return _r(e,[{key:"get",value:function(e){var t=this,n=uO(e);return this._delegate.get(n).then((function(e){return new nO(t._firestore,new kA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=uO(e);return n?(BA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=uO(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=uO(e);return this._delegate.delete(t),this}}]),e}(),$A=function(){function e(t){kr(this,e),this._delegate=t}return _r(e,[{key:"set",value:function(e,t,n){var r=uO(e);return n?(BA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=uO(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=uO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),XA=function(){function e(t,n,r){kr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return _r(e,[{key:"fromFirestore",value:function(e,t){var n=new wA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rO(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new QA(t),n),i.set(n,a)),a}}]),e}();XA.INSTANCES=new WeakMap;var JA=function(){function e(t,n){kr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new QA(t)}return _r(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new sO(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new sO(this.firestore,DP(this._delegate,e))}catch(lB){throw ZA(lB,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Bf(e))instanceof NP&&MP(this._delegate,e)}},{key:"set",value:function(e,t){t=BA("DocumentReference.set",t);try{return t?IA(this._delegate,e,t):IA(this._delegate,e)}catch(lB){throw ZA(lB,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?PA(this._delegate,e):PA.apply(void 0,[this._delegate,e,t].concat(r))}catch(lB){throw ZA(lB,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return NA(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=eO(n),a=tO(n,(function(t){return new nO(e.firestore,new kA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return AA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?TA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=SP(e,NP);var t=SP(e.firestore,lN);return iN(cN(t),e._key,{source:"server"}).then((function(n){return RA(t,e,n)}))}(this._delegate):function(e){e=SP(e,NP);var t=SP(e.firestore,lN);return iN(cN(t),e._key).then((function(n){return RA(t,e,n)}))}(this._delegate),t.then((function(e){return new nO(n.firestore,new kA(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(XA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Tb("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new NP(n._delegate,r,new Gb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new NP(n._delegate,r,t))}}]),e}();function ZA(e,t,n){return e.message=e.message.replace(t,n),e}function eO(e){var t,n=Hr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!WA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function tO(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=WA(e[0])?e[0]:WA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var nO=function(){function e(t,n){kr(this,e),this._firestore=t,this._delegate=n}return _r(e,[{key:"ref",get:function(){return new JA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return SA(this._delegate,e._delegate)}}]),e}(),rO=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||_b()}(void 0!==t),t}}]),n}(nO),iO=function(){function e(t,n){kr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new QA(t)}return _r(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,eA(this._delegate,function(e,t,n){var r=t,i=$N("where",e);return tA._create(i,r,n)}(t,n,r)))}catch(lB){throw ZA(lB,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,eA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=$N("orderBy",e);return rA._create(n,t)}(t,n)))}catch(lB){throw ZA(lB,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,eA(this._delegate,function(e){return EP("limit",e),iA._create("limit",e,"F")}(t)))}catch(lB){throw ZA(lB,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,eA(this._delegate,function(e){return EP("limitToLast",e),iA._create("limitToLast",e,"L")}(t)))}catch(lB){throw ZA(lB,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,eA(this._delegate,oA.apply(void 0,arguments)))}catch(lB){throw ZA(lB,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,eA(this._delegate,sA.apply(void 0,arguments)))}catch(lB){throw ZA(lB,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,eA(this._delegate,lA.apply(void 0,arguments)))}catch(lB){throw ZA(lB,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,eA(this._delegate,cA.apply(void 0,arguments)))}catch(lB){throw ZA(lB,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return LP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?CA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=SP(e,AP);var t=SP(e.firestore,lN),n=cN(t),r=new EA(t);return aN(n,e._query,{source:"server"}).then((function(n){return new _A(t,r,e,n)}))}(this._delegate):function(e){e=SP(e,AP);var t=SP(e.firestore,lN),n=cN(t),r=new EA(t);return XN(e._query),aN(n,e._query).then((function(n){return new _A(t,r,e,n)}))}(this._delegate),t.then((function(e){return new oO(n.firestore,new _A(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=eO(n),a=tO(n,(function(t){return new oO(e.firestore,new _A(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return AA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(XA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),aO=function(){function e(t,n){kr(this,e),this._firestore=t,this._delegate=n}return _r(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new rO(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),oO=function(){function e(t,n){kr(this,e),this._firestore=t,this._delegate=n}return _r(e,[{key:"query",get:function(){return new iO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new rO(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new aO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new rO(n._firestore,r))}))}},{key:"isEqual",value:function(e){return SA(this._delegate,e._delegate)}}]),e}(),sO=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return _r(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new JA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new JA(this.firestore,void 0===e?RP(this._delegate):RP(this._delegate,e))}catch(lB){throw ZA(lB,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=SP(e.firestore,lN),r=RP(e),i=yA(e.converter,t);return DA(n,[PN(IN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,T_.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new JA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return MP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(XA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(iO);function uO(e){return SP(e,NP)}var lO,cO=function(){function e(){kr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Gc(bN,n)}return _r(e,[{key:"isEqual",value:function(e){return(e=Bf(e))instanceof bN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Kb.keyField().canonicalString())}}]),e}(),fO=function(){function e(t){kr(this,e),this._delegate=t}return _r(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ON("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new NN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=VA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=UA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new MN("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),hO={Firestore:GA,GeoPoint:wN,Timestamp:Bb,Blob:HA,Transaction:YA,WriteBatch:$A,DocumentReference:JA,DocumentSnapshot:nO,Query:iO,QueryDocumentSnapshot:rO,QuerySnapshot:oO,CollectionReference:sO,FieldPath:cO,FieldValue:fO,setLogLevel:function(e){!function(e){mb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Wf("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},hO)))})(lO=pd,(function(e,t){return new GA(e,t,new KA)})),lO.registerVersion("@firebase/firestore-compat","0.3.3");var dO="@firebase/database",pO="0.14.3",vO="";function mO(e){vO=e}var yO=function(){function e(t){kr(this,e),this.domStorage_=t,this.prefix_="firebase:"}return _r(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xf(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:_f(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),gO=function(){function e(){kr(this,e),this.cache_={},this.isInMemoryStorage=!0}return _r(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Ef(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),bO=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yO(t)}}catch(lB){}return new gO},kO=bO("localStorage"),wO=bO("sessionStorage"),_O=new nh("@firebase/database"),xO=function(){var e=1;return function(){return e++}}(),SO=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Jc(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Of;n.update(t);var r=n.digest();return tf.encodeByteArray(r)},EO=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?xf(r):r,t+=" "}return t},TO=null,CO=!0,IO=function(e,t){Jc(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(_O.logLevel=Yf.VERBOSE,TO=_O.log.bind(_O),t&&wO.set("logging_enabled",!0)):"function"===typeof e?TO=e:(TO=null,wO.remove("logging_enabled"))},PO=function(){if(!0===CO&&(CO=!1,null===TO&&!0===wO.get("logging_enabled")&&IO(!0)),TO){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=EO.apply(null,t);TO(r)}},NO=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];PO.apply(void 0,[e].concat(n))}},AO=function(){var e="FIREBASE INTERNAL ERROR: "+EO.apply(void 0,arguments);_O.error(e)},OO=function(){var e="FIREBASE FATAL ERROR: ".concat(EO.apply(void 0,arguments));throw _O.error(e),new Error(e)},DO=function(){var e="FIREBASE WARNING: "+EO.apply(void 0,arguments);_O.warn(e)},RO=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},MO="[MIN_NAME]",LO="[MAX_NAME]",jO=function(e,t){if(e===t)return 0;if(e===MO||t===LO)return-1;if(t===MO||e===LO)return 1;var n=WO(e),r=WO(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},FO=function(e,t){return e===t?0:e<t?-1:1},VO=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+xf(t))},UO=function e(t){if("object"!==typeof t||null===t)return xf(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=xf(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},BO=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function qO(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var zO=function(e){Jc(!RO(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var HO=new RegExp("^-?(0*)\\d{1,10}$"),WO=function(e){if(HO.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},KO=function(e){try{e()}catch(lB){setTimeout((function(){var t=lB.stack||"";throw DO("Exception was thrown by user callback.",t),lB}),Math.floor(0))}},GO=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},QO=function(){function e(t,n){var r=this;kr(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return _r(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){DO('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),YO=function(){function e(t,n,r){var i=this;kr(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return _r(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(PO("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',DO(e)}}]),e}(),$O=function(){function e(t){kr(this,e),this.accessToken=t}return _r(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();$O.OWNER="owner";var XO="5",JO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZO="websocket",eD="long_polling",tD=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];kr(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=kO.get("host:"+t)||this._host}return _r(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&kO.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function nD(e,t,n){var r;if(Jc("string"===typeof t,"typeof type must == string"),Jc("object"===typeof n,"typeof params must == object"),t===ZO)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==eD)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return qO(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var rD=function(){function e(){kr(this,e),this.counters_={}}return _r(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ef(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return of(void 0,this.counters_)}}]),e}(),iD={},aD={};function oD(e){var t=e.toString();return iD[t]||(iD[t]=new rD),iD[t]}var sD=function(){function e(t){kr(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return _r(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&KO((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),uD="start",lD="close",cD=function(){function e(t,n,r,i,a,o,s){var u=this;kr(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=NO(t),this.stats_=oD(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),nD(n,eD,e)}}return _r(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new sD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(mf()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new fD((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===uD)n.id=a,n.password=o;else{if(i!==lD)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=XO,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&JO.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=xf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=nf(t),r=BO(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!mf()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=xf(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!mf()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),fD=function(){function e(t,n,r,i){if(kr(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,mf())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=xO(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(lB){PO("frame writing exception"),lB.stack&&PO(lB.stack),PO(lB)}}}return _r(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;mf()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){PO("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(lB){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||PO("No IE domain setting required")}catch(lB){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),hD=null;"undefined"!==typeof MozWebSocket?hD=MozWebSocket:"undefined"!==typeof WebSocket&&(hD=WebSocket);var dD=function(){function e(t,n,r,i,a,o,s){kr(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=NO(this.connId),this.stats_=oD(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return _r(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,kO.set("previous_websocket_failure",!0);try{var r;if(mf()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(XO,"/").concat(vO,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new hD(this.connURL,[],r)}catch(lB){this.log_("Error instantiating WebSocket.");var s=lB.message||lB.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){kO.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=_f(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Jc(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=xf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=BO(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(lB){this.log_("Exception thrown from WebSocket.send():",lB.message||lB.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=XO,!mf()&&"undefined"!==typeof location&&location.hostname&&JO.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),nD(e,ZO,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==hD&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return kO.isInMemoryStorage||!0===kO.get("previous_websocket_failure")}}]),e}();dD.responsesRequiredToBeHealthy=2,dD.healthyTimeout=3e4;var pD=function(){function e(t){kr(this,e),this.initTransports_(t)}return _r(e,[{key:"initTransports_",value:function(t){var n=dD&&dD.isAvailable(),r=n&&!dD.previouslyFailed();if(t.webSocketOnly&&(n||DO("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[dD];else{var i,a=this.transports_=[],o=Hr(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[cD,dD]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();pD.globalTransportInitialized_=!1;var vD=function(){function e(t,n,r,i,a,o,s,u,l,c){kr(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=NO("c:"+this.id+":"),this.transportManager_=new pD(n),this.log_("Connection created"),this.start_()}return _r(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=GO((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=VO("t",e),n=VO("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=VO("t",e),n=VO("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=VO("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?AO("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AO("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),XO!==n&&DO("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),GO((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):GO((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(kO.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),mD=function(){function e(){kr(this,e)}return _r(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),yD=function(){function e(t){kr(this,e),this.allowedEvents_=t,this.listeners_={},Jc(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return _r(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Ca(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Jc(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),gD=function(e){Sr(n,e);var t=Nr(n);function n(){var e;return kr(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||pf()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return _r(n,[{key:"getInitialEvent",value:function(e){return Jc("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(yD),bD=function(){function e(t,n){if(kr(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return _r(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function kD(){return new bD("")}function wD(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _D(e){return e.pieces_.length-e.pieceNum_}function xD(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new bD(e.pieces_,t)}function SD(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ED(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function TD(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new bD(t,0)}function CD(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof bD)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new bD(n,0)}function ID(e){return e.pieceNum_>=e.pieces_.length}function PD(e,t){var n=wD(e),r=wD(t);if(null===n)return t;if(n===r)return PD(xD(e),xD(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ND(e,t){for(var n=ED(e,0),r=ED(t,0),i=0;i<n.length&&i<r.length;i++){var a=jO(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function AD(e,t){if(_D(e)!==_D(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function OD(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(_D(e)>_D(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var DD=_r((function e(t,n){kr(this,e),this.errorPrefix_=n,this.parts_=ED(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Uf(this.parts_[r]);RD(this)}));function RD(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+MD(e))}function MD(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var LD=function(e){Sr(n,e);var t=Nr(n);function n(){var e,r,i;return kr(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return _r(n,[{key:"getInitialEvent",value:function(e){return Jc("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(yD),jD=1e3,FD=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i,a,o,s,u,l){var c;if(kr(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=NO("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=jD,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!mf())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return LD.getInstance().on("visible",c.onVisible_,Ir(c)),-1===e.host.indexOf("fblocal")&&gD.getInstance().on("online",c.onOnline_,Ir(c)),c}return _r(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(xf(i)),Jc(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new ff,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Jc(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Jc(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Sf(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Sf(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Jc(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+xf(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):AO("Unrecognized action received from server: "+xf(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Jc(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jD,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=jD,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=jD),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Hf(qf().mark((function e(){var t,r,i,a,o,s,u,c,f,h,d,p,v,m,y=this;return qf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},f=function(e){Jc(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:d=e.sent,p=l(d,2),v=p[0],m=p[1],s?PO("getToken() completed but was canceled"):(PO("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new vD(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){DO(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&DO(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){PO("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){PO("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Cf(this.interruptReasons_)&&(this.reconnectDelay_=jD,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return UO(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new bD(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){PO("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){PO("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Hr(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Hr(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";mf()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+vO.replace(/\./g,"-")]=1,pf()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=gD.getInstance().currentlyOnline();return Cf(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Ef(e,"w")){var n=Tf(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();DO("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(mD);FD.nextPersistentConnectionId_=0,FD.nextConnectionId_=0;var VD,UD=function(){function e(t,n){kr(this,e),this.name=t,this.node=n}return _r(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),BD=function(){function e(){kr(this,e)}return _r(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new UD(MO,e),r=new UD(MO,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return UD.MIN}}]),e}(),qD=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"compare",value:function(e,t){return jO(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Zc("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return UD.MIN}},{key:"maxPost",value:function(){return new UD(LO,VD)}},{key:"makePost",value:function(e,t){return Jc("string"===typeof e,"KeyIndex indexValue must always be a string."),new UD(e,VD)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return VD},set:function(e){VD=e}}]),n}(BD),zD=new qD,HD=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;kr(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return _r(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),WD=function(){function e(t,n,r,i,a){kr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:QD.EMPTY_NODE,this.right=null!=a?a:QD.EMPTY_NODE}return _r(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return QD.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return QD.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();WD.RED=!0,WD.BLACK=!1;var KD,GD=function(){function e(){kr(this,e)}return _r(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new WD(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),QD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;kr(this,e),this.comparator_=t,this.root_=n}return _r(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,WD.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,WD.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new HD(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new HD(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new HD(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new HD(this.root_,null,this.comparator_,!0,e)}}]),e}();function YD(e,t){return jO(e.name,t.name)}function $D(e,t){return jO(e,t)}QD.EMPTY_NODE=new GD;var XD,JD,ZD,eR=function(e){return"number"===typeof e?"number:"+zO(e):"string:"+e},tR=function(e){if(e.isLeafNode()){var t=e.val();Jc("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ef(t,".sv"),"Priority must be a string or number.")}else Jc(e===KD||e.isEmpty(),"priority of unexpected type.");Jc(e===KD||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},nR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;kr(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Jc(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),tR(this.priorityNode_)}return _r(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return ID(t)?this:".priority"===wD(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=wD(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Jc(".priority"!==r||1===_D(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(xD(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+eR(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?zO(this.value_):this.value_,this.lazyHash_=SO(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Jc(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Jc(i>=0,"Unknown leaf type: "+n),Jc(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return XD},set:function(e){XD=e}}]),e}();nR.VALUE_TYPE_ORDER=["object","boolean","number","string"];var rR,iR,aR=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?jO(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return UD.MIN}},{key:"maxPost",value:function(){return new UD(LO,new nR("[PRIORITY-POST]",ZD))}},{key:"makePost",value:function(e,t){var n=JD(e);return new UD(t,new nR("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(BD),oR=new aR,sR=Math.log(2),uR=function(){function e(t){kr(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/sR,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return _r(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),lR=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new WD(o,a.node,WD.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new WD(o,a.node,WD.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],f=n?n(c):c;u(new WD(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,WD.BLACK):(s(f,WD.BLACK),s(f,WD.RED))}return a}(new uR(e.length));return new QD(r||t,a)},cR={},fR=function(){function e(t,n){kr(this,e),this.indexes_=t,this.indexSet_=n}return _r(e,[{key:"get",value:function(e){var t=Tf(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof QD?t:null}},{key:"hasIndex",value:function(e){return Ef(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Jc(t!==zD,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(UD.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?lR(i,t.getCompare()):cR;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(If(this.indexes_,(function(e,i){var a=Tf(r.indexSet_,i);if(Jc(a,"Missing index implementation for "+i),e===cR){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(UD.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),lR(o,a.getCompare())}return cR}var l=n.get(t.name),c=e;return l&&(c=c.remove(new UD(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(If(this.indexes_,(function(e){if(e===cR)return e;var r=n.get(t.name);return r?e.remove(new UD(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Jc(cR&&oR,"ChildrenNode.ts has not been loaded"),rR=rR||new e({".priority":cR},{".priority":oR})}}]),e}(),hR=function(){function e(t,n,r){kr(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tR(this.priorityNode_),this.children_.isEmpty()&&Jc(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return _r(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||iR}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?iR:t}},{key:"getChild",value:function(e){var t=wD(e);return null===t?this:this.getImmediateChild(t).getChild(xD(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Jc(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new UD(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?iR:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=wD(e);if(null===n)return t;Jc(".priority"!==wD(e)||1===_D(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(xD(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(oR,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+eR(this.getPriority().val())+":"),this.forEachChild(oR,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":SO(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new UD(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new UD(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new UD(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,UD.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,UD.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===dR?-1:0}},{key:"withIndex",value:function(t){if(t===zD||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===zD||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(oR),r=t.getIterator(oR),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===zD?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return iR||(iR=new e(new QD($D),null,fR.Default))}}]),e}();hR.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var dR=new(function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.call(this,new QD($D),hR.EMPTY_NODE,fR.Default)}return _r(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return hR.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(hR));Object.defineProperties(UD,{MIN:{value:new UD(MO,hR.EMPTY_NODE)},MAX:{value:new UD(LO,dR)}}),qD.__EMPTY_NODE=hR.EMPTY_NODE,nR.__childrenNodeConstructor=hR,KD=dR,function(e){ZD=e}(dR);function pR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return hR.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Jc(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new nR(n,pR(t))}if(e instanceof Array){var r=hR.EMPTY_NODE;return qO(e,(function(t,n){if(Ef(e,t)&&"."!==t.substring(0,1)){var i=pR(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(pR(t))}var i=[],a=!1,o=e;if(qO(o,(function(e,t){if("."!==e.substring(0,1)){var n=pR(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new UD(e,n)))}})),0===i.length)return hR.EMPTY_NODE;var s=lR(i,YD,(function(e){return e.name}),$D);if(a){var u=lR(i,oR.getCompare());return new hR(s,pR(t),new fR({".priority":u},{".priority":oR}))}return new hR(s,pR(t),fR.Default)}!function(e){JD=e}(pR);var vR=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this)).indexPath_=e,Jc(!ID(e)&&".priority"!==wD(e),"Can't create PathIndex with empty path or .priority key"),r}return _r(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?jO(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=pR(e),r=hR.EMPTY_NODE.updateChild(this.indexPath_,n);return new UD(t,r)}},{key:"maxPost",value:function(){var e=hR.EMPTY_NODE.updateChild(this.indexPath_,dR);return new UD(LO,e)}},{key:"toString",value:function(){return ED(this.indexPath_,0).join("/")}}]),n}(BD),mR=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?jO(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return UD.MIN}},{key:"maxPost",value:function(){return UD.MAX}},{key:"makePost",value:function(e,t){var n=pR(e);return new UD(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(BD),yR=new mR;function gR(e){return{type:"value",snapshotNode:e}}function bR(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function kR(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function wR(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var _R=function(){function e(t){kr(this,e),this.index_=t}return _r(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Jc(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(kR(t,o)):Jc(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(bR(t,n)):a.trackChildChange(wR(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(oR,(function(e,r){t.hasChild(e)||n.trackChildChange(kR(e,r))})),t.isLeafNode()||t.forEachChild(oR,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(wR(t,r,i))}else n.trackChildChange(bR(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?hR.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),xR=function(){function e(t){kr(this,e),this.indexedFilter_=new _R(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return _r(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new UD(t,n))||(n=hR.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=hR.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(hR.EMPTY_NODE);var i=this;return t.forEachChild(oR,(function(e,t){i.matches(new UD(e,t))||(r=r.updateImmediateChild(e,hR.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),SR=function(){function e(t){var n=this;kr(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new xR(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return _r(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new UD(t,n))||(n=hR.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=hR.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=hR.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(hR.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var l=s.getNext();u<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?u++:r=r.updateImmediateChild(l.name,hR.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;Jc(s.numChildren()===this.limit_,"");var u=new UD(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,l,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(wR(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(kR(t,f));var p=s.updateImmediateChild(t,hR.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(bR(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:c&&a(l,u)>=0?(null!=i&&(i.trackChildChange(kR(l.name,l.node)),i.trackChildChange(bR(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,hR.EMPTY_NODE)):e}}]),e}(),ER=function(){function e(){kr(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=oR}return _r(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Jc(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Jc(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MO}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Jc(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Jc(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:LO}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Jc(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===oR}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function TR(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function CR(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function IR(e,t){var n=e.copy();return n.index_=t,n}function PR(e){var t,n={};if(e.isDefault())return n;if(e.index_===oR?t="$priority":e.index_===yR?t="$value":e.index_===zD?t="$key":(Jc(e.index_ instanceof vR,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=xf(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=xf(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+xf(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=xf(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+xf(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function NR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==oR&&(t.i=e.index_.toString()),t}var AR=function(e){Sr(n,e);var t=Nr(n);function n(e,r,i,a){var o;return kr(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=NO("p:rest:"),o.listens_={},o}return _r(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=PR(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Tf(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=PR(e._queryParams),r=e._path.toString(),i=new ff;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=l(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Af(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=_f(c.responseText)}catch(lB){DO("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&DO("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Jc(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(mD),OR=function(){function e(){kr(this,e),this.rootNode_=hR.EMPTY_NODE}return _r(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function DR(){return{value:null,children:new Map}}function RR(e,t,n){if(ID(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=wD(t);e.children.has(r)||e.children.set(r,DR()),RR(e.children.get(r),t=xD(t),n)}}function MR(e,t){if(ID(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(oR,(function(t,n){RR(e,new bD(t),n)})),MR(e,t)}if(e.children.size>0){var r=wD(t);if(t=xD(t),e.children.has(r))MR(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function LR(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){LR(r,new bD(t.toString()+"/"+e),n)}))}var jR,FR=function(){function e(t){kr(this,e),this.collection_=t,this.last_=null}return _r(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&qO(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),VR=function(){function e(t,n){kr(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new FR(t);var r=1e4+2e4*Math.random();GO(this.reportStats_.bind(this),Math.floor(r))}return _r(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;qO(t,(function(t,i){i>0&&Ef(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),GO(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function UR(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(jR||(jR={}));var BR,qR=function(){function e(t,n,r){kr(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=jR.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return _r(e,[{key:"operationForChild",value:function(t){if(ID(this.path)){if(null!=this.affectedTree.value)return Jc(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new bD(t));return new e(kD(),n,this.revert)}return Jc(wD(this.path)===t,"operationForChild called for unrelated child."),new e(xD(this.path),this.affectedTree,this.revert)}}]),e}(),zR=function(){function e(t,n){kr(this,e),this.source=t,this.path=n,this.type=jR.LISTEN_COMPLETE}return _r(e,[{key:"operationForChild",value:function(t){return ID(this.path)?new e(this.source,kD()):new e(this.source,xD(this.path))}}]),e}(),HR=function(){function e(t,n,r){kr(this,e),this.source=t,this.path=n,this.snap=r,this.type=jR.OVERWRITE}return _r(e,[{key:"operationForChild",value:function(t){return ID(this.path)?new e(this.source,kD(),this.snap.getImmediateChild(t)):new e(this.source,xD(this.path),this.snap)}}]),e}(),WR=function(){function e(t,n,r){kr(this,e),this.source=t,this.path=n,this.children=r,this.type=jR.MERGE}return _r(e,[{key:"operationForChild",value:function(t){if(ID(this.path)){var n=this.children.subtree(new bD(t));return n.isEmpty()?null:n.value?new HR(this.source,kD(),n.value):new e(this.source,kD(),n)}return Jc(wD(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,xD(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),KR=function(){function e(t,n,r){kr(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return _r(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(ID(e))return this.isFullyInitialized()&&!this.filtered_;var t=wD(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),GR=_r((function e(t){kr(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function QR(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Zc("Should only compare child_ events.");var r=new UD(t.childName,t.snapshotNode),i=new UD(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function YR(e,t){return{eventCache:e,serverCache:t}}function $R(e,t,n,r){return YR(new KR(t,n,r),e.serverCache)}function XR(e,t,n,r){return YR(e.eventCache,new KR(t,n,r))}function JR(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ZR(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var eM=function(){return BR||(BR=new QD(FO)),BR},tM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eM();kr(this,e),this.value=t,this.children=n}return _r(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:kD(),value:this.value};if(ID(e))return null;var n=wD(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(xD(e),t);return null!=i?{path:CD(new bD(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(ID(t))return this;var n=wD(t),r=this.children.get(n);return null!==r?r.subtree(xD(t)):new e(null)}},{key:"set",value:function(t,n){if(ID(t))return new e(n,this.children);var r=wD(t),i=(this.children.get(r)||new e(null)).set(xD(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(ID(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=wD(t),r=this.children.get(n);if(r){var i,a=r.remove(xD(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(ID(e))return this.value;var t=wD(e),n=this.children.get(t);return n?n.get(xD(e)):null}},{key:"setTree",value:function(t,n){if(ID(t))return n;var r,i=wD(t),a=(this.children.get(i)||new e(null)).setTree(xD(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(kD(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(CD(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,kD(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ID(e))return null;var i=wD(e),a=this.children.get(i);return a?a.findOnPath_(xD(e),CD(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,kD(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(ID(t))return this;this.value&&r(n,this.value);var i=wD(t),a=this.children.get(i);return a?a.foreachOnPath_(xD(t),CD(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(kD(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(CD(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return qO(t,(function(e,t){n=n.set(new bD(e),t)})),n}}]),e}(),nM=function(){function e(t){kr(this,e),this.writeTree_=t}return _r(e,null,[{key:"empty",value:function(){return new e(new tM(null))}}]),e}();function rM(e,t,n){if(ID(t))return new nM(new tM(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=PD(i,t);return a=a.updateChild(o,n),new nM(e.writeTree_.set(i,a))}var s=new tM(n),u=e.writeTree_.setTree(t,s);return new nM(u)}function iM(e,t,n){var r=e;return qO(n,(function(e,n){r=rM(r,CD(t,e),n)})),r}function aM(e,t){if(ID(t))return nM.empty();var n=e.writeTree_.setTree(t,new tM(null));return new nM(n)}function oM(e,t){return null!=sM(e,t)}function sM(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(PD(n.path,t)):null}function uM(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(oR,(function(e,n){t.push(new UD(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new UD(e,n.value))})),t}function lM(e,t){if(ID(t))return e;var n=sM(e,t);return new nM(null!=n?new tM(n):e.writeTree_.subtree(t))}function cM(e){return e.writeTree_.isEmpty()}function fM(e,t){return hM(kD(),e.writeTree_,t)}function hM(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Jc(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=hM(CD(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(CD(e,".priority"),r)),n}function dM(e,t){return CM(t,e)}function pM(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function vM(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Jc(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&mM(s,r.path)?i=!1:OD(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=gM(e.allWrites,yM,kD()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=aM(e.visibleWrites,r.path):qO(r.children,(function(t){e.visibleWrites=aM(e.visibleWrites,CD(r.path,t))}));return!0}return!1}function mM(e,t){if(e.snap)return OD(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&OD(CD(e.path,n),t))return!0;return!1}function yM(e){return e.visible}function gM(e,t,n){for(var r=nM.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)OD(n,o)?r=rM(r,s=PD(n,o),a.snap):OD(o,n)&&(s=PD(o,n),r=rM(r,kD(),a.snap.getChild(s)));else{if(!a.children)throw Zc("WriteRecord should have .snap or .children");if(OD(n,o))r=iM(r,s=PD(n,o),a.children);else if(OD(o,n))if(ID(s=PD(o,n)))r=iM(r,kD(),a.children);else{var u=Tf(a.children,wD(s));if(u){var l=u.getChild(xD(s));r=rM(r,kD(),l)}}}}}return r}function bM(e,t,n,r,i){if(r||i){var a=lM(e.visibleWrites,t);if(!i&&cM(a))return n;if(i||null!=n||oM(a,kD())){return fM(gM(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(OD(e.path,t)||OD(t,e.path))}),t),n||hR.EMPTY_NODE)}return null}var o=sM(e.visibleWrites,t);if(null!=o)return o;var s=lM(e.visibleWrites,t);return cM(s)?n:null!=n||oM(s,kD())?fM(s,n||hR.EMPTY_NODE):null}function kM(e,t,n,r){return bM(e.writeTree,e.treePath,t,n,r)}function wM(e,t){return function(e,t,n){var r=hR.EMPTY_NODE,i=sM(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(oR,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=lM(e.visibleWrites,t);return n.forEachChild(oR,(function(e,t){var n=fM(lM(a,new bD(e)),t);r=r.updateImmediateChild(e,n)})),uM(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return uM(lM(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _M(e,t,n,r){return function(e,t,n,r,i){Jc(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=CD(t,n);if(oM(e.visibleWrites,a))return null;var o=lM(e.visibleWrites,a);return cM(o)?i.getChild(n):fM(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function xM(e,t){return function(e,t){return sM(e.visibleWrites,t)}(e.writeTree,CD(e.treePath,t))}function SM(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=lM(e.visibleWrites,t),l=sM(u,kD());if(null!=l)s=l;else{if(null==n)return[];s=fM(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&c.length<i;)0!==f(d,r)&&c.push(d),d=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function EM(e,t,n){return function(e,t,n,r){var i=CD(t,n),a=sM(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?fM(lM(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function TM(e,t){return CM(CD(e.treePath,t),e.writeTree)}function CM(e,t){return{treePath:e,writeTree:t}}var IM=function(){function e(){kr(this,e),this.changeMap=new Map}return _r(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Jc("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Jc(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,wR(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,kR(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,bR(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Zc("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,wR(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),PM=new(function(){function e(){kr(this,e)}return _r(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),NM=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;kr(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return _r(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new KR(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return EM(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ZR(this.viewCache_),i=SM(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function AM(e,t,n,r,i){var a,o,s=new IM;if(n.type===jR.OVERWRITE){var u=n;u.source.fromUser?a=RM(e,t,u.path,u.snap,r,i,s):(Jc(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!ID(u.path),a=DM(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===jR.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=CD(n,r);MM(t,wD(l))&&(s=RM(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=CD(n,r);MM(t,wD(l))||(s=RM(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(Jc(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=jM(e,t,l.path,l.children,r,i,o,s))}else if(n.type===jR.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=xM(r,n))return t;var s,u=new NM(r,t,i),l=t.eventCache.getNode();if(ID(n)||".priority"===wD(n)){var c;if(t.serverCache.isFullyInitialized())c=kM(r,ZR(t));else{var f=t.serverCache.getNode();Jc(f instanceof hR,"serverChildren would be complete if leaf node"),c=wM(r,f)}s=e.filter.updateFullNode(l,c,a)}else{var h=wD(n),d=EM(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(l,h,d,xD(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,hR.EMPTY_NODE,xD(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=kM(r,ZR(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=xM(r,kD()),$R(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=xM(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ID(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return DM(e,t,n,u.getNode().getChild(n),i,a,s,o);if(ID(n)){var l=new tM(null);return u.getNode().forEachChild(zD,(function(e,t){l=l.set(new bD(e),t)})),jM(e,t,n,l,i,a,s,o)}return t}var c=new tM(null);return r.foreach((function(e,t){var r=CD(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),jM(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==jR.LISTEN_COMPLETE)throw Zc("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=XR(t,a.getNode(),a.isFullyInitialized()||ID(n),a.isFiltered());return OM(e,o,n,r,PM,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=JR(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(gR(JR(t)))}}(t,a,f),{viewCache:a,changes:f}}function OM(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=xM(r,n))return t;if(ID(n))if(Jc(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=ZR(t),c=wM(r,l instanceof hR?l:hR.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var f=kM(r,ZR(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=wD(n);if(".priority"===h){Jc(1===_D(n),"Can't have a priority with additional path components");var d=u.getNode(),p=_M(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=xD(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=_M(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=EM(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return $R(t,o,u.isFullyInitialized()||ID(n),e.filter.filtersNodes())}function DM(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(ID(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var h=wD(n);if(!l.isCompleteForPath(n)&&_D(n)>1)return t;var d=xD(n),p=l.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,PM,null)}var v=XR(t,u,l.isFullyInitialized()||ID(n),c.filtersNodes());return OM(e,v,n,i,new NM(i,v,a),s)}function RM(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new NM(i,t,a);if(ID(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=$R(t,u,!0,e.filter.filtersNodes());else{var f=wD(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=$R(t,u,l.isFullyInitialized(),l.isFiltered());else{var h,d=xD(n),p=l.getNode().getImmediateChild(f);if(ID(d))h=r;else{var v=c.getCompleteChild(f);h=null!=v?".priority"===SD(d)&&v.getChild(TD(d)).isEmpty()?v:v.updateChild(d,r):hR.EMPTY_NODE}if(p.equals(h))s=t;else s=$R(t,e.filter.updateChild(l.getNode(),f,h,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function MM(e,t){return e.eventCache.isCompleteForChild(t)}function LM(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function jM(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=ID(n)?r:new tM(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=LM(0,t.serverCache.getNode().getImmediateChild(n),r);l=DM(e,l,new bD(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var f=LM(0,t.serverCache.getNode().getImmediateChild(n),r);l=DM(e,l,new bD(n),f,i,a,o,s)}})),l}var FM,VM=function(){function e(t,n){kr(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new _R(i.getIndex()),o=(r=i).loadsAllData()?new _R(r.getIndex()):r.hasLimit()?new SR(r):new xR(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,l=a.updateFullNode(hR.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(hR.EMPTY_NODE,u.getNode(),null),f=new KR(l,s.isFullyInitialized(),a.filtersNodes()),h=new KR(c,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=YR(h,f),this.eventGenerator_=new GR(this.query_)}return _r(e,[{key:"query",get:function(){return this.query_}}]),e}();function UM(e,t){var n=ZR(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ID(t)&&!n.getImmediateChild(wD(t)).isEmpty())?n.getChild(t):null}function BM(e){return 0===e.eventRegistrations_.length}function qM(e,t,n){var r=[];if(n){Jc(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function zM(e,t,n,r){t.type===jR.MERGE&&null!==t.source.queryId&&(Jc(ZR(e.viewCache_),"We should always have a full cache before handling merges"),Jc(JR(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=AM(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Jc(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Jc(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Jc(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,HM(e,s.changes,s.viewCache.eventCache.getNode(),null)}function HM(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),QR(e,i,"child_removed",t,r,n),QR(e,i,"child_added",t,r,n),QR(e,i,"child_moved",a,r,n),QR(e,i,"child_changed",t,r,n),QR(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var WM,KM=_r((function e(){kr(this,e),this.views=new Map}));function GM(e){return 0===e.views.size}function QM(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Jc(null!=a,"SyncTree gave us an op for an invalid query."),zM(a,t,n,r)}var o,s=[],u=Hr(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(zM(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function YM(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=kM(n,i?r:null),u=!1;s?u=!0:r instanceof hR?(s=wM(n,r),u=!1):(s=hR.EMPTY_NODE,u=!1);var l=YR(new KR(s,u,!1),new KR(r,i,!1));return new VM(t,l)}return o}function $M(e,t,n,r,i,a){var o=YM(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(oR,(function(e,t){r.push(bR(e,t))})),n.isFullyInitialized()&&r.push(gR(n.getNode())),HM(e,r,n.getNode(),t)}(o,n)}function XM(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=nL(e);if("default"===i){var u,c=Hr(e.views.entries());try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];o=o.concat(qM(d,n,r)),BM(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(i);p&&(o=o.concat(qM(p,n,r)),BM(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!nL(e)&&a.push(new(Jc(FM,"Reference.ts has not been loaded"),FM)(t._repo,t._path)),{removed:a,events:o}}function JM(e){var t,n=[],r=Hr(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function ZM(e,t){var n,r=null,i=Hr(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||UM(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function eL(e,t){if(t._queryParams.loadsAllData())return rL(e);var n=t._queryIdentifier;return e.views.get(n)}function tL(e,t){return null!=eL(e,t)}function nL(e){return null!=rL(e)}function rL(e){var t,n=Hr(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var iL=1,aL=_r((function e(t){kr(this,e),this.listenProvider_=t,this.syncPointTree_=new tM(null),this.pendingWriteTree_={visibleWrites:nM.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function oL(e,t,n,r,i){return function(e,t,n,r,i){Jc(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=rM(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?vL(e,new HR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function sL(e,t,n,r){!function(e,t,n,r){Jc(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=iM(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=tM.fromObject(n);return vL(e,new WR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function uL(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=pM(e.pendingWriteTree_,t),i=vM(e.pendingWriteTree_,t);if(i){var a=new tM(null);return null!=r.snap?a=a.set(kD(),!0):qO(r.children,(function(e){a=a.set(new bD(e),!0)})),vL(e,new qR(r.path,a,n))}return[]}function lL(e,t,n){return vL(e,new HR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function cL(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||tL(o,t))){var u=XM(o,t,n,r);GM(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=u.removed;if(s=u.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return nL(t)}));if(c&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=SL(h),p=0;p<d.length;++p){var v=d[p],m=v.query,y=gL(e,v);e.listenProvider_.startListening(EL(m),bL(e,m),y.hashFn,y.onComplete)}}if(!f&&l.length>0&&!r)if(c){var g=null;e.listenProvider_.stopListening(EL(t),g)}else l.forEach((function(t){var n=e.queryToTagMap.get(kL(t));e.listenProvider_.stopListening(EL(t),n)}))}TL(e,l)}return s}function fL(e,t,n,r){var i=wL(e,r);if(null!=i){var a=_L(i),o=a.path,s=a.queryId,u=PD(o,t);return xL(e,o,new HR(UR(s),u,n))}return[]}function hL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=PD(e,i);a=a||ZM(t,n),o=o||nL(t)}));var s,u=e.syncPointTree_.get(i);if(u?(o=o||nL(u),a=a||ZM(u,kD())):(u=new KM,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)s=!0;else{s=!1,a=hR.EMPTY_NODE;var l=e.syncPointTree_.subtree(i);l.foreachChild((function(e,t){var n=ZM(t,kD());n&&(a=a.updateImmediateChild(e,n))}))}var c=tL(u,t);if(!c&&!t._queryParams.loadsAllData()){var f=kL(t);Jc(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=CL();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=dM(e.pendingWriteTree_,i),p=$M(u,t,n,d,a,s);if(!c&&!o&&!r){var v=eL(u,t);p=p.concat(IL(e,t,v))}return p}function dL(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=ZM(n,PD(e,t));if(r)return r}));return bM(r,t,i,n,!0)}function pL(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=PD(e,n);r=r||ZM(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||ZM(i,kD()):(i=new KM,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new KR(r,!0,!1):null;return function(e){return JR(e.viewCache_)}(YM(i,t,dM(e.pendingWriteTree_,t._path),a?o.getNode():hR.EMPTY_NODE,a))}function vL(e,t){return mL(t,e.syncPointTree_,null,dM(e.pendingWriteTree_,kD()))}function mL(e,t,n,r){if(ID(e.path))return yL(e,t,n,r);var i=t.get(kD());null==n&&null!=i&&(n=ZM(i,kD()));var a=[],o=wD(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=TM(r,o);a=a.concat(mL(s,u,l,c))}return i&&(a=a.concat(QM(i,e,r,n))),a}function yL(e,t,n,r){var i=t.get(kD());null==n&&null!=i&&(n=ZM(i,kD()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=TM(r,t),u=e.operationForChild(t);u&&(a=a.concat(yL(u,i,o,s)))})),i&&(a=a.concat(QM(i,e,r,n))),a}function gL(e,t){var n=t.query,r=bL(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||hR.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=wL(e,n);if(r){var i=_L(r),a=i.path,o=i.queryId,s=PD(a,t);return xL(e,a,new zR(UR(o),s))}return[]}(e,n._path,r):function(e,t){return vL(e,new zR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return cL(e,n,null,i)}}}function bL(e,t){var n=kL(t);return e.queryToTagMap.get(n)}function kL(e){return e._path.toString()+"$"+e._queryIdentifier}function wL(e,t){return e.tagToQueryMap.get(t)}function _L(e){var t=e.indexOf("$");return Jc(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new bD(e.substr(0,t))}}function xL(e,t,n){var r=e.syncPointTree_.get(t);return Jc(r,"Missing sync point for query tag that we're tracking"),QM(r,n,dM(e.pendingWriteTree_,t),null)}function SL(e){return e.fold((function(e,t,n){if(t&&nL(t))return[rL(t)];var r=[];return t&&(r=JM(t)),qO(n,(function(e,t){r=r.concat(t)})),r}))}function EL(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Jc(WM,"Reference.ts has not been loaded"),WM)(e._repo,e._path):e}function TL(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=kL(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function CL(){return iL++}function IL(e,t,n){var r=t._path,i=bL(e,t),a=gL(e,n),o=e.listenProvider_.startListening(EL(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)Jc(!nL(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!ID(e)&&t&&nL(t))return[rL(t).query];var r=[];return t&&(r=r.concat(JM(t).map((function(e){return e.query})))),qO(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(EL(c),bL(e,c))}return o}var PL=function(){function e(t){kr(this,e),this.node_=t}return _r(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),NL=function(){function e(t,n){kr(this,e),this.syncTree_=t,this.path_=n}return _r(e,[{key:"getImmediateChild",value:function(t){var n=CD(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return dL(this.syncTree_,this.path_)}}]),e}(),AL=function(e,t,n){return e&&"object"===typeof e?(Jc(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?OL(e[".sv"],t,n):"object"===typeof e[".sv"]?DL(e[".sv"],t):void Jc(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},OL=function(e,t,n){if("timestamp"===e)return n.timestamp;Jc(!1,"Unexpected server value: "+e)},DL=function(e,t,n){e.hasOwnProperty("increment")||Jc(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Jc(!1,"Unexpected increment value: "+r);var i=t.node();if(Jc(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},RL=function(e,t,n,r){return LL(t,new NL(n,e),r)},ML=function(e,t,n){return LL(e,new PL(t),n)};function LL(e,t,n){var r,i=e.getPriority().val(),a=AL(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=AL(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new nR(s,pR(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new nR(a))),u.forEachChild(oR,(function(e,i){var a=LL(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var jL=_r((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};kr(this,e),this.name=t,this.parent=n,this.node=r}));function FL(e,t){for(var n=t instanceof bD?t:new bD(t),r=e,i=wD(n);null!==i;){var a=Tf(r.node.children,i)||{children:{},childCount:0};r=new jL(i,r,a),i=wD(n=xD(n))}return r}function VL(e){return e.node.value}function UL(e,t){e.node.value=t,WL(e)}function BL(e){return e.node.childCount>0}function qL(e,t){qO(e.node.children,(function(n,r){t(new jL(n,e,r))}))}function zL(e,t,n,r){n&&!r&&t(e),qL(e,(function(e){zL(e,t,!0,r)})),n&&r&&t(e)}function HL(e){return new bD(null===e.parent?e.name:HL(e.parent)+"/"+e.name)}function WL(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===VL(e)&&!BL(e)}(n),i=Ef(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,WL(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,WL(e))}(e.parent,e.name,e)}var KL=/[\[\].#$\/\u0000-\u001F\u007F]/,GL=/[\[\].#$\u0000-\u001F\u007F]/,QL=10485760,YL=function(e){return"string"===typeof e&&0!==e.length&&!KL.test(e)},$L=function(e){return"string"===typeof e&&0!==e.length&&!GL.test(e)},XL=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!RO(e)||e&&"object"===typeof e&&Ef(e,".sv")},JL=function(e,t,n,r){r&&void 0===t||ZL(jf(e,"value"),t,n)},ZL=function e(t,n,r){var i=r instanceof bD?new DD(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+MD(i));if("function"===typeof n)throw new Error(t+"contains a function "+MD(i)+" with contents = "+n.toString());if(RO(n))throw new Error(t+"contains "+n.toString()+" "+MD(i));if("string"===typeof n&&n.length>QL/3&&Uf(n)>QL)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+MD(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(qO(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!YL(n)))throw new Error(t+" contains an invalid key ("+n+") "+MD(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Uf(t),RD(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Uf(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+MD(i)+" in addition to actual children.")}},ej=function(e,t,n,r){if(!r||void 0!==t){var i=jf(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];qO(t,(function(e,t){var r=new bD(e);if(ZL(i,t,CD(n,r)),".priority"===SD(r)&&!XL(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ED(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!YL(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(ND);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&OD(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},tj=function(e,t,n){if(!n||void 0!==t){if(RO(t))throw new Error(jf(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!XL(t))throw new Error(jf(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},nj=function(e,t,n,r){if((!r||void 0!==n)&&!YL(n))throw new Error(jf(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rj=function(e,t,n,r){if((!r||void 0!==n)&&!$L(n))throw new Error(jf(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ij=function(e,t){if(".info"===wD(t))throw new Error(e+" failed = Can't modify data under /.info/")},aj=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!YL(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$L(e)}(n))throw new Error(jf(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},oj=_r((function e(){kr(this,e),this.eventLists_=[],this.recursionDepth_=0}));function sj(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||AD(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function uj(e,t,n){sj(e,n),cj(e,(function(e){return AD(e,t)}))}function lj(e,t,n){sj(e,n),cj(e,(function(e){return OD(e,t)||OD(t,e)}))}function cj(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(fj(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function fj(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();TO&&PO("event: "+n.toString()),KO(r)}}}var hj="repo_interrupt",dj=function(){function e(t,n,r,i){kr(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=DR(),this.transactionQueueTree_=new jL,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return _r(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function pj(e,t,n){if(e.stats_=oD(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new AR(e.repoInfo_,(function(t,n,r,i){yj(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return gj(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xf(n)}catch(lB){throw new Error("Invalid authOverride provided: "+lB)}}e.persistentConnection_=new FD(e.repoInfo_,t,(function(t,n,r,i){yj(e,t,n,r,i)}),(function(t){gj(e,t)}),(function(t){!function(e,t){qO(t,(function(t,n){bj(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return aD[n]||(aD[n]=t()),aD[n]}(e.repoInfo_,(function(){return new VR(e.stats_,e.server_)})),e.infoData_=new OR,e.infoSyncTree_=new aL({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=lL(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),bj(e,"connected",!1),e.serverSyncTree_=new aL({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);lj(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function vj(e){var t=e.infoData_.getNode(new bD(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function mj(e){return(t=(t={timestamp:vj(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function yj(e,t,n,r,i){e.dataUpdateCount++;var a=new bD(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=If(n,(function(e){return pR(e)}));o=function(e,t,n,r){var i=wL(e,r);if(i){var a=_L(i),o=a.path,s=a.queryId,u=PD(o,t),l=tM.fromObject(n);return xL(e,o,new WR(UR(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=pR(n);o=fL(e.serverSyncTree_,a,u,i)}else if(r){var l=If(n,(function(e){return pR(e)}));o=function(e,t,n){var r=tM.fromObject(n);return vL(e,new WR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=pR(n);o=lL(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=Aj(e,a)),lj(e.eventQueue_,f,o)}function gj(e,t){bj(e,"connected",t),!1===t&&function(e){Tj(e,"onDisconnectEvents");var t=mj(e),n=DR();LR(e.onDisconnect_,kD(),(function(r,i){var a=RL(r,i,e.serverSyncTree_,t);RR(n,r,a)}));var r=[];LR(n,kD(),(function(t,n){r=r.concat(lL(e.serverSyncTree_,t,n));var i=Lj(e,t);Aj(e,i)})),e.onDisconnect_=DR(),lj(e.eventQueue_,kD(),r)}(e)}function bj(e,t,n){var r=new bD("/.info/"+t),i=pR(n);e.infoData_.updateSnapshot(r,i);var a=lL(e.infoSyncTree_,r,i);lj(e.eventQueue_,r,a)}function kj(e){return e.nextWriteId_++}function wj(e,t,n,r,i){Tj(e,"set",{path:t.toString(),value:n,priority:r});var a=mj(e),o=pR(n,r),s=dL(e.serverSyncTree_,t),u=ML(o,s,a),l=kj(e),c=oL(e.serverSyncTree_,t,u,l,!0);sj(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||DO("set at "+t+" failed: "+n);var o=uL(e.serverSyncTree_,l,!a);lj(e.eventQueue_,t,o),Cj(e,i,n,r)}));var f=Lj(e,t);Aj(e,f),lj(e.eventQueue_,f,[])}function _j(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&MR(e.onDisconnect_,t),Cj(e,n,r,i)}))}function xj(e,t,n,r){var i=pR(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&RR(e.onDisconnect_,t,i),Cj(e,r,n,a)}))}function Sj(e,t,n){var r;r=".info"===wD(t._path)?cL(e.infoSyncTree_,t,n):cL(e.serverSyncTree_,t,n),uj(e.eventQueue_,t._path,r)}function Ej(e){e.persistentConnection_&&e.persistentConnection_.interrupt(hj)}function Tj(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];PO.apply(void 0,[t].concat(r))}function Cj(e,t,n,r){t&&KO((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Ij(e,t,n){return dL(e.serverSyncTree_,t,n)||hR.EMPTY_NODE}function Pj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Mj(e,t),VL(t)){var n=Dj(e,t);Jc(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Nj(e,HL(t),n)}else BL(t)&&qL(t,(function(t){Pj(e,t)}))}function Nj(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ij(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Jc(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=PD(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){Tj(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(uL(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Mj(e,FL(e.transactionQueueTree_,t)),Pj(e,e.transactionQueueTree_),lj(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)KO(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{DO("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}Aj(e,t)}}),o)}function Aj(e,t){var n=Oj(e,t),r=HL(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],l=PD(n,u.path),c=!1,f=void 0;if(Jc(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,f=u.abortReason,i=i.concat(uL(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,f="maxretry",i=i.concat(uL(e.serverSyncTree_,u.currentWriteId,!0));else{var h=Ij(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){ZL("transaction failed: Data returned ",d,u.path);var p=pR(d);"object"===typeof d&&null!=d&&Ef(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=mj(e),y=ML(p,h,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=kj(e),o.splice(o.indexOf(v),1),i=(i=i.concat(oL(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(uL(e.serverSyncTree_,v,!0))}else c=!0,f="nodata",i=i.concat(uL(e.serverSyncTree_,u.currentWriteId,!0))}lj(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);Mj(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)KO(r[l]);Pj(e,e.transactionQueueTree_)}(e,Dj(e,n),r),r}function Oj(e,t){var n,r=e.transactionQueueTree_;for(n=wD(t);null!==n&&void 0===VL(r);)r=FL(r,n),n=wD(t=xD(t));return r}function Dj(e,t){var n=[];return Rj(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Rj(e,t,n){var r=VL(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);qL(t,(function(t){Rj(e,t,n)}))}function Mj(e,t){var n=VL(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,UL(t,n.length>0?n:void 0)}qL(t,(function(t){Mj(e,t)}))}function Lj(e,t){var n=HL(Oj(e,t)),r=FL(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){jj(e,t)})),jj(e,r),zL(r,(function(t){jj(e,t)})),n}function jj(e,t){var n=VL(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Jc(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Jc(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(uL(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?UL(t,void 0):n.length=a+1,lj(e.eventQueue_,HL(t),i);for(var s=0;s<r.length;s++)KO(r[s])}}var Fj=function(e,t){var n=Vj(e),r=n.namespace;"firebase.com"===n.domain&&OO(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||OO("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&DO("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new tD(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new bD(n.pathString)}},Vj=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(lB){}t+="/"+i}return t}(e.substring(c,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Hr(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):DO("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Uj="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Bj=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Uj.charAt(n%64),n=Math.floor(n/64);Jc(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Uj.charAt(t[r]);return Jc(20===o.length,"nextPushId: Length should be 20."),o}}(),qj=function(){function e(t,n,r,i){kr(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return _r(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+xf(this.snapshot.exportVal())}}]),e}(),zj=function(){function e(t,n,r){kr(this,e),this.eventRegistration=t,this.error=n,this.path=r}return _r(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Hj=function(){function e(t,n){kr(this,e),this.snapshotCallback=t,this.cancelCallback=n}return _r(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Jc(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Wj=function(){function e(t,n){kr(this,e),this._repo=t,this._path=n}return _r(e,[{key:"cancel",value:function(){var e=new ff;return _j(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){ij("OnDisconnect.remove",this._path);var e=new ff;return xj(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){ij("OnDisconnect.set",this._path),JL("OnDisconnect.set",e,this._path,!1);var t=new ff;return xj(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){ij("OnDisconnect.setWithPriority",this._path),JL("OnDisconnect.setWithPriority",e,this._path,!1),tj("OnDisconnect.setWithPriority",t,!1);var n=new ff;return function(e,t,n,r,i){var a=pR(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&RR(e.onDisconnect_,t,a),Cj(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){ij("OnDisconnect.update",this._path),ej("OnDisconnect.update",e,this._path,!1);var t=new ff;return function(e,t,n,r){if(Cf(n))return PO("onDisconnect().update() called with empty data.  Don't do anything."),void Cj(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&qO(n,(function(n,r){var i=pR(r);RR(e.onDisconnect_,CD(t,n),i)})),Cj(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),Kj=function(){function e(t,n,r,i){kr(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return _r(e,[{key:"key",get:function(){return ID(this._path)?null:SD(this._path)}},{key:"ref",get:function(){return new $j(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=NR(this._queryParams),t=UO(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return NR(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Bf(t))instanceof e))return!1;var n=this._repo===t._repo,r=AD(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function Gj(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Qj(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===zD){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==MO)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==LO)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===oR){if(null!=t&&!XL(t)||null!=n&&!XL(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Jc(e.getIndex()instanceof vR||e.getIndex()===yR,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Yj(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var $j=function(e){Sr(n,e);var t=Nr(n);function n(e,r){return kr(this,n),t.call(this,e,r,new ER,!1)}return _r(n,[{key:"parent",get:function(){var e=TD(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Kj),Xj=function(){function e(t,n,r){kr(this,e),this._node=t,this.ref=n,this._index=r}return _r(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new bD(t),r=eF(this.ref,t);return new e(this._node.getChild(n),r,oR)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,eF(n.ref,r),oR))}))}},{key:"hasChild",value:function(e){var t=new bD(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Jj(e,t){return(e=Bf(e))._checkNotDeleted("ref"),void 0!==t?eF(e._root,t):e._root}function Zj(e,t){(e=Bf(e))._checkNotDeleted("refFromURL");var n=Fj(t,e._repo.repoInfo_.nodeAdmin);aj("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||OO("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Jj(e,n.path.toString())}function eF(e,t){var n,r,i,a;return null===wD((e=Bf(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),rj(n,r,i,a)):rj("child","path",t,!1),new $j(e._repo,CD(e._path,t))}function tF(e,t){e=Bf(e),ij("push",e._path),JL("push",t,e._path,!0);var n,r=vj(e._repo),i=Bj(r),a=eF(e,i),o=eF(e,i);return n=null!=t?rF(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function nF(e){return ij("remove",e._path),rF(e,null)}function rF(e,t){e=Bf(e),ij("set",e._path),JL("set",t,e._path,!1);var n=new ff;return wj(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function iF(e,t){e=Bf(e),ij("setPriority",e._path),tj("setPriority",t,!1);var n=new ff;return wj(e._repo,CD(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function aF(e,t,n){if(ij("setWithPriority",e._path),JL("setWithPriority",t,e._path,!1),tj("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new ff;return wj(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function oF(e,t){ej("update",t,e._path,!1);var n=new ff;return function(e,t,n,r){Tj(e,"update",{path:t.toString(),value:n});var i=!0,a=mj(e),o={};if(qO(n,(function(n,r){i=!1,o[n]=RL(CD(t,n),pR(r),e.serverSyncTree_,a)})),i)PO("update() called with empty data.  Don't do anything."),Cj(0,r,"ok",void 0);else{var s=kj(e),u=sL(e.serverSyncTree_,t,o,s);sj(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||DO("update at "+t+" failed: "+n);var o=uL(e.serverSyncTree_,s,!a),u=o.length>0?Aj(e,t):t;lj(e.eventQueue_,u,o),Cj(0,r,n,i)})),qO(n,(function(n){var r=Lj(e,CD(t,n));Aj(e,r)})),lj(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function sF(e){e=Bf(e);var t=new Hj((function(){})),n=new uF(t);return function(e,t,n){var r=pL(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=pR(r).withIndex(t._queryParams.getIndex());if(hL(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=lL(e.serverSyncTree_,t._path,a);else{var o=bL(e.serverSyncTree_,t);i=fL(e.serverSyncTree_,t._path,a,o)}return lj(e.eventQueue_,t._path,i),cL(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return Tj(e,"get for query "+xf(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new Xj(t,new $j(e._repo,e._path),e._queryParams.getIndex())}))}var uF=function(){function e(t){kr(this,e),this.callbackContext=t}return _r(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new qj("value",this,new Xj(e.snapshotNode,new $j(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new zj(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),lF=function(){function e(t,n){kr(this,e),this.eventType=t,this.callbackContext=n}return _r(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new zj(this,e,t):null}},{key:"createEvent",value:function(e,t){Jc(null!=e.childName,"Child events should have a childName.");var n=eF(new $j(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new qj(e.type,this,new Xj(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function cF(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Sj(e._repo,e,l),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Hj(n,a||void 0),l="value"===t?new uF(u):new lF(t,u);return function(e,t,n){var r;r=".info"===wD(t._path)?hL(e.infoSyncTree_,t,n):hL(e.serverSyncTree_,t,n),uj(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return Sj(e._repo,e,l)}}function fF(e,t,n,r){return cF(e,"value",t,n,r)}function hF(e,t,n,r){return cF(e,"child_added",t,n,r)}function dF(e,t,n,r){return cF(e,"child_changed",t,n,r)}function pF(e,t,n,r){return cF(e,"child_moved",t,n,r)}function vF(e,t,n,r){return cF(e,"child_removed",t,n,r)}function mF(e,t,n){var r=null,i=n?new Hj(n):null;"value"===t?r=new uF(i):t&&(r=new lF(t,i)),Sj(e._repo,e,r)}var yF=_r((function e(){kr(this,e)})),gF=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this))._value=e,i._key=r,i}return _r(n,[{key:"_apply",value:function(e){JL("endAt",this._value,e._path,!0);var t=CR(e._queryParams,this._value,this._key);if(Yj(t),Qj(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kj(e._repo,e._path,t,e._orderByCalled)}}]),n}(yF);function bF(e,t){return nj("endAt","key",t,!0),new gF(e,t)}var kF=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this))._value=e,i._key=r,i}return _r(n,[{key:"_apply",value:function(e){JL("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===zD||n?CR(e,t,n):CR(e,t,MO)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Yj(t),Qj(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kj(e._repo,e._path,t,e._orderByCalled)}}]),n}(yF);function wF(e,t){return nj("endBefore","key",t,!0),new kF(e,t)}var _F=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this))._value=e,i._key=r,i}return _r(n,[{key:"_apply",value:function(e){JL("startAt",this._value,e._path,!0);var t=TR(e._queryParams,this._value,this._key);if(Yj(t),Qj(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Kj(e._repo,e._path,t,e._orderByCalled)}}]),n}(yF);function xF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return nj("startAt","key",t,!0),new _F(e,t)}var SF=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this))._value=e,i._key=r,i}return _r(n,[{key:"_apply",value:function(e){JL("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===zD||n?TR(e,t,n):TR(e,t,LO)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Yj(t),Qj(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Kj(e._repo,e._path,t,e._orderByCalled)}}]),n}(yF);function EF(e,t){return nj("startAfter","key",t,!0),new SF(e,t)}var TF=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this))._limit=e,r}return _r(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kj(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(yF);function CF(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new TF(e)}var IF=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this))._limit=e,r}return _r(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kj(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(yF);function PF(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new IF(e)}var NF=function(e){Sr(n,e);var t=Nr(n);function n(e){var r;return kr(this,n),(r=t.call(this))._path=e,r}return _r(n,[{key:"_apply",value:function(e){Gj(e,"orderByChild");var t=new bD(this._path);if(ID(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new vR(t),r=IR(e._queryParams,n);return Qj(r),new Kj(e._repo,e._path,r,!0)}}]),n}(yF);function AF(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rj("orderByChild","path",e,!1),new NF(e)}var OF=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"_apply",value:function(e){Gj(e,"orderByKey");var t=IR(e._queryParams,zD);return Qj(t),new Kj(e._repo,e._path,t,!0)}}]),n}(yF);function DF(){return new OF}var RF=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"_apply",value:function(e){Gj(e,"orderByPriority");var t=IR(e._queryParams,oR);return Qj(t),new Kj(e._repo,e._path,t,!0)}}]),n}(yF);function MF(){return new RF}var LF=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n,[{key:"_apply",value:function(e){Gj(e,"orderByValue");var t=IR(e._queryParams,yR);return Qj(t),new Kj(e._repo,e._path,t,!0)}}]),n}(yF);function jF(){return new LF}var FF=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this))._value=e,i._key=r,i}return _r(n,[{key:"_apply",value:function(e){if(JL("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gF(this._value,this._key)._apply(new _F(this._value,this._key)._apply(e))}}]),n}(yF);function VF(e,t){return nj("equalTo","key",t,!0),new FF(e,t)}function UF(e){for(var t=Bf(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t}!function(e){Jc(!FM,"__referenceConstructor has already been defined"),FM=e}($j),function(e){Jc(!WM,"__referenceConstructor has already been defined"),WM=e}($j);var BF={},qF=!1;function zF(e,t,n,r){e.repoInfo_=new tD("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function HF(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||OO("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),PO("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Fj(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=Fj(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new $O($O.OWNER):new YO(e.name,e.options,t);aj("Invalid Firebase Database URL",s),ID(s.path)||OO("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=BF[t.name];i||(i={},BF[t.name]=i);var a=i[e.toURLString()];a&&OO("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new dj(e,qF,n,r),i[e.toURLString()]=a,a}(u,e,c,new QO(e.name,n));return new WF(f,e)}var WF=function(){function e(t,n){kr(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return _r(e,[{key:"_repo",get:function(){return this._instanceStarted||(pj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new $j(this._repo,kD())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=BF[t];n&&n[e.key]===e||OO("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Ej(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&OO("Cannot call "+e+" on a deleted database.")}}]),e}();function KF(){pD.IS_TRANSPORT_INITIALIZED&&DO("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function GF(){KF(),cD.forceDisallow()}function QF(){KF(),dD.forceDisallow(),cD.forceAllow()}function YF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Bf(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&OO("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&OO('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new $O($O.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:hf(r.mockUserToken,e.app.options.projectId);a=new $O(o)}zF(i,t,n,a)}function $F(e){(e=Bf(e))._checkNotDeleted("goOffline"),Ej(e._repo)}function XF(e){var t;(e=Bf(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(hj)}function JF(e,t){IO(e,t)}var ZF={".sv":"timestamp"};var eV=function(){function e(t,n){kr(this,e),this.committed=t,this.snapshot=n}return _r(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function tV(e,t,n){var r;if(e=Bf(e),ij("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new ff,o=fF(e,(function(){}));return function(e,t,n,r,i,a){Tj(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:xO(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Ij(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ZL("transaction failed: Data returned ",u,o.path),o.status=0;var l,c=FL(e.transactionQueueTree_,t),f=VL(c)||[];f.push(o),UL(c,f),"object"===typeof u&&null!==u&&Ef(u,".priority")?(l=Tf(u,".priority"),Jc(XL(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):l=(dL(e.serverSyncTree_,t)||hR.EMPTY_NODE).getPriority().val();var h=mj(e),d=pR(u,l),p=ML(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=kj(e);var v=oL(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);lj(e.eventQueue_,t,v),Pj(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Xj(r,new $j(e._repo,e._path),oR),a.resolve(new eV(n,i)))}),o,i),a.promise}FD.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},FD.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){mO(Fh),Ah(new Wf("database",(function(e,t){var n=t.instanceIdentifier;return HF(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Hh(dO,pO,e),Hh(dO,pO,"esm2017")}();var nV=new nh("@firebase/database-compat"),rV=function(e){var t="FIREBASE WARNING: "+e;nV.warn(t)},iV=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(jf(e,t)+"must be a boolean.")},aV=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(jf(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},oV=function(){function e(t){kr(this,e),this._delegate=t}return _r(e,[{key:"cancel",value:function(e){Lf("OnDisconnect.cancel",0,1,arguments.length),Ff("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Lf("OnDisconnect.remove",0,1,arguments.length),Ff("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Lf("OnDisconnect.set",1,2,arguments.length),Ff("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Lf("OnDisconnect.setWithPriority",2,3,arguments.length),Ff("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Lf("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,rV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ff("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),sV=function(){function e(t,n){kr(this,e),this.committed=t,this.snapshot=n}return _r(e,[{key:"toJSON",value:function(){return Lf("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),uV=function(){function e(t,n){kr(this,e),this._database=t,this._delegate=n}return _r(e,[{key:"val",value:function(){return Lf("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Lf("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Lf("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Lf("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Lf("DataSnapshot.child",0,1,arguments.length),t=String(t),rj("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Lf("DataSnapshot.hasChild",1,1,arguments.length),rj("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Lf("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Lf("DataSnapshot.forEach",1,1,arguments.length),Ff("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Lf("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Lf("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Lf("DataSnapshot.ref",0,0,arguments.length),new cV(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),lV=function(){function e(t,n){kr(this,e),this.database=t,this._delegate=n}return _r(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Lf("Query.on",2,4,arguments.length),Ff("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new uV(o.database,e),t)};u.userCallback=n,u.context=s.context;var l=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return fF(this._delegate,u,l),n;case"child_added":return hF(this._delegate,u,l),n;case"child_removed":return vF(this._delegate,u,l),n;case"child_changed":return dF(this._delegate,u,l),n;case"child_moved":return pF(this._delegate,u,l),n;default:throw new Error(jf("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Lf("Query.off",0,3,arguments.length),aV("Query.off",e,!0),Ff("Query.off","callback",t,!0),Vf("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,mF(this._delegate,e,r)}else mF(this._delegate,e)}},{key:"get",value:function(){var e=this;return sF(this._delegate).then((function(t){return new uV(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Lf("Query.once",1,4,arguments.length),Ff("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new ff,u=function(e,t){var r=new uV(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var l=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":fF(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":hF(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":vF(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":dF(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":pF(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(jf("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Lf("Query.limitToFirst",1,1,arguments.length),new e(this.database,UF(this._delegate,CF(t)))}},{key:"limitToLast",value:function(t){return Lf("Query.limitToLast",1,1,arguments.length),new e(this.database,UF(this._delegate,PF(t)))}},{key:"orderByChild",value:function(t){return Lf("Query.orderByChild",1,1,arguments.length),new e(this.database,UF(this._delegate,AF(t)))}},{key:"orderByKey",value:function(){return Lf("Query.orderByKey",0,0,arguments.length),new e(this.database,UF(this._delegate,DF()))}},{key:"orderByPriority",value:function(){return Lf("Query.orderByPriority",0,0,arguments.length),new e(this.database,UF(this._delegate,MF()))}},{key:"orderByValue",value:function(){return Lf("Query.orderByValue",0,0,arguments.length),new e(this.database,UF(this._delegate,jF()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Lf("Query.startAt",0,2,arguments.length),new e(this.database,UF(this._delegate,xF(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Lf("Query.startAfter",0,2,arguments.length),new e(this.database,UF(this._delegate,EF(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Lf("Query.endAt",0,2,arguments.length),new e(this.database,UF(this._delegate,bF(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Lf("Query.endBefore",0,2,arguments.length),new e(this.database,UF(this._delegate,wF(t,n)))}},{key:"equalTo",value:function(t,n){return Lf("Query.equalTo",1,2,arguments.length),new e(this.database,UF(this._delegate,VF(t,n)))}},{key:"toString",value:function(){return Lf("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Lf("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Lf("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new cV(this.database,new $j(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Ff(e,"cancel",r.cancel,!0),r.context=n,Vf(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(jf(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),cV=function(e){Sr(n,e);var t=Nr(n);function n(e,r){var i;return kr(this,n),(i=t.call(this,e,new Kj(r._repo,r._path,new ER,!1))).database=e,i._delegate=r,i}return _r(n,[{key:"getKey",value:function(){return Lf("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Lf("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,eF(this._delegate,e))}},{key:"getParent",value:function(){Lf("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Lf("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Lf("Reference.set",1,2,arguments.length),Ff("Reference.set","onComplete",t,!0);var n=rF(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Lf("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,rV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ij("Reference.update",this._delegate._path),Ff("Reference.update","onComplete",t,!0);var i=oF(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Lf("Reference.setWithPriority",2,3,arguments.length),Ff("Reference.setWithPriority","onComplete",n,!0);var r=aF(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Lf("Reference.remove",0,1,arguments.length),Ff("Reference.remove","onComplete",e,!0);var t=nF(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Lf("Reference.transaction",1,3,arguments.length),Ff("Reference.transaction","transactionUpdate",e,!1),Ff("Reference.transaction","onComplete",t,!0),iV("Reference.transaction","applyLocally",n,!0);var i=tV(this._delegate,e,{applyLocally:n}).then((function(e){return new sV(e.committed,new uV(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Lf("Reference.setPriority",1,2,arguments.length),Ff("Reference.setPriority","onComplete",t,!0);var n=iF(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Lf("Reference.push",0,2,arguments.length),Ff("Reference.push","onComplete",t,!0);var i=tF(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return ij("Reference.onDisconnect",this._delegate._path),new oV(new Wj(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(lV),fV=function(){function e(t,n){var r=this;kr(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:GF,forceLongPolling:QF}}return _r(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};YF(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Lf("database.ref",0,1,arguments.length),e instanceof cV){var t=Zj(this._delegate,e.toString());return new cV(this,t)}var n=Jj(this._delegate,e);return new cV(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Lf(t,1,1,arguments.length);var n=Zj(this._delegate,e);return new cV(this,n)}},{key:"goOffline",value:function(){return Lf("database.goOffline",0,0,arguments.length),$F(this._delegate)}},{key:"goOnline",value:function(){return Lf("database.goOnline",0,0,arguments.length),XF(this._delegate)}}]),e}();fV.ServerValue={TIMESTAMP:ZF,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var hV=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;mO(r);var u=new Gf("auth-internal",new $f("database-standalone"));return u.setComponent(new Wf("auth-internal",(function(){return i}),"PRIVATE")),{instance:new fV(HF(t,u,void 0,n,s),t),namespace:a}}}),dV=fV.ServerValue;!function(e){e.INTERNAL.registerComponent(new Wf("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new fV(i,r)}),"PUBLIC").setServiceProps({Reference:cV,Query:lV,Database:fV,DataSnapshot:uV,enableLogging:JF,INTERNAL:hV,ServerValue:dV}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.3")}(pd);pd.initializeApp({apiKey:"AIzaSyBmanUTKh-TRQ2FRS7EZKdw0tL9fz2Y67M",authDomain:"portfolio-d5d1f.firebaseapp.com",projectId:"portfolio-d5d1f",storageBucket:"portfolio-d5d1f.appspot.com",messagingSenderId:"975802359554",appId:"1:975802359554:web:aa4133ef817d1be5ddac1b"});pd.storage();var pV=pd.firestore(),vV=(pd.database(),pd.firestore.FieldValue.serverTimestamp),mV=function(e,n){var r=l((0,t.useState)([]),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){var t=pV.collection(e).orderBy("createdAt","desc").onSnapshot((function(t){var r=[];t.forEach((function(e){r.push(Jn(Jn({},e.data()),{},{id:e.id}))}));var i=[];r=r.filter((function(t){return i.includes(t.name)?(NA(RP(pV,e,t.id)),!1):(i.push(t.name),!0)})),"All"!==n&&(r=r.filter((function(e){return e.tag===n}))),a(r)}));return function(){return t()}}),[e,n]),{docs:i}},yV=n(717),gV=["All","Music Live","Goodwood_2022","London","Southend","San Francisco","Santa Monica","Nagoya and Osaka","798","Music Live","Goodwood_2019","Chicago","Silverstone","Edinburgh","Gundam","Taiwan","Johns Hopkins University","Baltimore","Atlanta","He 77"],bV={className:"slider variable-width",dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,variableWidth:!0,nextArrow:(0,c.jsx)(kV,{}),prevArrow:(0,c.jsx)(wV,{})};function kV(e){var t=e.className,n=e.style,r=e.onClick;return(0,c.jsx)("div",{className:t,style:Jn(Jn({},n),{},{display:"block",margin:"0px -5px",background:"transparent"}),onClick:r})}function wV(e){var t=e.className,n=e.style,r=e.onClick;return(0,c.jsx)("div",{className:t,style:Jn(Jn({},n),{},{display:"block",margin:"0px -5px",background:"transparent"}),onClick:r})}var _V=function(e){var t=e.setCategory;return(0,c.jsx)("div",{className:"filter-container",children:(0,c.jsx)(yV.Z,Jn(Jn({},bV),{},{children:gV.map((function(e){return(0,c.jsx)("button",{onClick:function(){return t(e)},children:e})}))}))})},xV=function(e){var n=e.setSelectedImg,r=l((0,t.useState)("All"),2),i=r[0],a=r[1],o=mV("images",i).docs;return(0,c.jsxs)("div",{children:[(0,c.jsx)(_V,{setCategory:a}),(0,c.jsx)("div",{className:"img-grid",children:o&&o.map((function(e){return(0,c.jsx)(qc.div,{className:"img-wrap",layout:!0,whitehover:{opacity:1},onClick:function(){return n(e.url)},children:(0,c.jsx)(qc.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})]})};var SV=function(){var e=l((0,t.useState)(null),2),n=e[0],r=e[1];return(0,c.jsxs)("div",{className:"Gallery",children:[(0,c.jsx)(Kc,{}),(0,c.jsx)(xV,{setSelectedImg:r}),n&&(0,c.jsx)(zc,{selectedImg:n,setSelectedImg:r})]})};var EV=function(){return(0,c.jsxs)("div",{className:"ProjectTitle",children:[(0,c.jsx)("h2",{children:"My Portfolio"}),(0,c.jsx)("div",{className:"animated-typing",children:(0,c.jsx)(Wc(),{strings:["Hello, Here is a summary of my projects."],typeSpeed:80,backSpeed:40,loop:!0})})]})};function TV(e){var t,n=e.proj;return"#"!==n.source_code_url&&(t=(0,c.jsx)("span",{className:"Code",children:"Source Code"})),(0,c.jsx)("div",{className:"ProjectCard",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsxs)("div",{className:"card--display",children:[(0,c.jsx)("h2",{children:n.name}),(0,c.jsx)("h3",{children:n.short_desc}),(0,c.jsx)("div",{className:"hashtag",children:n.tags.map((function(e){return(0,c.jsx)("span",{children:e})}))})]}),(0,c.jsxs)("div",{className:"card--hover",children:[(0,c.jsx)("h2",{children:n.name}),(0,c.jsx)("p",{children:n.desc}),(0,c.jsxs)("div",{calssName:!0,className:"link",children:[(0,c.jsxs)("span",{className:"click",children:["Click to see project",(0,c.jsx)(Bn,{className:"faicon",icon:Hn})]}),t]})]}),(0,c.jsx)("div",{className:"card--border"})]})})}var CV=JSON.parse('[{"name":"Retinal Fundus Age Estimation","short_desc":"Age Estimation using Retinal Fundus and Segmented Vessel Images with Deep Learning Algorithm","tags":["#Age Estimation","#Deep Learning","#Python"],"desc":"I recently published paper \'Age Estimation using Retinal Fundus and Segmented Vessel Images with Deep Learning Algorithm\' in the ARVO 2023. We use eye scan images to predict patients chronologic age.","source_code_url":"#","coverImage":"/project_images/Age_Estimation.png"},{"name":"Brick Riddle - First Person VR Game","short_desc":"Do you like solving riddles? Do you like building stuff? We got you covered. Welcome to Brick Riddle.","tags":["#VR","#Brick Riddle","#Unity"],"desc":"Welcome to Brick Riddle. In this game, every player could become either a \u201cWord-builder\u201d or a \u201cRiddle Solver\u201d. Want to know more? Check out our following game design.","source_code_url":"#","coverImage":"/project_images/VR_brick_Riddle.png"},{"name":"Real-Time Age Estimation System","short_desc":"\'Real-Time Age Estimation System Based on Convolutional Neural Network\', ICMLCA 2021","tags":["#Age Estimation","#Deep Learning","#Python"],"desc":"I and Huang developed real-time age prediction system using CNN and predict ages from human facial images and we published our paper on ICMLCA","source_code_url":"#","coverImage":"/project_images/Age_App.png"},{"name":"Formula1 In Schools","short_desc":"We build the 8th fastest car in the FIS International Final and won the 2nd place in the National Final ","tags":["#Formula 1","#FIS 2016","#CFR Racing"],"desc":"F1 in Schools is an international STEM challenge to design and manufacture a miniature car out of the official F1 Model Block using CAD/CAM design tools. We won the 2nd place in the National Final","source_code_url":"#","coverImage":"/project_images/F1_In_School.png"},{"name":"COVID Face Mask Detector","short_desc":"Developed an Live-Streaming mask detector for the COVID","tags":["#Deep Learning","#Computer Vision","#Python"],"desc":"Using Caffe-DNN for face detection technologyAnd VGG-16 model for the training on mask/no_mask classifier and OpenCV for live-streaming detector","source_code_url":"#","coverImage":"/project_images/Age_Estimation.png"},{"name":"Empirical Comparison on ML Algorithms","short_desc":"Based on previous ML study, I developed an empirical study on supervised learning algorithms","tags":["#Machine Learning","#Python"],"desc":"It presents a ranking of four supervised learning methods: SVMs, Logistic Regression, Decision Tree, KNN, Gaussian Naive Bayes, bagging classifier. The experiment uses four data sets with different magnitudes as a variety of performance criteria to evaluate the six learning methods","source_code_url":"#","coverImage":"/project_images/Age_Estimation.png"}]');var IV=function(){return(0,c.jsxs)("div",{className:"project",children:[(0,c.jsx)(EV,{}),(0,c.jsx)("div",{className:"project-grid",children:CV.map((function(e){return(0,c.jsx)(TV,{proj:e})}))})]})};var PV=function(){return(0,c.jsx)("div",{className:"NameCard",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"front side",children:(0,c.jsx)("h1",{className:"logo",children:"Yushan Wang"})}),(0,c.jsxs)("div",{class:"back side",children:[(0,c.jsxs)("div",{class:"line-numbers",children:[(0,c.jsx)("div",{children:"1"}),(0,c.jsx)("div",{children:"2"}),(0,c.jsx)("div",{children:"3"}),(0,c.jsx)("div",{children:"4"}),(0,c.jsx)("div",{children:"5"}),(0,c.jsx)("div",{children:"6"}),(0,c.jsx)("div",{children:"7"}),(0,c.jsx)("div",{children:"8"}),(0,c.jsx)("div",{children:"9"})]}),(0,c.jsxs)("code",{children:[(0,c.jsx)("span",{class:"function",children:"let "}),(0,c.jsx)("span",{class:"variable",children:"me"}),(0,c.jsx)("span",{class:"operator",children:"= "}),(0,c.jsx)("span",{class:"operator",children:" { "}),(0,c.jsxs)("div",{class:"indent",children:[" ",(0,c.jsx)("span",{class:"property",children:"name"}),(0,c.jsx)("span",{class:"operator",children:": "}),(0,c.jsx)("span",{class:"string",children:"'Yushan Wang'"}),(0,c.jsx)("span",{children:","})]}),(0,c.jsxs)("div",{class:"indent",children:[" ",(0,c.jsx)("span",{class:"property",children:"title"}),(0,c.jsx)("span",{class:"operator",children:": "}),(0,c.jsx)("span",{class:"string",children:"'Software Engineer'"}),(0,c.jsx)("span",{children:","})]}),(0,c.jsxs)("div",{class:"indent",children:[" ",(0,c.jsx)("span",{class:"property",children:"Code"}),(0,c.jsx)("span",{class:"operator",children:":"}),(0,c.jsx)("span",{class:"operator",children:"["}),(0,c.jsx)("span",{class:"array",children:' "Python" , "JavaScript", "C++", "Matlab", "MySQL"'}),(0,c.jsx)("span",{class:"operator",children:"]"})]}),(0,c.jsxs)("div",{class:"indent",children:[" ",(0,c.jsx)("span",{class:"property",children:"Web"}),(0,c.jsx)("span",{class:"operator",children:": "}),(0,c.jsx)("span",{class:"operator",children:"["}),(0,c.jsx)("span",{class:"array",children:' "React" , "Tailwind", "NextJS", "HTML'}),(0,c.jsx)("span",{class:"array",children:"/"}),(0,c.jsx)("span",{class:"array",children:"css"}),(0,c.jsx)("span",{class:"array",children:"/"}),(0,c.jsx)("span",{class:"array",children:'JS"'}),(0,c.jsx)("span",{class:"operator",children:"]"})]}),(0,c.jsx)("span",{class:"operator",children:"}"})]})]})]})})};var NV=function(){return(0,c.jsxs)("div",{className:"AboutSection",children:[(0,c.jsx)("div",{className:"aboutLeft",children:(0,c.jsx)(PV,{})}),(0,c.jsxs)("div",{className:"aboutRight",children:[(0,c.jsx)("h1",{children:"My Latest"}),(0,c.jsx)("p",{children:"I recently graduated from University College London with Distinction in Master of Science, Computer Graphics, Vision and Imaging."}),(0,c.jsx)("p",{children:"I completed my bachelor degrees at University of California, San Diego with a Double Major in Computer Engineering and Applied Mathematics."}),(0,c.jsx)("p",{children:"I worked in IQIYI as a Data Analyst in 2021. I worked at Jiuyang Media as Software Development Engineer intern during summer 2021, and was doing research with NYU Professor Jean-Claude Franchitti."})]})]})};var AV=function(){return(0,c.jsxs)("div",{className:"coversection",children:[(0,c.jsxs)("div",{className:"leftpage",children:[(0,c.jsxs)("div",{className:"first-row",children:[(0,c.jsx)("span",{children:"Hi, I am"}),(0,c.jsx)("span",{className:"name",children:"YUSHAN WANG"})]}),(0,c.jsxs)("div",{className:"second-row",children:[(0,c.jsx)("div",{className:"title",children:(0,c.jsxs)("a",{href:"me",children:[(0,c.jsx)("span",{id:"title",children:"Software Developer, Researcher, Ametur Writer, Photographer"}),(0,c.jsx)("span",{children:(0,c.jsx)(Bn,{className:"faicon",icon:zn})})]})}),(0,c.jsxs)("div",{className:"institution",children:["Research Fellow - Eye Moorefield Hospital, CGVI - UCL, ",(0,c.jsx)("br",{}),"Computer Engineering - UC San Diego"]})]})]}),(0,c.jsxs)("div",{className:"rightpage",children:[(0,c.jsx)("div",{className:"circle"}),(0,c.jsx)("div",{className:"sendMessage",children:(0,c.jsx)("span",{children:"Send Message"})})]})]})},OV={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]},DV={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},RV={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},MV={prefix:"fab",iconName:"medium",icon:[640,512,[62407,"medium-m"],"f23a","M180.5,74.262C80.813,74.262,0,155.633,0,256S80.819,437.738,180.5,437.738,361,356.373,361,256,280.191,74.262,180.5,74.262Zm288.25,10.646c-49.845,0-90.245,76.619-90.245,171.095s40.406,171.1,90.251,171.1,90.251-76.619,90.251-171.1H559C559,161.5,518.6,84.908,468.752,84.908Zm139.506,17.821c-17.526,0-31.735,68.628-31.735,153.274s14.2,153.274,31.735,153.274S640,340.631,640,256C640,171.351,625.785,102.729,608.258,102.729Z"]};function LV(e){var t=e.icon;return(0,c.jsxs)("div",{className:"layer",children:[(0,c.jsx)("span",{}),(0,c.jsx)("span",{}),(0,c.jsx)("span",{}),(0,c.jsx)("span",{className:"fab",children:(0,c.jsx)(Bn,{className:"faicon",icon:t})})]})}var jV=function(){return(0,c.jsxs)(qc.div,{class:"icons",children:[(0,c.jsxs)("a",{href:"https://github.com/yushan1089",target:"_blank",rel:"noreferrer","aria-label":"Find me on Github",children:[(0,c.jsx)(LV,{icon:RV}),(0,c.jsx)("div",{class:"text",children:" Github @Yushan1089"})]}),(0,c.jsxs)("a",{href:"https://www.linkedin.com/in/yushan1089/",target:"_blank",rel:"noreferrer","aria-label":"Find me on LinkedIn",children:[(0,c.jsx)(LV,{icon:OV}),(0,c.jsx)("div",{class:"text",children:" LinkedIn @Yushan1089 "})]}),(0,c.jsxs)("a",{href:"https://www.instagram.com/yushan9801/?hl=en",target:"_blank",rel:"noreferrer","aria-label":"Find me on Instagram",children:[(0,c.jsx)(LV,{icon:DV}),(0,c.jsx)("div",{class:"text",children:" Instagram @yushan9801 "})]}),(0,c.jsxs)("a",{href:"mailto:yushanwang0816@gmail.com",target:"_blank",rel:"noreferrer","aria-label":"Contact me via Email",children:[(0,c.jsx)(LV,{icon:Wn}),(0,c.jsx)("div",{class:"text",children:"Email: yuw688@126.com "})]}),(0,c.jsxs)("a",{href:"https://medium.com/@wang33he77",target:"_blank",rel:"noreferrer","aria-label":"Find me on Medium",children:[(0,c.jsx)(LV,{icon:MV}),(0,c.jsx)("div",{class:"text",children:" Medium @wang33he77 "})]})]})};function FV(){return(0,c.jsxs)("div",{className:"info-section",children:[(0,c.jsx)(VV,{}),(0,c.jsx)(qc.div,{className:"info-image"})]})}function VV(){var e=l((0,t.useState)(""),2),n=e[0],r=e[1],i=l((0,t.useState)(""),2),a=i[0],o=i[1],s=l((0,t.useState)(""),2),u=s[0],f=s[1],h=l((0,t.useState)(""),2),d=h[0],p=h[1],v=pV.collection("contact");return(0,c.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=vV();""!==n&&""!==a&&""!==d&&v.add({name:n,email:a,subject:u,message:d,createdAt:t}).then((function(){alert("Message has been submitted")})),r(""),o(""),p(""),f("")},action:"./mail.php",method:"POST",children:[(0,c.jsx)("h1",{children:"Get in Touch"}),(0,c.jsxs)("div",{className:"form-first-row",children:[(0,c.jsxs)("div",{className:"form-name",children:[(0,c.jsx)("h2",{children:"Full Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",name:"name",id:"name",placeholder:"Name",value:n,required:!0,onChange:function(e){r(e.target.value)}})]}),(0,c.jsxs)("div",{className:"form-email",children:[(0,c.jsx)("h2",{children:"Email Address"}),(0,c.jsx)("input",{type:"email",className:"form-control",name:"email",id:"email",placeholder:"Email",value:a,required:!0,onChange:function(e){o(e.target.value)}})]})]}),(0,c.jsxs)("div",{className:"form-second-row",children:[(0,c.jsx)("h2",{children:"Subject"}),(0,c.jsx)("input",{type:"text",className:"form-control",name:"subject",id:"subject",placeholder:"Subject",value:u,onChange:function(e){f(e.target.value)}})]}),(0,c.jsxs)("div",{className:"form-third-row",children:[(0,c.jsx)("h2",{children:"Message"}),(0,c.jsx)("textarea",{className:"form-control",name:"message",id:"message",placeholder:"Tell me Anything...",value:d,onChange:function(e){p(e.target.value)}})]}),(0,c.jsx)("div",{className:"form-fourth-row",children:(0,c.jsx)("button",{className:"sendButton",type:"submit",children:"Send Message"})})]})}var UV=function(){return(0,c.jsxs)("div",{className:"Contact",children:[(0,c.jsx)(jV,{}),(0,c.jsx)(FV,{})]})},BV=[];Object.entries(Gn).map((function(e){var t=l(e,2),n=(t[0],t[1]);return BV.push(n)}));var qV=BV.slice(0,2),zV=CV.slice(0,3);function HV(e){var t=e.link,n=e.text;return(0,c.jsx)("div",{children:(0,c.jsxs)("a",{class:"animated-arrow",href:t,children:[(0,c.jsx)("span",{class:"the-arrow -left",children:(0,c.jsx)("span",{class:"shaft"})}),(0,c.jsxs)("span",{class:"main",children:[(0,c.jsx)("span",{class:"text",children:n}),(0,c.jsx)("span",{class:"the-arrow -right",children:(0,c.jsx)("span",{class:"shaft"})})]})]})})}var WV=function(){var e=mV("images","All").docs.sort((function(){return.5-Math.random()})).slice(0,5);return(0,c.jsx)("div",{className:"newsSection",children:(0,c.jsxs)("div",{class:"wrapper",children:[(0,c.jsxs)("div",{className:"news-title",children:[(0,c.jsx)("div",{className:"news-left",children:(0,c.jsx)("h2",{children:(0,c.jsx)("strong",{children:"Latest Posts"})})}),(0,c.jsx)("div",{className:"news-right",children:(0,c.jsx)(HV,{text:"Discover More Blogs",link:"blog"})})]}),(0,c.jsx)("div",{class:"news",children:qV.map((function(e){return(0,c.jsxs)("figure",{class:"article",children:[(0,c.jsx)("img",{src:e.coverImage}),(0,c.jsxs)("figcaption",{children:[(0,c.jsx)("h3",{children:e.name}),(0,c.jsx)("p",{children:e.short_desc.split(".")[0]})]})]})}))}),(0,c.jsxs)("div",{className:"news-title",children:[(0,c.jsx)("div",{className:"news-left",children:(0,c.jsx)("h2",{children:(0,c.jsxs)("strong",{children:["Featured Projects",(0,c.jsx)("span",{children:"( 3 )"})]})})}),(0,c.jsx)("div",{className:"news-right",children:(0,c.jsx)(HV,{text:"My Recent Projects",link:"project"})})]}),(0,c.jsx)("div",{class:"cards",children:zV.map((function(e){return(0,c.jsxs)("figure",{class:"card",children:[(0,c.jsx)("img",{src:e.coverImage}),(0,c.jsx)("figcaption",{children:e.name})]})}))}),(0,c.jsxs)("div",{className:"news-title",children:[(0,c.jsx)("div",{className:"news-left",children:(0,c.jsx)("h2",{children:(0,c.jsx)("strong",{children:"My Gallery"})})}),(0,c.jsx)("div",{className:"news-right",children:(0,c.jsx)(HV,{text:"See my latest Photos",link:"gallery"})})]}),(0,c.jsx)("div",{className:"recent-gallery",children:(0,c.jsx)("div",{className:"gallerySection",children:e.map((function(e){return(0,c.jsx)("img",{src:e.url,alt:"images"})}))})})]})})};var KV=function(){return(0,c.jsxs)("div",{className:"Mainpage",children:[(0,c.jsx)(AV,{}),(0,c.jsx)(NV,{}),(0,c.jsx)(WV,{}),(0,c.jsx)(UV,{})]})};function GV(){return(0,c.jsxs)("div",{children:[(0,c.jsxs)("h1",{children:[(0,c.jsx)("span",{class:"focusing",children:"Brief STORY"}),(0,c.jsx)("span",{class:"the",children:"of"}),(0,c.jsx)("span",{class:"heart",children:"Me, MYSELF & i"})]}),(0,c.jsxs)("article",{children:[(0,c.jsxs)("cite",{children:["Photo by ",(0,c.jsx)("span",{class:"name",children:"Tianshu Wang"})," | Dungeness, UK, June 23, 2022"]}),(0,c.jsxs)("aside",{children:["Besides fancy resume to show off, I deeply like to design cocktail receipes during my free time. My favorite drink has to be ",(0,c.jsx)("br",{}),(0,c.jsx)("span",{class:"name",children:"Gin and Tonic"})]}),(0,c.jsx)("img",{src:"./DSC_7789.jpg",alt:"cover"}),(0,c.jsxs)("main",{children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{class:"dropcap",children:"Latest"}),' My recent paper "Age Prediction from Retinal Fundus Images and Segmented Vessel Images using Deep Learning" is accepted for ARVO 2023.']}),(0,c.jsx)("p",{children:"I am a graduate student in University College London, studying my graduate program in Computer Graphics, Vision and Imaging. I worked as a Research Fellow in Moorfield Eye Hospital during summer 2022. I did my thesis project with Professor Keane Pearse. Later I submit my project to ARVO. My paper is currently under review."}),(0,c.jsx)("p",{children:"I completed my bachelor degrees at University of California, San Diego with a Double Major in Computer Engineering and Applied Mathematics. I graduated in December, 2020. Then I worked in IQIYI as a Data Analyst for the first half of 2021."}),(0,c.jsx)("p",{children:'I worked at Jiuyang Media as Software Development Engineer intern during summer 2021, and was doing research with NYU Professor Jean-Claude Franchitti. Later I also published my first paper"Real-Time Age Estimation using Convolutional Neural Network" in later 2021.'})]}),(0,c.jsxs)("main",{children:[(0,c.jsx)("h2",{children:"2023"}),(0,c.jsx)("h3",{children:"Janurary - New start in Vancouver"}),(0,c.jsx)("p",{children:"Coming up..."}),(0,c.jsx)("h2",{children:"2022"}),(0,c.jsx)("h3",{children:"May - Research Fellowship in Eye Moorfield Hospital"}),(0,c.jsx)("p",{children:"I did my resarch and my thesis project with Professor Keane Pearse and Siegfried Wagner. My research focused on developing deep learning algorithms to extract useful information from Retinal fundus images( Eye Scan Images in Layman term) and Eye Vessel Images."}),(0,c.jsx)("h2",{children:"2021"}),(0,c.jsx)("h3",{children:"September - UCL"}),(0,c.jsxs)("p",{children:["My gradaute program is Msc in Computer Graphics, Vision and Imaging. I graduated with distinction with the following major courses:",(0,c.jsx)("br",{}),"Computer Graphics, Image Processing, Machine Vision, Machine Learning Visual Computing, Inverse Imaging, Numerical Optimization, Virtual Environment and Robot Vision Navigation."]}),(0,c.jsx)("h3",{children:"June - SWE intern"}),(0,c.jsx)("p",{children:"I worked in Jiuyang Media as a Software Engineering Intern. I participated in the development of the Cloud-based Facial Recognition Platform, and developed a classifier model, to achieve facial recognition in extreme conditions. I also developed a program of blurred image processing for the Image Extraction Team."}),(0,c.jsx)("h3",{children:"Feburary - Data Analyst"}),(0,c.jsx)("p",{children:"I worked in IQIYI as a Data Analyst. I developed python script in Jupyter notebook to allow users to access the intl-mirror, IQIYI\u2019s data warehouse, in order to automatically process and analyze the daily user data to provide to the website design team. I used SQL and Excel for analyzing user data collected from the application pingback, aiming to improve the current product marketing tactics."})]})]})]})}var QV,YV=function(){return(0,c.jsx)("div",{className:"AboutPage",children:(0,c.jsx)(GV,{})})},$V=function(e){var t=e.switchTheme,n=e.theme;return(0,c.jsxs)("div",{className:"HeaderWang",children:[(0,c.jsxs)("a",{href:"/",children:[(0,c.jsx)("h1",{children:"YushanWang9801"})," "]}),(0,c.jsxs)("nav",{className:"navbar",children:[(0,c.jsx)("a",{href:"project",children:"Projects"}),(0,c.jsx)("a",{href:"blog",children:"Blogs"}),(0,c.jsx)("a",{href:"gallery",children:"Gallery"}),(0,c.jsx)("a",{href:"me",id:"Me",children:"Me"})]}),(0,c.jsx)("div",{className:"dark_mode",children:(0,c.jsx)("input",{className:"switch",checked:"light"===n,type:"checkbox",id:"darkmode-toggle",onChange:t})})]})},XV=function(){return(0,c.jsx)("div",{className:"footer",children:(0,c.jsx)("div",{className:"row copyright",children:(0,c.jsxs)("div",{className:"col-md-12",children:[(0,c.jsx)("div",{className:"pull-left",children:(0,c.jsx)("middle",{className:"block",children:"\xa9 2023 Yushan Wang. All Rights Reserved."})}),(0,c.jsx)("div",{className:"pull-right",children:(0,c.jsxs)("ul",{className:"footer-icons",children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("div",{className:"tooltip github",children:" Github "}),(0,c.jsx)("a",{href:"https://github.com/yushan1089",target:"_blank",rel:"noreferrer","aria-label":"Find me on Github",children:(0,c.jsx)(Bn,{className:"faicon",icon:RV})})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("div",{className:"tooltip linkedin",children:"LinkedIn "}),(0,c.jsx)("a",{href:"https://www.linkedin.com/in/yushan1089/",target:"_blank",rel:"noreferrer","aria-label":"Find me on LinkedIn",children:(0,c.jsx)(Bn,{className:"faicon",icon:OV})})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("div",{className:"tooltip instagram",children:"Instagram"}),(0,c.jsx)("a",{href:"https://www.instagram.com/yushan9801/?hl=en",target:"_blank",rel:"noreferrer","aria-label":"Find me on Instagram",children:(0,c.jsx)(Bn,{className:"faicon",icon:DV})})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("div",{className:"tooltip email",children:" Email Me "}),(0,c.jsx)("a",{href:"mailto:yushanwang0816@gmail.com",target:"_blank",rel:"noreferrer","aria-label":"Contact me via Email",children:(0,c.jsx)(Bn,{className:"faicon",icon:Wn})})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("div",{className:"tooltip medium",children:" Medium "}),(0,c.jsx)("a",{href:"https://medium.com/@wang33he77",target:"_blank",rel:"noreferrer","aria-label":"Find me on Medium",children:(0,c.jsx)(Bn,{className:"faicon",icon:MV})})]})]})})]})})})};function JV(){return JV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JV.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(QV||(QV={}));var ZV,eU="popstate";function tU(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function nU(e,t){return{usr:e.state,key:e.key,idx:t}}function rU(e,t,n,r){return void 0===n&&(n=null),JV({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?aU(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function iU(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function aU(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function oU(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,l=o.history,c=QV.Pop,f=null,h=d();function d(){return(l.state||{idx:null}).idx}function p(){c=QV.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:c,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:iU(e);return tU(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(JV({},l.state,{idx:h}),""));var m={get action(){return c},get location(){return e(o,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(eU,p),f=e,function(){o.removeEventListener(eU,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=QV.Push;var r=rU(m.location,e,t);n&&n(r,e);var i=nU(r,h=d()+1),a=m.createHref(r);try{l.pushState(i,"",a)}catch(AO){o.location.assign(a)}u&&f&&f({action:c,location:m.location,delta:1})},replace:function(e,t){c=QV.Replace;var r=rU(m.location,e,t);n&&n(r,e);var i=nU(r,h=d()),a=m.createHref(r);l.replaceState(i,"",a),u&&f&&f({action:c,location:m.location,delta:0})},go:function(e){return l.go(e)}};return m}function sU(e,t,n){void 0===n&&(n="/");var r=mU(("string"===typeof t?aU(t):t).pathname||"/",n);if(null==r)return null;var i=uU(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=dU(i[o],vU(r));return a}function uU(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(tU(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=gU([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(tU(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),uU(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:hU(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Hr(lU(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function lU(e){var t=e.split("/");if(0===t.length)return[];var n,r=a(n=t)||Ta(n)||s(n)||u(),i=r[0],o=r.slice(1),l=i.endsWith("?"),c=i.replace(/\?$/,"");if(0===o.length)return l?[c,""]:[c];var f=lU(o.join("/")),h=[];return h.push.apply(h,Ca(f.map((function(e){return""===e?c:[c,e].join("/")})))),l&&h.push.apply(h,Ca(f)),h.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(ZV||(ZV={}));var cU=/^:\w+$/,fU=function(e){return"*"===e};function hU(e,t){var n=e.split("/"),r=n.length;return n.some(fU)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!fU(e)})).reduce((function(e,t){return e+(cU.test(t)?3:""===t?1:10)}),r)}function dU(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=pU({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:gU([i,c.pathname]),pathnameBase:bU(gU([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=gU([i,c.pathnameBase]))}return a}function pU(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);yU("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(AO){return yU(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+AO+")."),e}}(c[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function vU(e){try{return decodeURI(e)}catch(AO){return yU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+AO+")."),e}}function mU(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function yU(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(lB){}}}var gU=function(e){return e.join("/").replace(/\/\/+/g,"/")},bU=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},kU=function(e){Sr(n,e);var t=Nr(n);function n(){return kr(this,n),t.apply(this,arguments)}return _r(n)}(Qc(Error));function wU(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var _U=["post","put","patch","delete"],xU=(new Set(_U),["get"].concat(_U));new Set(xU),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function SU(){return SU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SU.apply(this,arguments)}var EU="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},TU=t.useState,CU=t.useEffect,IU=t.useLayoutEffect,PU=t.useDebugValue;function NU(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!EU(n,r)}catch(AO){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var AU=t.createContext(null);var OU=t.createContext(null);var DU=t.createContext(null);var RU=t.createContext(null);var MU=t.createContext(null);var LU=t.createContext({outlet:null,matches:[]});var jU=t.createContext(null);function FU(){return null!=t.useContext(MU)}function VU(){return FU()||tU(!1),t.useContext(MU).location}function UU(){var e=function(){var e,n=t.useContext(jU),r=KU(qU.UseRouteError),i=GU(qU.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=wU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var BU,qU,zU=function(e){Sr(r,e);var n=Nr(r);function r(e){var t;return kr(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return _r(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(LU.Provider,{value:this.props.routeContext},t.createElement(jU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function HU(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(AU);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(LU.Provider,{value:n},i)}function WU(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||tU(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,l=r?o.route.errorElement||t.createElement(UU,null):null,c=n.concat(i.slice(0,s+1)),f=function(){return t.createElement(HU,{match:o,routeContext:{outlet:e,matches:c}},u?l:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(zU,{location:r.location,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()}),null)}function KU(e){var n=t.useContext(OU);return n||tU(!1),n}function GU(e){var n=function(e){var n=t.useContext(LU);return n||tU(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||tU(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(BU||(BU={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(qU||(qU={}));var QU;function YU(e){tU(!1)}function $U(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?QV.Pop:s,l=e.navigator,c=e.static,f=void 0!==c&&c;FU()&&tU(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:l,static:f}}),[h,l,f]);"string"===typeof o&&(o=aU(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,k=void 0===b?"":b,w=p.state,_=void 0===w?null:w,x=p.key,S=void 0===x?"default":x,E=t.useMemo((function(){var e=mU(m,h);return null==e?null:{pathname:e,search:g,hash:k,state:_,key:S}}),[h,m,g,k,_,S]);return null==E?null:t.createElement(RU.Provider,{value:d},t.createElement(MU.Provider,{children:a,value:{location:E,navigationType:u}}))}function XU(e){var n=e.children,r=e.location,i=t.useContext(AU);return function(e,n){FU()||tU(!1);var r,i=t.useContext(RU).navigator,a=t.useContext(OU),o=t.useContext(LU).matches,s=o[o.length-1],u=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,VU());if(n){var f,h="string"===typeof n?aU(n):n;"/"===l||(null==(f=h.pathname)?void 0:f.startsWith(l))||tU(!1),r=h}else r=c;var d=r.pathname||"/",p=sU(e,{pathname:"/"===l?d:d.slice(l.length)||"/"}),v=WU(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:gU([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:gU([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?t.createElement(MU.Provider,{value:{location:SU({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:QV.Pop}},v):v}(i&&!n?i.router.routes:ZU(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(QU||(QU={}));var JU=new Promise((function(){}));t.Component;function ZU(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==YU&&tU(!1),e.props.index&&e.props.children&&tU(!1);var a=[].concat(Ca(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=ZU(e.props.children,a)),r.push(o)}else r.push.apply(r,ZU(e.props.children,n))})),r}function eB(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),oU((function(e,t){var n=e.location;return rU("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:iU(t)}),null,n)));var s=o.current,u=l(t.useState({action:s.action,location:s.location}),2),c=u[0],f=u[1];return t.useLayoutEffect((function(){return s.listen(f)}),[s]),t.createElement($U,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var tB,nB;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(tB||(tB={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(nB||(nB={}));var rB=n(564),iB=n.n(rB);var aB=function(e){for(var t=e.blog,n=mV("project-images",t.tag).docs,r=n,i=[],a=0,o=0;o<t.content.length;o++)"title"===t.content[o].type?i.push((0,c.jsx)("h3",{children:t.content[o].content})):"text"===t.content[o].type?i.push((0,c.jsx)("p",{children:t.content[o].content})):"image"===t.content[o].type?a<r.length&&(i.push((0,c.jsx)("div",{className:"article-image",children:(0,c.jsx)("img",{src:n[a].url})})),a++):"subtitle"===t.content[o].type&&i.push((0,c.jsx)("h4",{children:t.content[o].content}));return(0,c.jsx)("div",{className:"SingleBlog",children:(0,c.jsx)("main",{children:(0,c.jsxs)("section",{children:[(0,c.jsx)("img",{src:"".concat(t.coverImage),alt:t.imgalt}),(0,c.jsx)("h2",{children:t.title}),(0,c.jsx)("div",{class:"h1-divider"}),(0,c.jsx)("article",{children:i})]})})})};var oB=function(e){for(var t=e.blog,n=mV("project-images",t.tag).docs,r=[],i=1;i<t.content.length;i++)n&&i<n.length&&r.push((0,c.jsx)(qc.img,{src:n[i].url,alt:t.imgalt,initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})),r.push((0,c.jsx)("div",{class:"multicol",children:(0,c.jsx)("p",{children:t.content[i].content})}));return(0,c.jsx)("div",{className:"SingleArticle",children:(0,c.jsx)("main",{children:(0,c.jsxs)("article",{children:[(0,c.jsx)("header",{children:(0,c.jsx)("img",{src:"".concat(t.coverImage),alt:t.imgalt})}),(0,c.jsxs)("div",{class:"multicol",children:[(0,c.jsx)("h1",{children:t.name}),(0,c.jsx)("h2",{children:t.title}),(0,c.jsx)("p",{children:t.content[0].content})]}),r,(0,c.jsx)("div",{class:"multicol",children:(0,c.jsxs)("p",{class:"credits",children:["Text by ",(0,c.jsx)("a",{href:"me",children:"Yushan Wang"}),(0,c.jsx)("br",{}),"Written in ",(0,c.jsx)("a",{children:t.date})]})})]})})})};var sB=function(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches,n=l(iB()("theme",e?"dark":"light"),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){document.documentElement.setAttribute("data-theme",r)}),[r]),(0,c.jsxs)("div",{className:"App",children:[(0,c.jsx)($V,{switchTheme:function(){i("light"===r?"dark":"light")},theme:r}),(0,c.jsx)(eB,{basename:"/",children:(0,c.jsxs)(XU,{children:[(0,c.jsx)(YU,{path:"/project",element:(0,c.jsx)(IV,{})}),(0,c.jsx)(YU,{path:"/blog",element:(0,c.jsx)(Yn,{})}),(0,c.jsx)(YU,{path:"/gallery",element:(0,c.jsx)(SV,{})}),(0,c.jsx)(YU,{path:"/me",element:(0,c.jsx)(YV,{})}),(0,c.jsx)(YU,{path:"/test",element:(0,c.jsx)(aB,{blog:Gn.VR_system})}),Object.entries(Gn).map((function(e){var t=l(e,2),n=t[0],r=t[1];return"article"===r.type?(0,c.jsx)(YU,{path:"/".concat(n),element:(0,c.jsx)(oB,{blog:r})}):(0,c.jsx)(YU,{path:"/".concat(n),element:(0,c.jsx)(aB,{blog:r})})})),(0,c.jsx)(YU,{path:"/",element:(0,c.jsx)(KV,{})})]})}),(0,c.jsx)(XV,{})]})},uB=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,c.jsx)(t.StrictMode,{children:(0,c.jsx)(sB,{})})),uB()}()}();
//# sourceMappingURL=main.c394e13d.js.map